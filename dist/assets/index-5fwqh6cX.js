var kR=Object.defineProperty;var PR=(t,e,n)=>e in t?kR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Lh=(t,e,n)=>PR(t,typeof e!="symbol"?e+"":e,n);function NR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ld(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jE={exports:{}},ud={},$E={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),OR=Symbol.for("react.portal"),DR=Symbol.for("react.fragment"),LR=Symbol.for("react.strict_mode"),MR=Symbol.for("react.profiler"),FR=Symbol.for("react.provider"),VR=Symbol.for("react.context"),jR=Symbol.for("react.forward_ref"),$R=Symbol.for("react.suspense"),UR=Symbol.for("react.memo"),BR=Symbol.for("react.lazy"),ry=Symbol.iterator;function zR(t){return t===null||typeof t!="object"?null:(t=ry&&t[ry]||t["@@iterator"],typeof t=="function"?t:null)}var UE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BE=Object.assign,zE={};function lo(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||UE}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WE(){}WE.prototype=lo.prototype;function x_(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||UE}var I_=x_.prototype=new WE;I_.constructor=x_;BE(I_,lo.prototype);I_.isPureReactComponent=!0;var iy=Array.isArray,qE=Object.prototype.hasOwnProperty,A_={current:null},KE={key:!0,ref:!0,__self:!0,__source:!0};function HE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qE.call(e,r)&&!KE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cl,type:t,key:s,ref:o,props:i,_owner:A_.current}}function WR(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function R_(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function qR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sy=/\/+/g;function Mh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qR(""+t.key):e.toString(36)}function Fu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cl:case OR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Mh(o,0):r,iy(i)?(n="",t!=null&&(n=t.replace(sy,"$&/")+"/"),Fu(i,e,n,"",function(c){return c})):i!=null&&(R_(i)&&(i=WR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",iy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Mh(s,a);o+=Fu(s,e,n,l,i)}else if(l=zR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Mh(s,a++),o+=Fu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tu(t,e,n){if(t==null)return t;var r=[],i=0;return Fu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function KR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},Vu={transition:null},HR={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Vu,ReactCurrentOwner:A_};function GE(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:tu,forEach:function(t,e,n){tu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tu(t,function(){e++}),e},toArray:function(t){return tu(t,function(e){return e})||[]},only:function(t){if(!R_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=lo;ae.Fragment=DR;ae.Profiler=MR;ae.PureComponent=x_;ae.StrictMode=LR;ae.Suspense=$R;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HR;ae.act=GE;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=A_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qE.call(e,l)&&!KE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cl,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:VR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FR,_context:t},t.Consumer=t};ae.createElement=HE;ae.createFactory=function(t){var e=HE.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:jR,render:t}};ae.isValidElement=R_;ae.lazy=function(t){return{$$typeof:BR,_payload:{_status:-1,_result:t},_init:KR}};ae.memo=function(t,e){return{$$typeof:UR,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Vu.transition;Vu.transition={};try{t()}finally{Vu.transition=e}};ae.unstable_act=GE;ae.useCallback=function(t,e){return xt.current.useCallback(t,e)};ae.useContext=function(t){return xt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return xt.current.useEffect(t,e)};ae.useId=function(){return xt.current.useId()};ae.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return xt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};ae.useRef=function(t){return xt.current.useRef(t)};ae.useState=function(t){return xt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return xt.current.useTransition()};ae.version="18.3.1";$E.exports=ae;var v=$E.exports;const Tn=ld(v),cd=NR({__proto__:null,default:Tn},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR=v,QR=Symbol.for("react.element"),XR=Symbol.for("react.fragment"),YR=Object.prototype.hasOwnProperty,JR=GR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZR={key:!0,ref:!0,__self:!0,__source:!0};function QE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YR.call(e,r)&&!ZR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QR,type:t,key:s,ref:o,props:i,_owner:JR.current}}ud.Fragment=XR;ud.jsx=QE;ud.jsxs=QE;jE.exports=ud;var C=jE.exports,Qf={},XE={exports:{}},Kt={},YE={exports:{}},JE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,j){var W=M.length;M.push(j);e:for(;0<W;){var re=W-1>>>1,ee=M[re];if(0<i(ee,j))M[re]=j,M[W]=ee,W=re;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var j=M[0],W=M.pop();if(W!==j){M[0]=W;e:for(var re=0,ee=M.length,_e=ee>>>1;re<_e;){var Se=2*(re+1)-1,Fe=M[Se],ke=Se+1,Ce=M[ke];if(0>i(Fe,W))ke<ee&&0>i(Ce,Fe)?(M[re]=Ce,M[ke]=W,re=ke):(M[re]=Fe,M[Se]=W,re=Se);else if(ke<ee&&0>i(Ce,W))M[re]=Ce,M[ke]=W,re=ke;else break e}}return j}function i(M,j){var W=M.sortIndex-j.sortIndex;return W!==0?W:M.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,E=!1,A=!1,R=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(M){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=M)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function k(M){if(R=!1,T(M),!A)if(n(l)!==null)A=!0,H(L);else{var j=n(c);j!==null&&Z(k,j.startTime-M)}}function L(M,j){A=!1,R&&(R=!1,m(y),y=-1),E=!0;var W=f;try{for(T(j),h=n(l);h!==null&&(!(h.expirationTime>j)||M&&!b());){var re=h.callback;if(typeof re=="function"){h.callback=null,f=h.priorityLevel;var ee=re(h.expirationTime<=j);j=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(l)&&r(l),T(j)}else r(l);h=n(l)}if(h!==null)var _e=!0;else{var Se=n(c);Se!==null&&Z(k,Se.startTime-j),_e=!1}return _e}finally{h=null,f=W,E=!1}}var N=!1,S=null,y=-1,I=5,p=-1;function b(){return!(t.unstable_now()-p<I)}function P(){if(S!==null){var M=t.unstable_now();p=M;var j=!0;try{j=S(!0,M)}finally{j?O():(N=!1,S=null)}}else N=!1}var O;if(typeof _=="function")O=function(){_(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=P,O=function(){Y.postMessage(null)}}else O=function(){w(P,0)};function H(M){S=M,N||(N=!0,O())}function Z(M,j){y=w(function(){M(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){A||E||(A=!0,H(L))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var W=f;f=j;try{return M()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,j){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=f;f=M;try{return j()}finally{f=W}},t.unstable_scheduleCallback=function(M,j,W){var re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,M){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=W+ee,M={id:d++,callback:j,priorityLevel:M,startTime:W,expirationTime:ee,sortIndex:-1},W>re?(M.sortIndex=W,e(c,M),n(l)===null&&M===n(c)&&(R?(m(y),y=-1):R=!0,Z(k,W-re))):(M.sortIndex=ee,e(l,M),A||E||(A=!0,H(L))),M},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(M){var j=f;return function(){var W=f;f=j;try{return M.apply(this,arguments)}finally{f=W}}}})(JE);YE.exports=JE;var eb=YE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb=v,qt=eb;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZE=new Set,Ia={};function Bi(t,e){Bs(t,e),Bs(t+"Capture",e)}function Bs(t,e){for(Ia[t]=e,t=0;t<e.length;t++)ZE.add(e[t])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=Object.prototype.hasOwnProperty,nb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oy={},ay={};function rb(t){return Xf.call(ay,t)?!0:Xf.call(oy,t)?!1:nb.test(t)?ay[t]=!0:(oy[t]=!0,!1)}function ib(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sb(t,e,n,r){if(e===null||typeof e>"u"||ib(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var b_=/[\-:]([a-z])/g;function k_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(b_,k_);ot[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(b_,k_);ot[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(b_,k_);ot[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function P_(t,e,n,r){var i=ot.hasOwnProperty(e)?ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sb(e,n,i,r)&&(n=null),r||i===null?rb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hr=tb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nu=Symbol.for("react.element"),ps=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),N_=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),e1=Symbol.for("react.provider"),t1=Symbol.for("react.context"),O_=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),D_=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),n1=Symbol.for("react.offscreen"),ly=Symbol.iterator;function Uo(t){return t===null||typeof t!="object"?null:(t=ly&&t[ly]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Fh;function ea(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||""}return`
`+Fh+t}var Vh=!1;function jh(t,e){if(!t||Vh)return"";Vh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ea(t):""}function ob(t){switch(t.tag){case 5:return ea(t.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return t=jh(t.type,!1),t;case 11:return t=jh(t.type.render,!1),t;case 1:return t=jh(t.type,!0),t;default:return""}}function ep(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _s:return"Fragment";case ps:return"Portal";case Yf:return"Profiler";case N_:return"StrictMode";case Jf:return"Suspense";case Zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case t1:return(t.displayName||"Context")+".Consumer";case e1:return(t._context.displayName||"Context")+".Provider";case O_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D_:return e=t.displayName||null,e!==null?e:ep(t.type)||"Memo";case Cr:e=t._payload,t=t._init;try{return ep(t(e))}catch{}}return null}function ab(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ep(e);case 8:return e===N_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lb(t){var e=r1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ru(t){t._valueTracker||(t._valueTracker=lb(t))}function i1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=r1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tp(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function s1(t,e){e=e.checked,e!=null&&P_(t,"checked",e,!1)}function np(t,e){s1(t,e);var n=Jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rp(t,e.type,n):e.hasOwnProperty("defaultValue")&&rp(t,e.type,Jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rp(t,e,n){(e!=="number"||ac(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ta=Array.isArray;function bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ip(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ta(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jr(n)}}function o1(t,e){var n=Jr(e.value),r=Jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function a1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?a1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var iu,l1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Aa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ub=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(t){ub.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),da[e]=da[t]})});function u1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||da.hasOwnProperty(t)&&da[t]?(""+e).trim():e+"px"}function c1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=u1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cb=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function op(t,e){if(e){if(cb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function ap(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lp=null;function L_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var up=null,ks=null,Ps=null;function fy(t){if(t=fl(t)){if(typeof up!="function")throw Error(z(280));var e=t.stateNode;e&&(e=_d(e),up(t.stateNode,t.type,e))}}function d1(t){ks?Ps?Ps.push(t):Ps=[t]:ks=t}function h1(){if(ks){var t=ks,e=Ps;if(Ps=ks=null,fy(t),e)for(t=0;t<e.length;t++)fy(e[t])}}function f1(t,e){return t(e)}function p1(){}var $h=!1;function _1(t,e,n){if($h)return t(e,n);$h=!0;try{return f1(t,e,n)}finally{$h=!1,(ks!==null||Ps!==null)&&(p1(),h1())}}function Ra(t,e){var n=t.stateNode;if(n===null)return null;var r=_d(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var cp=!1;if(tr)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){cp=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{cp=!1}function db(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ha=!1,lc=null,uc=!1,dp=null,hb={onError:function(t){ha=!0,lc=t}};function fb(t,e,n,r,i,s,o,a,l){ha=!1,lc=null,db.apply(hb,arguments)}function pb(t,e,n,r,i,s,o,a,l){if(fb.apply(this,arguments),ha){if(ha){var c=lc;ha=!1,lc=null}else throw Error(z(198));uc||(uc=!0,dp=c)}}function zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function m1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function py(t){if(zi(t)!==t)throw Error(z(188))}function _b(t){var e=t.alternate;if(!e){if(e=zi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return py(i),t;if(s===r)return py(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function g1(t){return t=_b(t),t!==null?v1(t):null}function v1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v1(t);if(e!==null)return e;t=t.sibling}return null}var y1=qt.unstable_scheduleCallback,_y=qt.unstable_cancelCallback,mb=qt.unstable_shouldYield,gb=qt.unstable_requestPaint,Le=qt.unstable_now,vb=qt.unstable_getCurrentPriorityLevel,M_=qt.unstable_ImmediatePriority,w1=qt.unstable_UserBlockingPriority,cc=qt.unstable_NormalPriority,yb=qt.unstable_LowPriority,E1=qt.unstable_IdlePriority,dd=null,In=null;function wb(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(dd,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Sb,Eb=Math.log,Tb=Math.LN2;function Sb(t){return t>>>=0,t===0?32:31-(Eb(t)/Tb|0)|0}var su=64,ou=4194304;function na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=na(a):(s&=o,s!==0&&(r=na(s)))}else o=n&~i,o!==0?r=na(o):s!==0&&(r=na(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cn(e),i=1<<n,r|=t[n],e&=~i;return r}function Cb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Cb(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function hp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T1(){var t=su;return su<<=1,!(su&4194240)&&(su=64),t}function Uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cn(e),t[e]=n}function Ib(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function F_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var me=0;function S1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var C1,V_,x1,I1,A1,fp=!1,au=[],Fr=null,Vr=null,jr=null,ba=new Map,ka=new Map,Ir=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(t,e){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(e.pointerId)}}function zo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fl(e),e!==null&&V_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Rb(t,e,n,r,i){switch(e){case"focusin":return Fr=zo(Fr,t,e,n,r,i),!0;case"dragenter":return Vr=zo(Vr,t,e,n,r,i),!0;case"mouseover":return jr=zo(jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ba.set(s,zo(ba.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ka.set(s,zo(ka.get(s)||null,t,e,n,r,i)),!0}return!1}function R1(t){var e=Si(t.target);if(e!==null){var n=zi(e);if(n!==null){if(e=n.tag,e===13){if(e=m1(n),e!==null){t.blockedOn=e,A1(t.priority,function(){x1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lp=r,n.target.dispatchEvent(r),lp=null}else return e=fl(n),e!==null&&V_(e),t.blockedOn=n,!1;e.shift()}return!0}function gy(t,e,n){ju(t)&&n.delete(e)}function bb(){fp=!1,Fr!==null&&ju(Fr)&&(Fr=null),Vr!==null&&ju(Vr)&&(Vr=null),jr!==null&&ju(jr)&&(jr=null),ba.forEach(gy),ka.forEach(gy)}function Wo(t,e){t.blockedOn===e&&(t.blockedOn=null,fp||(fp=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,bb)))}function Pa(t){function e(i){return Wo(i,t)}if(0<au.length){Wo(au[0],t);for(var n=1;n<au.length;n++){var r=au[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fr!==null&&Wo(Fr,t),Vr!==null&&Wo(Vr,t),jr!==null&&Wo(jr,t),ba.forEach(e),ka.forEach(e),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)R1(n),n.blockedOn===null&&Ir.shift()}var Ns=hr.ReactCurrentBatchConfig,hc=!0;function kb(t,e,n,r){var i=me,s=Ns.transition;Ns.transition=null;try{me=1,j_(t,e,n,r)}finally{me=i,Ns.transition=s}}function Pb(t,e,n,r){var i=me,s=Ns.transition;Ns.transition=null;try{me=4,j_(t,e,n,r)}finally{me=i,Ns.transition=s}}function j_(t,e,n,r){if(hc){var i=pp(t,e,n,r);if(i===null)Yh(t,e,r,fc,n),my(t,r);else if(Rb(i,t,e,n,r))r.stopPropagation();else if(my(t,r),e&4&&-1<Ab.indexOf(t)){for(;i!==null;){var s=fl(i);if(s!==null&&C1(s),s=pp(t,e,n,r),s===null&&Yh(t,e,r,fc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yh(t,e,r,null,n)}}var fc=null;function pp(t,e,n,r){if(fc=null,t=L_(r),t=Si(t),t!==null)if(e=zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=m1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fc=t,null}function b1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vb()){case M_:return 1;case w1:return 4;case cc:case yb:return 16;case E1:return 536870912;default:return 16}default:return 16}}var Nr=null,$_=null,$u=null;function k1(){if($u)return $u;var t,e=$_,n=e.length,r,i="value"in Nr?Nr.value:Nr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $u=i.slice(t,1<r?1-r:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lu(){return!0}function vy(){return!1}function Ht(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lu:vy,this.isPropagationStopped=vy,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),e}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U_=Ht(uo),hl=Re({},uo,{view:0,detail:0}),Nb=Ht(hl),Bh,zh,qo,hd=Re({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qo&&(qo&&t.type==="mousemove"?(Bh=t.screenX-qo.screenX,zh=t.screenY-qo.screenY):zh=Bh=0,qo=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:zh}}),yy=Ht(hd),Ob=Re({},hd,{dataTransfer:0}),Db=Ht(Ob),Lb=Re({},hl,{relatedTarget:0}),Wh=Ht(Lb),Mb=Re({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),Fb=Ht(Mb),Vb=Re({},uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jb=Ht(Vb),$b=Re({},uo,{data:0}),wy=Ht($b),Ub={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zb[t])?!!e[t]:!1}function B_(){return Wb}var qb=Re({},hl,{key:function(t){if(t.key){var e=Ub[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B_,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kb=Ht(qb),Hb=Re({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ey=Ht(Hb),Gb=Re({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B_}),Qb=Ht(Gb),Xb=Re({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yb=Ht(Xb),Jb=Re({},hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zb=Ht(Jb),ek=[9,13,27,32],z_=tr&&"CompositionEvent"in window,fa=null;tr&&"documentMode"in document&&(fa=document.documentMode);var tk=tr&&"TextEvent"in window&&!fa,P1=tr&&(!z_||fa&&8<fa&&11>=fa),Ty=" ",Sy=!1;function N1(t,e){switch(t){case"keyup":return ek.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function nk(t,e){switch(t){case"compositionend":return O1(e);case"keypress":return e.which!==32?null:(Sy=!0,Ty);case"textInput":return t=e.data,t===Ty&&Sy?null:t;default:return null}}function rk(t,e){if(ms)return t==="compositionend"||!z_&&N1(t,e)?(t=k1(),$u=$_=Nr=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P1&&e.locale!=="ko"?null:e.data;default:return null}}var ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ik[t.type]:e==="textarea"}function D1(t,e,n,r){d1(r),e=pc(e,"onChange"),0<e.length&&(n=new U_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pa=null,Na=null;function sk(t){q1(t,0)}function fd(t){var e=ys(t);if(i1(e))return t}function ok(t,e){if(t==="change")return e}var L1=!1;if(tr){var qh;if(tr){var Kh="oninput"in document;if(!Kh){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),Kh=typeof xy.oninput=="function"}qh=Kh}else qh=!1;L1=qh&&(!document.documentMode||9<document.documentMode)}function Iy(){pa&&(pa.detachEvent("onpropertychange",M1),Na=pa=null)}function M1(t){if(t.propertyName==="value"&&fd(Na)){var e=[];D1(e,Na,t,L_(t)),_1(sk,e)}}function ak(t,e,n){t==="focusin"?(Iy(),pa=e,Na=n,pa.attachEvent("onpropertychange",M1)):t==="focusout"&&Iy()}function lk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fd(Na)}function uk(t,e){if(t==="click")return fd(e)}function ck(t,e){if(t==="input"||t==="change")return fd(e)}function dk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:dk;function Oa(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xf.call(e,i)||!fn(t[i],e[i]))return!1}return!0}function Ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ry(t,e){var n=Ay(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ay(n)}}function F1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V1(){for(var t=window,e=ac();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ac(t.document)}return e}function W_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hk(t){var e=V1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&F1(n.ownerDocument.documentElement,n)){if(r!==null&&W_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ry(n,s);var o=Ry(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fk=tr&&"documentMode"in document&&11>=document.documentMode,gs=null,_p=null,_a=null,mp=!1;function by(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mp||gs==null||gs!==ac(r)||(r=gs,"selectionStart"in r&&W_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_a&&Oa(_a,r)||(_a=r,r=pc(_p,"onSelect"),0<r.length&&(e=new U_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gs)))}function uu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vs={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},Hh={},j1={};tr&&(j1=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function pd(t){if(Hh[t])return Hh[t];if(!vs[t])return t;var e=vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in j1)return Hh[t]=e[n];return t}var $1=pd("animationend"),U1=pd("animationiteration"),B1=pd("animationstart"),z1=pd("transitionend"),W1=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){W1.set(t,e),Bi(e,[t])}for(var Gh=0;Gh<ky.length;Gh++){var Qh=ky[Gh],pk=Qh.toLowerCase(),_k=Qh[0].toUpperCase()+Qh.slice(1);si(pk,"on"+_k)}si($1,"onAnimationEnd");si(U1,"onAnimationIteration");si(B1,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(z1,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function Py(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pb(r,e,void 0,t),t.currentTarget=null}function q1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Py(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Py(i,a,c),s=l}}}if(uc)throw t=dp,uc=!1,dp=null,t}function Ee(t,e){var n=e[Ep];n===void 0&&(n=e[Ep]=new Set);var r=t+"__bubble";n.has(r)||(K1(e,t,2,!1),n.add(r))}function Xh(t,e,n){var r=0;e&&(r|=4),K1(n,t,r,e)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Da(t){if(!t[cu]){t[cu]=!0,ZE.forEach(function(n){n!=="selectionchange"&&(mk.has(n)||Xh(n,!1,t),Xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cu]||(e[cu]=!0,Xh("selectionchange",!1,e))}}function K1(t,e,n,r){switch(b1(e)){case 1:var i=kb;break;case 4:i=Pb;break;default:i=j_}n=i.bind(null,e,n,t),i=void 0,!cp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Si(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_1(function(){var c=s,d=L_(n),h=[];e:{var f=W1.get(t);if(f!==void 0){var E=U_,A=t;switch(t){case"keypress":if(Uu(n)===0)break e;case"keydown":case"keyup":E=Kb;break;case"focusin":A="focus",E=Wh;break;case"focusout":A="blur",E=Wh;break;case"beforeblur":case"afterblur":E=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Qb;break;case $1:case U1:case B1:E=Fb;break;case z1:E=Yb;break;case"scroll":E=Nb;break;case"wheel":E=Zb;break;case"copy":case"cut":case"paste":E=jb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Ey}var R=(e&4)!==0,w=!R&&t==="scroll",m=R?f!==null?f+"Capture":null:f;R=[];for(var _=c,T;_!==null;){T=_;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,m!==null&&(k=Ra(_,m),k!=null&&R.push(La(_,k,T)))),w)break;_=_.return}0<R.length&&(f=new E(f,A,null,n,d),h.push({event:f,listeners:R}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",f&&n!==lp&&(A=n.relatedTarget||n.fromElement)&&(Si(A)||A[nr]))break e;if((E||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,E?(A=n.relatedTarget||n.toElement,E=c,A=A?Si(A):null,A!==null&&(w=zi(A),A!==w||A.tag!==5&&A.tag!==6)&&(A=null)):(E=null,A=c),E!==A)){if(R=yy,k="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(R=Ey,k="onPointerLeave",m="onPointerEnter",_="pointer"),w=E==null?f:ys(E),T=A==null?f:ys(A),f=new R(k,_+"leave",E,n,d),f.target=w,f.relatedTarget=T,k=null,Si(d)===c&&(R=new R(m,_+"enter",A,n,d),R.target=T,R.relatedTarget=w,k=R),w=k,E&&A)t:{for(R=E,m=A,_=0,T=R;T;T=ns(T))_++;for(T=0,k=m;k;k=ns(k))T++;for(;0<_-T;)R=ns(R),_--;for(;0<T-_;)m=ns(m),T--;for(;_--;){if(R===m||m!==null&&R===m.alternate)break t;R=ns(R),m=ns(m)}R=null}else R=null;E!==null&&Ny(h,f,E,R,!1),A!==null&&w!==null&&Ny(h,w,A,R,!0)}}e:{if(f=c?ys(c):window,E=f.nodeName&&f.nodeName.toLowerCase(),E==="select"||E==="input"&&f.type==="file")var L=ok;else if(Cy(f))if(L1)L=ck;else{L=lk;var N=ak}else(E=f.nodeName)&&E.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(L=uk);if(L&&(L=L(t,c))){D1(h,L,n,d);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&rp(f,"number",f.value)}switch(N=c?ys(c):window,t){case"focusin":(Cy(N)||N.contentEditable==="true")&&(gs=N,_p=c,_a=null);break;case"focusout":_a=_p=gs=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,by(h,n,d);break;case"selectionchange":if(fk)break;case"keydown":case"keyup":by(h,n,d)}var S;if(z_)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ms?N1(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(P1&&n.locale!=="ko"&&(ms||y!=="onCompositionStart"?y==="onCompositionEnd"&&ms&&(S=k1()):(Nr=d,$_="value"in Nr?Nr.value:Nr.textContent,ms=!0)),N=pc(c,y),0<N.length&&(y=new wy(y,t,null,n,d),h.push({event:y,listeners:N}),S?y.data=S:(S=O1(n),S!==null&&(y.data=S)))),(S=tk?nk(t,n):rk(t,n))&&(c=pc(c,"onBeforeInput"),0<c.length&&(d=new wy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}q1(h,e)})}function La(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ra(t,n),s!=null&&r.unshift(La(t,s,i)),s=Ra(t,e),s!=null&&r.push(La(t,s,i))),t=t.return}return r}function ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ny(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ra(n,s),l!=null&&o.unshift(La(n,l,a))):i||(l=Ra(n,s),l!=null&&o.push(La(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gk=/\r\n?/g,vk=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(gk,`
`).replace(vk,"")}function du(t,e,n){if(e=Oy(e),Oy(t)!==e&&n)throw Error(z(425))}function _c(){}var gp=null,vp=null;function yp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wp=typeof setTimeout=="function"?setTimeout:void 0,yk=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,wk=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(t){return Dy.resolve(null).then(t).catch(Ek)}:wp;function Ek(t){setTimeout(function(){throw t})}function Jh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pa(e)}function $r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ly(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),Sn="__reactFiber$"+co,Ma="__reactProps$"+co,nr="__reactContainer$"+co,Ep="__reactEvents$"+co,Tk="__reactListeners$"+co,Sk="__reactHandles$"+co;function Si(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nr]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ly(t);t!==null;){if(n=t[Sn])return n;t=Ly(t)}return e}t=n,n=t.parentNode}return null}function fl(t){return t=t[Sn]||t[nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function _d(t){return t[Ma]||null}var Tp=[],ws=-1;function oi(t){return{current:t}}function Te(t){0>ws||(t.current=Tp[ws],Tp[ws]=null,ws--)}function ye(t,e){ws++,Tp[ws]=t.current,t.current=e}var Zr={},mt=oi(Zr),Pt=oi(!1),ki=Zr;function zs(t,e){var n=t.type.contextTypes;if(!n)return Zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nt(t){return t=t.childContextTypes,t!=null}function mc(){Te(Pt),Te(mt)}function My(t,e,n){if(mt.current!==Zr)throw Error(z(168));ye(mt,e),ye(Pt,n)}function H1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,ab(t)||"Unknown",i));return Re({},n,r)}function gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,ki=mt.current,ye(mt,t),ye(Pt,Pt.current),!0}function Fy(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=H1(t,e,ki),r.__reactInternalMemoizedMergedChildContext=t,Te(Pt),Te(mt),ye(mt,t)):Te(Pt),ye(Pt,n)}var qn=null,md=!1,Zh=!1;function G1(t){qn===null?qn=[t]:qn.push(t)}function Ck(t){md=!0,G1(t)}function ai(){if(!Zh&&qn!==null){Zh=!0;var t=0,e=me;try{var n=qn;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qn=null,md=!1}catch(i){throw qn!==null&&(qn=qn.slice(t+1)),y1(M_,ai),i}finally{me=e,Zh=!1}}return null}var Es=[],Ts=0,vc=null,yc=0,Qt=[],Xt=0,Pi=null,Kn=1,Hn="";function yi(t,e){Es[Ts++]=yc,Es[Ts++]=vc,vc=t,yc=e}function Q1(t,e,n){Qt[Xt++]=Kn,Qt[Xt++]=Hn,Qt[Xt++]=Pi,Pi=t;var r=Kn;t=Hn;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Kn=1<<32-cn(e)+i|n<<i|r,Hn=s+t}else Kn=1<<s|n<<i|r,Hn=t}function q_(t){t.return!==null&&(yi(t,1),Q1(t,1,0))}function K_(t){for(;t===vc;)vc=Es[--Ts],Es[Ts]=null,yc=Es[--Ts],Es[Ts]=null;for(;t===Pi;)Pi=Qt[--Xt],Qt[Xt]=null,Hn=Qt[--Xt],Qt[Xt]=null,Kn=Qt[--Xt],Qt[Xt]=null}var Bt=null,$t=null,xe=!1,un=null;function X1(t,e){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,$t=$r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:Kn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bt=t,$t=null,!0):!1;default:return!1}}function Sp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cp(t){if(xe){var e=$t;if(e){var n=e;if(!Vy(t,e)){if(Sp(t))throw Error(z(418));e=$r(n.nextSibling);var r=Bt;e&&Vy(t,e)?X1(r,n):(t.flags=t.flags&-4097|2,xe=!1,Bt=t)}}else{if(Sp(t))throw Error(z(418));t.flags=t.flags&-4097|2,xe=!1,Bt=t}}}function jy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function hu(t){if(t!==Bt)return!1;if(!xe)return jy(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yp(t.type,t.memoizedProps)),e&&(e=$t)){if(Sp(t))throw Y1(),Error(z(418));for(;e;)X1(t,e),e=$r(e.nextSibling)}if(jy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=$r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=Bt?$r(t.stateNode.nextSibling):null;return!0}function Y1(){for(var t=$t;t;)t=$r(t.nextSibling)}function Ws(){$t=Bt=null,xe=!1}function H_(t){un===null?un=[t]:un.push(t)}var xk=hr.ReactCurrentBatchConfig;function Ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function fu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $y(t){var e=t._init;return e(t._payload)}function J1(t){function e(m,_){if(t){var T=m.deletions;T===null?(m.deletions=[_],m.flags|=16):T.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=Wr(m,_),m.index=0,m.sibling=null,m}function s(m,_,T){return m.index=T,t?(T=m.alternate,T!==null?(T=T.index,T<_?(m.flags|=2,_):T):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,_,T,k){return _===null||_.tag!==6?(_=af(T,m.mode,k),_.return=m,_):(_=i(_,T),_.return=m,_)}function l(m,_,T,k){var L=T.type;return L===_s?d(m,_,T.props.children,k,T.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Cr&&$y(L)===_.type)?(k=i(_,T.props),k.ref=Ko(m,_,T),k.return=m,k):(k=Gu(T.type,T.key,T.props,null,m.mode,k),k.ref=Ko(m,_,T),k.return=m,k)}function c(m,_,T,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=lf(T,m.mode,k),_.return=m,_):(_=i(_,T.children||[]),_.return=m,_)}function d(m,_,T,k,L){return _===null||_.tag!==7?(_=Ri(T,m.mode,k,L),_.return=m,_):(_=i(_,T),_.return=m,_)}function h(m,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=af(""+_,m.mode,T),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nu:return T=Gu(_.type,_.key,_.props,null,m.mode,T),T.ref=Ko(m,null,_),T.return=m,T;case ps:return _=lf(_,m.mode,T),_.return=m,_;case Cr:var k=_._init;return h(m,k(_._payload),T)}if(ta(_)||Uo(_))return _=Ri(_,m.mode,T,null),_.return=m,_;fu(m,_)}return null}function f(m,_,T,k){var L=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return L!==null?null:a(m,_,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case nu:return T.key===L?l(m,_,T,k):null;case ps:return T.key===L?c(m,_,T,k):null;case Cr:return L=T._init,f(m,_,L(T._payload),k)}if(ta(T)||Uo(T))return L!==null?null:d(m,_,T,k,null);fu(m,T)}return null}function E(m,_,T,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(T)||null,a(_,m,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nu:return m=m.get(k.key===null?T:k.key)||null,l(_,m,k,L);case ps:return m=m.get(k.key===null?T:k.key)||null,c(_,m,k,L);case Cr:var N=k._init;return E(m,_,T,N(k._payload),L)}if(ta(k)||Uo(k))return m=m.get(T)||null,d(_,m,k,L,null);fu(_,k)}return null}function A(m,_,T,k){for(var L=null,N=null,S=_,y=_=0,I=null;S!==null&&y<T.length;y++){S.index>y?(I=S,S=null):I=S.sibling;var p=f(m,S,T[y],k);if(p===null){S===null&&(S=I);break}t&&S&&p.alternate===null&&e(m,S),_=s(p,_,y),N===null?L=p:N.sibling=p,N=p,S=I}if(y===T.length)return n(m,S),xe&&yi(m,y),L;if(S===null){for(;y<T.length;y++)S=h(m,T[y],k),S!==null&&(_=s(S,_,y),N===null?L=S:N.sibling=S,N=S);return xe&&yi(m,y),L}for(S=r(m,S);y<T.length;y++)I=E(S,m,y,T[y],k),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?y:I.key),_=s(I,_,y),N===null?L=I:N.sibling=I,N=I);return t&&S.forEach(function(b){return e(m,b)}),xe&&yi(m,y),L}function R(m,_,T,k){var L=Uo(T);if(typeof L!="function")throw Error(z(150));if(T=L.call(T),T==null)throw Error(z(151));for(var N=L=null,S=_,y=_=0,I=null,p=T.next();S!==null&&!p.done;y++,p=T.next()){S.index>y?(I=S,S=null):I=S.sibling;var b=f(m,S,p.value,k);if(b===null){S===null&&(S=I);break}t&&S&&b.alternate===null&&e(m,S),_=s(b,_,y),N===null?L=b:N.sibling=b,N=b,S=I}if(p.done)return n(m,S),xe&&yi(m,y),L;if(S===null){for(;!p.done;y++,p=T.next())p=h(m,p.value,k),p!==null&&(_=s(p,_,y),N===null?L=p:N.sibling=p,N=p);return xe&&yi(m,y),L}for(S=r(m,S);!p.done;y++,p=T.next())p=E(S,m,y,p.value,k),p!==null&&(t&&p.alternate!==null&&S.delete(p.key===null?y:p.key),_=s(p,_,y),N===null?L=p:N.sibling=p,N=p);return t&&S.forEach(function(P){return e(m,P)}),xe&&yi(m,y),L}function w(m,_,T,k){if(typeof T=="object"&&T!==null&&T.type===_s&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case nu:e:{for(var L=T.key,N=_;N!==null;){if(N.key===L){if(L=T.type,L===_s){if(N.tag===7){n(m,N.sibling),_=i(N,T.props.children),_.return=m,m=_;break e}}else if(N.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Cr&&$y(L)===N.type){n(m,N.sibling),_=i(N,T.props),_.ref=Ko(m,N,T),_.return=m,m=_;break e}n(m,N);break}else e(m,N);N=N.sibling}T.type===_s?(_=Ri(T.props.children,m.mode,k,T.key),_.return=m,m=_):(k=Gu(T.type,T.key,T.props,null,m.mode,k),k.ref=Ko(m,_,T),k.return=m,m=k)}return o(m);case ps:e:{for(N=T.key;_!==null;){if(_.key===N)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(m,_.sibling),_=i(_,T.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=lf(T,m.mode,k),_.return=m,m=_}return o(m);case Cr:return N=T._init,w(m,_,N(T._payload),k)}if(ta(T))return A(m,_,T,k);if(Uo(T))return R(m,_,T,k);fu(m,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(m,_.sibling),_=i(_,T),_.return=m,m=_):(n(m,_),_=af(T,m.mode,k),_.return=m,m=_),o(m)):n(m,_)}return w}var qs=J1(!0),Z1=J1(!1),wc=oi(null),Ec=null,Ss=null,G_=null;function Q_(){G_=Ss=Ec=null}function X_(t){var e=wc.current;Te(wc),t._currentValue=e}function xp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Os(t,e){Ec=t,G_=Ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function en(t){var e=t._currentValue;if(G_!==t)if(t={context:t,memoizedValue:e,next:null},Ss===null){if(Ec===null)throw Error(z(308));Ss=t,Ec.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return e}var Ci=null;function Y_(t){Ci===null?Ci=[t]:Ci.push(t)}function eT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Y_(e)):(n.next=i.next,i.next=n),e.interleaved=n,rr(t,r)}function rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xr=!1;function J_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rr(t,n)}return i=r.interleaved,i===null?(e.next=e,Y_(r)):(e.next=i.next,i.next=e),r.interleaved=e,rr(t,n)}function Bu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,F_(t,n)}}function Uy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tc(t,e,n,r){var i=t.updateQueue;xr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,E=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,R=a;switch(f=e,E=n,R.tag){case 1:if(A=R.payload,typeof A=="function"){h=A.call(E,h,f);break e}h=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=R.payload,f=typeof A=="function"?A.call(E,h,f):A,f==null)break e;h=Re({},h,f);break e;case 2:xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else E={eventTime:E,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=E,l=h):d=d.next=E,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Oi|=o,t.lanes=o,t.memoizedState=h}}function By(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var pl={},An=oi(pl),Fa=oi(pl),Va=oi(pl);function xi(t){if(t===pl)throw Error(z(174));return t}function Z_(t,e){switch(ye(Va,e),ye(Fa,t),ye(An,pl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sp(e,t)}Te(An),ye(An,e)}function Ks(){Te(An),Te(Fa),Te(Va)}function nT(t){xi(Va.current);var e=xi(An.current),n=sp(e,t.type);e!==n&&(ye(Fa,t),ye(An,n))}function em(t){Fa.current===t&&(Te(An),Te(Fa))}var Ie=oi(0);function Sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ef=[];function tm(){for(var t=0;t<ef.length;t++)ef[t]._workInProgressVersionPrimary=null;ef.length=0}var zu=hr.ReactCurrentDispatcher,tf=hr.ReactCurrentBatchConfig,Ni=0,Ae=null,ze=null,He=null,Cc=!1,ma=!1,ja=0,Ik=0;function dt(){throw Error(z(321))}function nm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function rm(t,e,n,r,i,s){if(Ni=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zu.current=t===null||t.memoizedState===null?kk:Pk,t=n(r,i),ma){s=0;do{if(ma=!1,ja=0,25<=s)throw Error(z(301));s+=1,He=ze=null,e.updateQueue=null,zu.current=Nk,t=n(r,i)}while(ma)}if(zu.current=xc,e=ze!==null&&ze.next!==null,Ni=0,He=ze=Ae=null,Cc=!1,e)throw Error(z(300));return t}function im(){var t=ja!==0;return ja=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ae.memoizedState=He=t:He=He.next=t,He}function tn(){if(ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=He===null?Ae.memoizedState:He.next;if(e!==null)He=e,ze=t;else{if(t===null)throw Error(z(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},He===null?Ae.memoizedState=He=t:He=He.next=t}return He}function $a(t,e){return typeof e=="function"?e(t):e}function nf(t){var e=tn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Ni&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ae.lanes|=d,Oi|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,fn(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ae.lanes|=s,Oi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rf(t){var e=tn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fn(s,e.memoizedState)||(kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rT(){}function iT(t,e){var n=Ae,r=tn(),i=e(),s=!fn(r.memoizedState,i);if(s&&(r.memoizedState=i,kt=!0),r=r.queue,sm(aT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Ua(9,oT.bind(null,n,r,i,e),void 0,null),Qe===null)throw Error(z(349));Ni&30||sT(n,e,i)}return i}function sT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oT(t,e,n,r){e.value=n,e.getSnapshot=r,lT(e)&&uT(t)}function aT(t,e,n){return n(function(){lT(e)&&uT(t)})}function lT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function uT(t){var e=rr(t,1);e!==null&&dn(e,t,1,-1)}function zy(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=bk.bind(null,Ae,t),[e.memoizedState,t]}function Ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cT(){return tn().memoizedState}function Wu(t,e,n,r){var i=En();Ae.flags|=t,i.memoizedState=Ua(1|e,n,void 0,r===void 0?null:r)}function gd(t,e,n,r){var i=tn();r=r===void 0?null:r;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,r!==null&&nm(r,o.deps)){i.memoizedState=Ua(e,n,s,r);return}}Ae.flags|=t,i.memoizedState=Ua(1|e,n,s,r)}function Wy(t,e){return Wu(8390656,8,t,e)}function sm(t,e){return gd(2048,8,t,e)}function dT(t,e){return gd(4,2,t,e)}function hT(t,e){return gd(4,4,t,e)}function fT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pT(t,e,n){return n=n!=null?n.concat([t]):null,gd(4,4,fT.bind(null,e,t),n)}function om(){}function _T(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mT(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gT(t,e,n){return Ni&21?(fn(n,e)||(n=T1(),Ae.lanes|=n,Oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function Ak(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=tf.transition;tf.transition={};try{t(!1),e()}finally{me=n,tf.transition=r}}function vT(){return tn().memoizedState}function Rk(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yT(t))wT(e,n);else if(n=eT(t,e,n,r),n!==null){var i=St();dn(n,t,r,i),ET(n,e,r)}}function bk(t,e,n){var r=zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yT(t))wT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fn(a,o)){var l=e.interleaved;l===null?(i.next=i,Y_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=eT(t,e,i,r),n!==null&&(i=St(),dn(n,t,r,i),ET(n,e,r))}}function yT(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function wT(t,e){ma=Cc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ET(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,F_(t,n)}}var xc={readContext:en,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},kk={readContext:en,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:Wy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,fT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Rk.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:zy,useDebugValue:om,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=zy(!1),e=t[0];return t=Ak.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,i=En();if(xe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Qe===null)throw Error(z(349));Ni&30||sT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Wy(aT.bind(null,r,s,t),[t]),r.flags|=2048,Ua(9,oT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=En(),e=Qe.identifierPrefix;if(xe){var n=Hn,r=Kn;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ja++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ik++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pk={readContext:en,useCallback:_T,useContext:en,useEffect:sm,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:hT,useMemo:mT,useReducer:nf,useRef:cT,useState:function(){return nf($a)},useDebugValue:om,useDeferredValue:function(t){var e=tn();return gT(e,ze.memoizedState,t)},useTransition:function(){var t=nf($a)[0],e=tn().memoizedState;return[t,e]},useMutableSource:rT,useSyncExternalStore:iT,useId:vT,unstable_isNewReconciler:!1},Nk={readContext:en,useCallback:_T,useContext:en,useEffect:sm,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:hT,useMemo:mT,useReducer:rf,useRef:cT,useState:function(){return rf($a)},useDebugValue:om,useDeferredValue:function(t){var e=tn();return ze===null?e.memoizedState=t:gT(e,ze.memoizedState,t)},useTransition:function(){var t=rf($a)[0],e=tn().memoizedState;return[t,e]},useMutableSource:rT,useSyncExternalStore:iT,useId:vT,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vd={isMounted:function(t){return(t=t._reactInternals)?zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),i=zr(t),s=Zn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(dn(e,t,i,r),Bu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),i=zr(t),s=Zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(dn(e,t,i,r),Bu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=zr(t),i=Zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ur(t,i,r),e!==null&&(dn(e,t,r,n),Bu(e,t,r))}};function qy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Oa(n,r)||!Oa(i,s):!0}function TT(t,e,n){var r=!1,i=Zr,s=e.contextType;return typeof s=="object"&&s!==null?s=en(s):(i=Nt(e)?ki:mt.current,r=e.contextTypes,s=(r=r!=null)?zs(t,i):Zr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vd.enqueueReplaceState(e,e.state,null)}function Ap(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},J_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=en(s):(s=Nt(e)?ki:mt.current,i.context=zs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ip(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vd.enqueueReplaceState(i,i.state,null),Tc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hs(t,e){try{var n="",r=e;do n+=ob(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ok=typeof WeakMap=="function"?WeakMap:Map;function ST(t,e,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ac||(Ac=!0,Vp=r),Rp(t,e)},n}function CT(t,e,n){n=Zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rp(t,e),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ok;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Hk.bind(null,t,e,n),e.then(t,t))}function Gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zn(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var Dk=hr.ReactCurrentOwner,kt=!1;function Et(t,e,n,r){e.child=t===null?Z1(e,null,n,r):qs(e,t.child,n,r)}function Xy(t,e,n,r,i){n=n.render;var s=e.ref;return Os(e,i),r=rm(t,e,n,r,s,i),n=im(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(xe&&n&&q_(e),e.flags|=1,Et(t,e,r,i),e.child)}function Yy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,xT(t,e,s,r,i)):(t=Gu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oa,n(o,r)&&t.ref===e.ref)return ir(t,e,i)}return e.flags|=1,t=Wr(s,r),t.ref=e.ref,t.return=e,e.child=t}function xT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Oa(s,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,ir(t,e,i)}return bp(t,e,n,r,i)}function IT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(xs,Mt),Mt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(xs,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(xs,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ye(xs,Mt),Mt|=r;return Et(t,e,i,n),e.child}function AT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bp(t,e,n,r,i){var s=Nt(n)?ki:mt.current;return s=zs(e,s),Os(e,i),n=rm(t,e,n,r,s,i),r=im(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(xe&&r&&q_(e),e.flags|=1,Et(t,e,n,i),e.child)}function Jy(t,e,n,r,i){if(Nt(n)){var s=!0;gc(e)}else s=!1;if(Os(e,i),e.stateNode===null)qu(t,e),TT(e,n,r),Ap(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=en(c):(c=Nt(n)?ki:mt.current,c=zs(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ky(e,o,r,c),xr=!1;var f=e.memoizedState;o.state=f,Tc(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Pt.current||xr?(typeof d=="function"&&(Ip(e,n,d,r),l=e.memoizedState),(a=xr||qy(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:on(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=en(l):(l=Nt(n)?ki:mt.current,l=zs(e,l));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ky(e,o,r,l),xr=!1,f=e.memoizedState,o.state=f,Tc(e,r,o,i);var A=e.memoizedState;a!==h||f!==A||Pt.current||xr?(typeof E=="function"&&(Ip(e,n,E,r),A=e.memoizedState),(c=xr||qy(e,n,c,r,f,A,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return kp(t,e,n,r,s,i)}function kp(t,e,n,r,i,s){AT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Fy(e,n,!1),ir(t,e,s);r=e.stateNode,Dk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,s),e.child=qs(e,null,a,s)):Et(t,e,a,s),e.memoizedState=r.state,i&&Fy(e,n,!0),e.child}function RT(t){var e=t.stateNode;e.pendingContext?My(t,e.pendingContext,e.pendingContext!==e.context):e.context&&My(t,e.context,!1),Z_(t,e.containerInfo)}function Zy(t,e,n,r,i){return Ws(),H_(i),e.flags|=256,Et(t,e,n,r),e.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Np(t){return{baseLanes:t,cachePool:null,transitions:null}}function bT(t,e,n){var r=e.pendingProps,i=Ie.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(Ie,i&1),t===null)return Cp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ed(o,r,0,null),t=Ri(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Np(n),e.memoizedState=Pp,t):am(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Lk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wr(a,s):(s=Ri(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Np(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pp,r}return s=t.child,t=s.sibling,r=Wr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function am(t,e){return e=Ed({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pu(t,e,n,r){return r!==null&&H_(r),qs(e,t.child,null,n),t=am(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=sf(Error(z(422))),pu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ed({mode:"visible",children:r.children},i,0,null),s=Ri(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qs(e,t.child,null,o),e.child.memoizedState=Np(o),e.memoizedState=Pp,s);if(!(e.mode&1))return pu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=sf(s,r,void 0),pu(t,e,o,r)}if(a=(o&t.childLanes)!==0,kt||a){if(r=Qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rr(t,i),dn(r,t,i,-1))}return fm(),r=sf(Error(z(421))),pu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Gk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$t=$r(i.nextSibling),Bt=e,xe=!0,un=null,t!==null&&(Qt[Xt++]=Kn,Qt[Xt++]=Hn,Qt[Xt++]=Pi,Kn=t.id,Hn=t.overflow,Pi=e),e=am(e,r.children),e.flags|=4096,e)}function e0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xp(t.return,e,n)}function of(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Et(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e0(t,n,e);else if(t.tag===19)e0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ie,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),of(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}of(e,!0,n,null,s);break;case"together":of(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mk(t,e,n){switch(e.tag){case 3:RT(e),Ws();break;case 5:nT(e);break;case 1:Nt(e.type)&&gc(e);break;case 4:Z_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(wc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?bT(t,e,n):(ye(Ie,Ie.current&1),t=ir(t,e,n),t!==null?t.sibling:null);ye(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,IT(t,e,n)}return ir(t,e,n)}var PT,Op,NT,OT;PT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Op=function(){};NT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xi(An.current);var s=null;switch(n){case"input":i=tp(t,i),r=tp(t,r),s=[];break;case"select":i=Re({},i,{value:void 0}),r=Re({},r,{value:void 0}),s=[];break;case"textarea":i=ip(t,i),r=ip(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_c)}op(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ia.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ia.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ee("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};OT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ho(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Fk(t,e,n){var r=e.pendingProps;switch(K_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return Nt(e.type)&&mc(),ht(e),null;case 3:return r=e.stateNode,Ks(),Te(Pt),Te(mt),tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(Up(un),un=null))),Op(t,e),ht(e),null;case 5:em(e);var i=xi(Va.current);if(n=e.type,t!==null&&e.stateNode!=null)NT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ht(e),null}if(t=xi(An.current),hu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[Ma]=s,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<ra.length;i++)Ee(ra[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":uy(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":dy(r,s),Ee("invalid",r)}op(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&du(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&du(r.textContent,a,t),i=["children",""+a]):Ia.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":ru(r),cy(r,s,!0);break;case"textarea":ru(r),hy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_c)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=a1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sn]=e,t[Ma]=r,PT(t,e,!1,!1),e.stateNode=t;e:{switch(o=ap(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<ra.length;i++)Ee(ra[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":uy(t,r),i=tp(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Re({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":dy(t,r),i=ip(t,r),Ee("invalid",t);break;default:i=r}op(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?c1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&l1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Aa(t,l):typeof l=="number"&&Aa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ia.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",t):l!=null&&P_(t,s,l,o))}switch(n){case"input":ru(t),cy(t,r,!1);break;case"textarea":ru(t),hy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_c)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)OT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=xi(Va.current),xi(An.current),hu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(s=r.nodeValue!==n)&&(t=Bt,t!==null))switch(t.tag){case 3:du(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&du(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return ht(e),null;case 13:if(Te(Ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&$t!==null&&e.mode&1&&!(e.flags&128))Y1(),Ws(),e.flags|=98560,s=!1;else if(s=hu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Sn]=e}else Ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),s=!1}else un!==null&&(Up(un),un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?We===0&&(We=3):fm())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return Ks(),Op(t,e),t===null&&Da(e.stateNode.containerInfo),ht(e),null;case 10:return X_(e.type._context),ht(e),null;case 17:return Nt(e.type)&&mc(),ht(e),null;case 19:if(Te(Ie),s=e.memoizedState,s===null)return ht(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ho(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sc(t),o!==null){for(e.flags|=128,Ho(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ie,Ie.current&1|2),e.child}t=t.sibling}s.tail!==null&&Le()>Gs&&(e.flags|=128,r=!0,Ho(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ho(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return ht(e),null}else 2*Le()-s.renderingStartTime>Gs&&n!==1073741824&&(e.flags|=128,r=!0,Ho(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Le(),e.sibling=null,n=Ie.current,ye(Ie,r?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return hm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Vk(t,e){switch(K_(e),e.tag){case 1:return Nt(e.type)&&mc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ks(),Te(Pt),Te(mt),tm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return em(e),null;case 13:if(Te(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Ie),null;case 4:return Ks(),null;case 10:return X_(e.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var _u=!1,_t=!1,jk=typeof WeakSet=="function"?WeakSet:Set,G=null;function Cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function Dp(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var t0=!1;function $k(t,e){if(gp=hc,t=V1(),W_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var E;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(E=h.firstChild)!==null;)f=h,h=E;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(E=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=E}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vp={focusedElem:t,selectionRange:n},hc=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var R=A.memoizedProps,w=A.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?R:on(e.type,R),w);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){Ne(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return A=t0,t0=!1,A}function ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dp(e,n,s)}i=i.next}while(i!==r)}}function yd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DT(t){var e=t.alternate;e!==null&&(t.alternate=null,DT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[Ma],delete e[Ep],delete e[Tk],delete e[Sk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LT(t){return t.tag===5||t.tag===3||t.tag===4}function n0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_c));else if(r!==4&&(t=t.child,t!==null))for(Mp(t,e,n),t=t.sibling;t!==null;)Mp(t,e,n),t=t.sibling}function Fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fp(t,e,n),t=t.sibling;t!==null;)Fp(t,e,n),t=t.sibling}var Je=null,ln=!1;function Er(t,e,n){for(n=n.child;n!==null;)MT(t,e,n),n=n.sibling}function MT(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(dd,n)}catch{}switch(n.tag){case 5:_t||Cs(n,e);case 6:var r=Je,i=ln;Je=null,Er(t,e,n),Je=r,ln=i,Je!==null&&(ln?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(ln?(t=Je,n=n.stateNode,t.nodeType===8?Jh(t.parentNode,n):t.nodeType===1&&Jh(t,n),Pa(t)):Jh(Je,n.stateNode));break;case 4:r=Je,i=ln,Je=n.stateNode.containerInfo,ln=!0,Er(t,e,n),Je=r,ln=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dp(n,e,o),i=i.next}while(i!==r)}Er(t,e,n);break;case 1:if(!_t&&(Cs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,e,a)}Er(t,e,n);break;case 21:Er(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Er(t,e,n),_t=r):Er(t,e,n);break;default:Er(t,e,n)}}function r0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jk),e.forEach(function(r){var i=Qk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,ln=!1;break e;case 3:Je=a.stateNode.containerInfo,ln=!0;break e;case 4:Je=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(Je===null)throw Error(z(160));MT(s,o,i),Je=null,ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ne(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FT(e,t),e=e.sibling}function FT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(e,t),wn(t),r&4){try{ga(3,t,t.return),yd(3,t)}catch(R){Ne(t,t.return,R)}try{ga(5,t,t.return)}catch(R){Ne(t,t.return,R)}}break;case 1:sn(e,t),wn(t),r&512&&n!==null&&Cs(n,n.return);break;case 5:if(sn(e,t),wn(t),r&512&&n!==null&&Cs(n,n.return),t.flags&32){var i=t.stateNode;try{Aa(i,"")}catch(R){Ne(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&s1(i,s),ap(a,o);var c=ap(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?c1(i,h):d==="dangerouslySetInnerHTML"?l1(i,h):d==="children"?Aa(i,h):P_(i,d,h,c)}switch(a){case"input":np(i,s);break;case"textarea":o1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?bs(i,!!s.multiple,E,!1):f!==!!s.multiple&&(s.defaultValue!=null?bs(i,!!s.multiple,s.defaultValue,!0):bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ma]=s}catch(R){Ne(t,t.return,R)}}break;case 6:if(sn(e,t),wn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){Ne(t,t.return,R)}}break;case 3:if(sn(e,t),wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(e.containerInfo)}catch(R){Ne(t,t.return,R)}break;case 4:sn(e,t),wn(t);break;case 13:sn(e,t),wn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cm=Le())),r&4&&r0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(c=_t)||d,sn(e,t),_t=c):sn(e,t),wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(h=G=d;G!==null;){switch(f=G,E=f.child,f.tag){case 0:case 11:case 14:case 15:ga(4,f,f.return);break;case 1:Cs(f,f.return);var A=f.stateNode;if(typeof A.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(R){Ne(r,n,R)}}break;case 5:Cs(f,f.return);break;case 22:if(f.memoizedState!==null){s0(h);continue}}E!==null?(E.return=f,G=E):s0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=u1("display",o))}catch(R){Ne(t,t.return,R)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(R){Ne(t,t.return,R)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sn(e,t),wn(t),r&4&&r0(t);break;case 21:break;default:sn(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LT(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Aa(i,""),r.flags&=-33);var s=n0(t);Fp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=n0(t);Mp(t,a,o);break;default:throw Error(z(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Uk(t,e,n){G=t,VT(t)}function VT(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_u;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||_t;a=_u;var c=_t;if(_u=o,(_t=l)&&!c)for(G=i;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?o0(i):l!==null?(l.return=o,G=l):o0(i);for(;s!==null;)G=s,VT(s),s=s.sibling;G=i,_u=a,_t=c}i0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):i0(t)}}function i0(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||yd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:on(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&By(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}By(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}_t||e.flags&512&&Lp(e)}catch(f){Ne(e,e.return,f)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function s0(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function o0(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yd(4,e)}catch(l){Ne(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ne(e,i,l)}}var s=e.return;try{Lp(e)}catch(l){Ne(e,s,l)}break;case 5:var o=e.return;try{Lp(e)}catch(l){Ne(e,o,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var Bk=Math.ceil,Ic=hr.ReactCurrentDispatcher,lm=hr.ReactCurrentOwner,Jt=hr.ReactCurrentBatchConfig,de=0,Qe=null,je=null,rt=0,Mt=0,xs=oi(0),We=0,Ba=null,Oi=0,wd=0,um=0,va=null,bt=null,cm=0,Gs=1/0,Wn=null,Ac=!1,Vp=null,Br=null,mu=!1,Or=null,Rc=0,ya=0,jp=null,Ku=-1,Hu=0;function St(){return de&6?Le():Ku!==-1?Ku:Ku=Le()}function zr(t){return t.mode&1?de&2&&rt!==0?rt&-rt:xk.transition!==null?(Hu===0&&(Hu=T1()),Hu):(t=me,t!==0||(t=window.event,t=t===void 0?16:b1(t.type)),t):1}function dn(t,e,n,r){if(50<ya)throw ya=0,jp=null,Error(z(185));dl(t,n,r),(!(de&2)||t!==Qe)&&(t===Qe&&(!(de&2)&&(wd|=n),We===4&&Ar(t,rt)),Ot(t,r),n===1&&de===0&&!(e.mode&1)&&(Gs=Le()+500,md&&ai()))}function Ot(t,e){var n=t.callbackNode;xb(t,e);var r=dc(t,t===Qe?rt:0);if(r===0)n!==null&&_y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_y(n),e===1)t.tag===0?Ck(a0.bind(null,t)):G1(a0.bind(null,t)),wk(function(){!(de&6)&&ai()}),n=null;else{switch(S1(r)){case 1:n=M_;break;case 4:n=w1;break;case 16:n=cc;break;case 536870912:n=E1;break;default:n=cc}n=KT(n,jT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jT(t,e){if(Ku=-1,Hu=0,de&6)throw Error(z(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var r=dc(t,t===Qe?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bc(t,r);else{e=r;var i=de;de|=2;var s=UT();(Qe!==t||rt!==e)&&(Wn=null,Gs=Le()+500,Ai(t,e));do try{qk();break}catch(a){$T(t,a)}while(!0);Q_(),Ic.current=s,de=i,je!==null?e=0:(Qe=null,rt=0,e=We)}if(e!==0){if(e===2&&(i=hp(t),i!==0&&(r=i,e=$p(t,i))),e===1)throw n=Ba,Ai(t,0),Ar(t,r),Ot(t,Le()),n;if(e===6)Ar(t,r);else{if(i=t.current.alternate,!(r&30)&&!zk(i)&&(e=bc(t,r),e===2&&(s=hp(t),s!==0&&(r=s,e=$p(t,s))),e===1))throw n=Ba,Ai(t,0),Ar(t,r),Ot(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:wi(t,bt,Wn);break;case 3:if(Ar(t,r),(r&130023424)===r&&(e=cm+500-Le(),10<e)){if(dc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wp(wi.bind(null,t,bt,Wn),e);break}wi(t,bt,Wn);break;case 4:if(Ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bk(r/1960))-r,10<r){t.timeoutHandle=wp(wi.bind(null,t,bt,Wn),r);break}wi(t,bt,Wn);break;case 5:wi(t,bt,Wn);break;default:throw Error(z(329))}}}return Ot(t,Le()),t.callbackNode===n?jT.bind(null,t):null}function $p(t,e){var n=va;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=bc(t,e),t!==2&&(e=bt,bt=n,e!==null&&Up(e)),t}function Up(t){bt===null?bt=t:bt.push.apply(bt,t)}function zk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ar(t,e){for(e&=~um,e&=~wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),r=1<<n;t[n]=-1,e&=~r}}function a0(t){if(de&6)throw Error(z(327));Ds();var e=dc(t,0);if(!(e&1))return Ot(t,Le()),null;var n=bc(t,e);if(t.tag!==0&&n===2){var r=hp(t);r!==0&&(e=r,n=$p(t,r))}if(n===1)throw n=Ba,Ai(t,0),Ar(t,e),Ot(t,Le()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wi(t,bt,Wn),Ot(t,Le()),null}function dm(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(Gs=Le()+500,md&&ai())}}function Di(t){Or!==null&&Or.tag===0&&!(de&6)&&Ds();var e=de;de|=1;var n=Jt.transition,r=me;try{if(Jt.transition=null,me=1,t)return t()}finally{me=r,Jt.transition=n,de=e,!(de&6)&&ai()}}function hm(){Mt=xs.current,Te(xs)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yk(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(K_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mc();break;case 3:Ks(),Te(Pt),Te(mt),tm();break;case 5:em(r);break;case 4:Ks();break;case 13:Te(Ie);break;case 19:Te(Ie);break;case 10:X_(r.type._context);break;case 22:case 23:hm()}n=n.return}if(Qe=t,je=t=Wr(t.current,null),rt=Mt=e,We=0,Ba=null,um=wd=Oi=0,bt=va=null,Ci!==null){for(e=0;e<Ci.length;e++)if(n=Ci[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ci=null}return t}function $T(t,e){do{var n=je;try{if(Q_(),zu.current=xc,Cc){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cc=!1}if(Ni=0,He=ze=Ae=null,ma=!1,ja=0,lm.current=null,n===null||n.return===null){We=1,Ba=e,je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=Gy(o);if(E!==null){E.flags&=-257,Qy(E,o,a,s,e),E.mode&1&&Hy(s,c,e),e=E,l=c;var A=e.updateQueue;if(A===null){var R=new Set;R.add(l),e.updateQueue=R}else A.add(l);break e}else{if(!(e&1)){Hy(s,c,e),fm();break e}l=Error(z(426))}}else if(xe&&a.mode&1){var w=Gy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Qy(w,o,a,s,e),H_(Hs(l,a));break e}}s=l=Hs(l,a),We!==4&&(We=2),va===null?va=[s]:va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=ST(s,l,e);Uy(s,m);break e;case 1:a=l;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Br===null||!Br.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=CT(s,a,e);Uy(s,k);break e}}s=s.return}while(s!==null)}zT(n)}catch(L){e=L,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function UT(){var t=Ic.current;return Ic.current=xc,t===null?xc:t}function fm(){(We===0||We===3||We===2)&&(We=4),Qe===null||!(Oi&268435455)&&!(wd&268435455)||Ar(Qe,rt)}function bc(t,e){var n=de;de|=2;var r=UT();(Qe!==t||rt!==e)&&(Wn=null,Ai(t,e));do try{Wk();break}catch(i){$T(t,i)}while(!0);if(Q_(),de=n,Ic.current=r,je!==null)throw Error(z(261));return Qe=null,rt=0,We}function Wk(){for(;je!==null;)BT(je)}function qk(){for(;je!==null&&!mb();)BT(je)}function BT(t){var e=qT(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?zT(t):je=e,lm.current=null}function zT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Vk(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,je=null;return}}else if(n=Fk(n,e,Mt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);We===0&&(We=5)}function wi(t,e,n){var r=me,i=Jt.transition;try{Jt.transition=null,me=1,Kk(t,e,n,r)}finally{Jt.transition=i,me=r}return null}function Kk(t,e,n,r){do Ds();while(Or!==null);if(de&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ib(t,s),t===Qe&&(je=Qe=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mu||(mu=!0,KT(cc,function(){return Ds(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jt.transition,Jt.transition=null;var o=me;me=1;var a=de;de|=4,lm.current=null,$k(t,n),FT(n,t),hk(vp),hc=!!gp,vp=gp=null,t.current=n,Uk(n),gb(),de=a,me=o,Jt.transition=s}else t.current=n;if(mu&&(mu=!1,Or=t,Rc=i),s=t.pendingLanes,s===0&&(Br=null),wb(n.stateNode),Ot(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ac)throw Ac=!1,t=Vp,Vp=null,t;return Rc&1&&t.tag!==0&&Ds(),s=t.pendingLanes,s&1?t===jp?ya++:(ya=0,jp=t):ya=0,ai(),null}function Ds(){if(Or!==null){var t=S1(Rc),e=Jt.transition,n=me;try{if(Jt.transition=null,me=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,Rc=0,de&6)throw Error(z(331));var i=de;for(de|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:ga(8,d,s)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var f=d.sibling,E=d.return;if(DT(d),d===c){G=null;break}if(f!==null){f.return=E,G=f;break}G=E}}}var A=s.alternate;if(A!==null){var R=A.child;if(R!==null){A.child=null;do{var w=R.sibling;R.sibling=null,R=w}while(R!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ga(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,G=m;break e}G=s.return}}var _=t.current;for(G=_;G!==null;){o=G;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,G=T;else e:for(o=_;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yd(9,a)}}catch(L){Ne(a,a.return,L)}if(a===o){G=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,G=k;break e}G=a.return}}if(de=i,ai(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(dd,t)}catch{}r=!0}return r}finally{me=n,Jt.transition=e}}return!1}function l0(t,e,n){e=Hs(n,e),e=ST(t,e,1),t=Ur(t,e,1),e=St(),t!==null&&(dl(t,1,e),Ot(t,e))}function Ne(t,e,n){if(t.tag===3)l0(t,t,n);else for(;e!==null;){if(e.tag===3){l0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){t=Hs(n,t),t=CT(e,t,1),e=Ur(e,t,1),t=St(),e!==null&&(dl(e,1,t),Ot(e,t));break}}e=e.return}}function Hk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(rt&n)===n&&(We===4||We===3&&(rt&130023424)===rt&&500>Le()-cm?Ai(t,0):um|=n),Ot(t,e)}function WT(t,e){e===0&&(t.mode&1?(e=ou,ou<<=1,!(ou&130023424)&&(ou=4194304)):e=1);var n=St();t=rr(t,e),t!==null&&(dl(t,e,n),Ot(t,n))}function Gk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WT(t,n)}function Qk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),WT(t,n)}var qT;qT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pt.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,Mk(t,e,n);kt=!!(t.flags&131072)}else kt=!1,xe&&e.flags&1048576&&Q1(e,yc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qu(t,e),t=e.pendingProps;var i=zs(e,mt.current);Os(e,n),i=rm(null,e,r,t,i,n);var s=im();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(r)?(s=!0,gc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,J_(e),i.updater=vd,e.stateNode=i,i._reactInternals=e,Ap(e,r,t,n),e=kp(null,e,r,!0,s,n)):(e.tag=0,xe&&s&&q_(e),Et(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Yk(r),t=on(r,t),i){case 0:e=bp(null,e,r,t,n);break e;case 1:e=Jy(null,e,r,t,n);break e;case 11:e=Xy(null,e,r,t,n);break e;case 14:e=Yy(null,e,r,on(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),bp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),Jy(t,e,r,i,n);case 3:e:{if(RT(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tT(t,e),Tc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hs(Error(z(423)),e),e=Zy(t,e,r,n,i);break e}else if(r!==i){i=Hs(Error(z(424)),e),e=Zy(t,e,r,n,i);break e}else for($t=$r(e.stateNode.containerInfo.firstChild),Bt=e,xe=!0,un=null,n=Z1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ws(),r===i){e=ir(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return nT(e),t===null&&Cp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yp(r,i)?o=null:s!==null&&yp(r,s)&&(e.flags|=32),AT(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&Cp(e),null;case 13:return bT(t,e,n);case 4:return Z_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),Xy(t,e,r,i,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ye(wc,r._currentValue),r._currentValue=o,s!==null)if(fn(s.value,o)){if(s.children===i.children&&!Pt.current){e=ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Et(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Os(e,n),i=en(i),r=r(i),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,i=on(r,e.pendingProps),i=on(r.type,i),Yy(t,e,r,i,n);case 15:return xT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),qu(t,e),e.tag=1,Nt(r)?(t=!0,gc(e)):t=!1,Os(e,n),TT(e,r,i),Ap(e,r,i,n),kp(null,e,r,!0,t,n);case 19:return kT(t,e,n);case 22:return IT(t,e,n)}throw Error(z(156,e.tag))};function KT(t,e){return y1(t,e)}function Xk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,e,n,r){return new Xk(t,e,n,r)}function pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yk(t){if(typeof t=="function")return pm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O_)return 11;if(t===D_)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=Yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _s:return Ri(n.children,i,s,e);case N_:o=8,i|=8;break;case Yf:return t=Yt(12,n,e,i|2),t.elementType=Yf,t.lanes=s,t;case Jf:return t=Yt(13,n,e,i),t.elementType=Jf,t.lanes=s,t;case Zf:return t=Yt(19,n,e,i),t.elementType=Zf,t.lanes=s,t;case n1:return Ed(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case e1:o=10;break e;case t1:o=9;break e;case O_:o=11;break e;case D_:o=14;break e;case Cr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Yt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ri(t,e,n,r){return t=Yt(7,t,r,e),t.lanes=n,t}function Ed(t,e,n,r){return t=Yt(22,t,r,e),t.elementType=n1,t.lanes=n,t.stateNode={isHidden:!1},t}function af(t,e,n){return t=Yt(6,t,null,e),t.lanes=n,t}function lf(t,e,n){return e=Yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uh(0),this.expirationTimes=Uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _m(t,e,n,r,i,s,o,a,l){return t=new Jk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Yt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},J_(s),t}function Zk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HT(t){if(!t)return Zr;t=t._reactInternals;e:{if(zi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Nt(n))return H1(t,n,e)}return e}function GT(t,e,n,r,i,s,o,a,l){return t=_m(n,r,!0,t,i,s,o,a,l),t.context=HT(null),n=t.current,r=St(),i=zr(n),s=Zn(r,i),s.callback=e??null,Ur(n,s,i),t.current.lanes=i,dl(t,i,r),Ot(t,r),t}function Td(t,e,n,r){var i=e.current,s=St(),o=zr(i);return n=HT(n),e.context===null?e.context=n:e.pendingContext=n,e=Zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(i,e,o),t!==null&&(dn(t,i,o,s),Bu(t,i,o)),o}function kc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mm(t,e){u0(t,e),(t=t.alternate)&&u0(t,e)}function eP(){return null}var QT=typeof reportError=="function"?reportError:function(t){console.error(t)};function gm(t){this._internalRoot=t}Sd.prototype.render=gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Td(t,e,null,null)};Sd.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Di(function(){Td(null,t,null,null)}),e[nr]=null}};function Sd(t){this._internalRoot=t}Sd.prototype.unstable_scheduleHydration=function(t){if(t){var e=I1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&R1(t)}};function vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c0(){}function tP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=kc(o);s.call(c)}}var o=GT(e,r,t,0,null,!1,!1,"",c0);return t._reactRootContainer=o,t[nr]=o.current,Da(t.nodeType===8?t.parentNode:t),Di(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=kc(l);a.call(c)}}var l=_m(t,0,!1,null,null,!1,!1,"",c0);return t._reactRootContainer=l,t[nr]=l.current,Da(t.nodeType===8?t.parentNode:t),Di(function(){Td(e,l,n,r)}),l}function xd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=kc(o);a.call(l)}}Td(e,o,t,i)}else o=tP(n,e,t,i,r);return kc(o)}C1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=na(e.pendingLanes);n!==0&&(F_(e,n|1),Ot(e,Le()),!(de&6)&&(Gs=Le()+500,ai()))}break;case 13:Di(function(){var r=rr(t,1);if(r!==null){var i=St();dn(r,t,1,i)}}),mm(t,1)}};V_=function(t){if(t.tag===13){var e=rr(t,134217728);if(e!==null){var n=St();dn(e,t,134217728,n)}mm(t,134217728)}};x1=function(t){if(t.tag===13){var e=zr(t),n=rr(t,e);if(n!==null){var r=St();dn(n,t,e,r)}mm(t,e)}};I1=function(){return me};A1=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};up=function(t,e,n){switch(e){case"input":if(np(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_d(r);if(!i)throw Error(z(90));i1(r),np(r,i)}}}break;case"textarea":o1(t,n);break;case"select":e=n.value,e!=null&&bs(t,!!n.multiple,e,!1)}};f1=dm;p1=Di;var nP={usingClientEntryPoint:!1,Events:[fl,ys,_d,d1,h1,dm]},Go={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rP={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=g1(t),t===null?null:t.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||eP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{dd=gu.inject(rP),In=gu}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nP;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(e))throw Error(z(200));return Zk(t,e,null,n)};Kt.createRoot=function(t,e){if(!vm(t))throw Error(z(299));var n=!1,r="",i=QT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_m(t,1,!1,null,null,n,!1,r,i),t[nr]=e.current,Da(t.nodeType===8?t.parentNode:t),new gm(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=g1(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Di(t)};Kt.hydrate=function(t,e,n){if(!Cd(e))throw Error(z(200));return xd(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!vm(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GT(e,null,t,1,n??null,i,!1,s,o),t[nr]=e.current,Da(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sd(e)};Kt.render=function(t,e,n){if(!Cd(e))throw Error(z(200));return xd(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!Cd(t))throw Error(z(40));return t._reactRootContainer?(Di(function(){xd(null,null,t,!1,function(){t._reactRootContainer=null,t[nr]=null})}),!0):!1};Kt.unstable_batchedUpdates=dm;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return xd(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function XT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XT)}catch(t){console.error(t)}}XT(),XE.exports=Kt;var Id=XE.exports;const iP=ld(Id);var d0=Id;Qf.createRoot=d0.createRoot,Qf.hydrateRoot=d0.hydrateRoot;var YT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(YT);var sP=YT.exports;const Vn=ld(sP);function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function h0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ad(...t){return e=>{let n=!1;const r=t.map(i=>{const s=h0(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():h0(t[i],null)}}}}function gt(...t){return v.useCallback(Ad(...t),t)}function Wi(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var m;const{scope:f,children:E,...A}=h,R=((m=f==null?void 0:f[t])==null?void 0:m[l])||a,w=v.useMemo(()=>A,Object.values(A));return C.jsx(R.Provider,{value:w,children:E})};c.displayName=s+"Provider";function d(h,f){var R;const E=((R=f==null?void 0:f[t])==null?void 0:R[l])||a,A=v.useContext(E);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,oP(i,...e)]}function oP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function za(t){const e=aP(t),n=v.forwardRef((r,i)=>{const{children:s,...o}=r,a=v.Children.toArray(s),l=a.find(uP);if(l){const c=l.props.children,d=a.map(h=>h===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:h);return C.jsx(e,{...o,ref:i,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return C.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var ho=za("Slot");function aP(t){const e=v.forwardRef((n,r)=>{const{children:i,...s}=n;if(v.isValidElement(i)){const o=dP(i),a=cP(s,i.props);return i.type!==v.Fragment&&(a.ref=r?Ad(r,o):o),v.cloneElement(i,a)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var JT=Symbol("radix.slottable");function lP(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=JT,e}function uP(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===JT}function cP(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function dP(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=hP.reduce((t,e)=>{const n=za(`Primitive.${e}`),r=v.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ZT(t,e){t&&Id.flushSync(()=>t.dispatchEvent(e))}function Dn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function fP(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var pP="DismissableLayer",Bp="dismissableLayer.update",_P="dismissableLayer.pointerDownOutside",mP="dismissableLayer.focusOutside",f0,eS=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ym=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(eS),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=v.useState({}),A=gt(e,S=>h(S)),R=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=R.indexOf(w),_=d?R.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,k=_>=m,L=yP(S=>{const y=S.target,I=[...c.branches].some(p=>p.contains(y));!k||I||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},f),N=wP(S=>{const y=S.target;[...c.branches].some(p=>p.contains(y))||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},f);return fP(S=>{_===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(f0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),p0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=f0)}},[d,f,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),p0())},[d,c]),v.useEffect(()=>{const S=()=>E({});return document.addEventListener(Bp,S),()=>document.removeEventListener(Bp,S)},[]),C.jsx(Be.div,{...l,ref:A,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,N.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,L.onPointerDownCapture)})});ym.displayName=pP;var gP="DismissableLayerBranch",vP=v.forwardRef((t,e)=>{const n=v.useContext(eS),r=v.useRef(null),i=gt(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),C.jsx(Be.div,{...t,ref:i})});vP.displayName=gP;function yP(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){tS(_P,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wP(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&tS(mP,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p0(){const t=new CustomEvent(Bp);document.dispatchEvent(t)}function tS(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ZT(i,s):i.dispatchEvent(s)}var pn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},EP=cd[" useId ".trim().toString()]||(()=>{}),TP=0;function zp(t){const[e,n]=v.useState(EP());return pn(()=>{n(r=>r??String(TP++))},[t]),t||(e?`radix-${e}`:"")}const SP=["top","right","bottom","left"],ei=Math.min,jt=Math.max,Pc=Math.round,vu=Math.floor,Rn=t=>({x:t,y:t}),CP={left:"right",right:"left",bottom:"top",top:"bottom"},xP={start:"end",end:"start"};function Wp(t,e,n){return jt(t,ei(e,n))}function sr(t,e){return typeof t=="function"?t(e):t}function or(t){return t.split("-")[0]}function fo(t){return t.split("-")[1]}function wm(t){return t==="x"?"y":"x"}function Em(t){return t==="y"?"height":"width"}const IP=new Set(["top","bottom"]);function xn(t){return IP.has(or(t))?"y":"x"}function Tm(t){return wm(xn(t))}function AP(t,e,n){n===void 0&&(n=!1);const r=fo(t),i=Tm(t),s=Em(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Nc(o)),[o,Nc(o)]}function RP(t){const e=Nc(t);return[qp(t),e,qp(e)]}function qp(t){return t.replace(/start|end/g,e=>xP[e])}const _0=["left","right"],m0=["right","left"],bP=["top","bottom"],kP=["bottom","top"];function PP(t,e,n){switch(t){case"top":case"bottom":return n?e?m0:_0:e?_0:m0;case"left":case"right":return e?bP:kP;default:return[]}}function NP(t,e,n,r){const i=fo(t);let s=PP(or(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(qp)))),s}function Nc(t){return t.replace(/left|right|bottom|top/g,e=>CP[e])}function OP(t){return{top:0,right:0,bottom:0,left:0,...t}}function nS(t){return typeof t!="number"?OP(t):{top:t,right:t,bottom:t,left:t}}function Oc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function g0(t,e,n){let{reference:r,floating:i}=t;const s=xn(e),o=Tm(e),a=Em(o),l=or(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let E;switch(l){case"top":E={x:d,y:r.y-i.height};break;case"bottom":E={x:d,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:h};break;case"left":E={x:r.x-i.width,y:h};break;default:E={x:r.x,y:r.y}}switch(fo(e)){case"start":E[o]-=f*(n&&c?-1:1);break;case"end":E[o]+=f*(n&&c?-1:1);break}return E}const DP=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=g0(c,r,l),f=r,E={},A=0;for(let R=0;R<a.length;R++){const{name:w,fn:m}=a[R],{x:_,y:T,data:k,reset:L}=await m({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:E,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,h=T??h,E={...E,[w]:{...E[w],...k}},L&&A<=50&&(A++,typeof L=="object"&&(L.placement&&(f=L.placement),L.rects&&(c=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:d,y:h}=g0(c,f,l)),R=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:E}};async function Wa(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:E=0}=sr(e,t),A=nS(E),w=a[f?h==="floating"?"reference":"floating":h],m=Oc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},L=Oc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:l}):_);return{top:(m.top-L.top+A.top)/k.y,bottom:(L.bottom-m.bottom+A.bottom)/k.y,left:(m.left-L.left+A.left)/k.x,right:(L.right-m.right+A.right)/k.x}}const LP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=sr(t,e)||{};if(c==null)return{};const h=nS(d),f={x:n,y:r},E=Tm(i),A=Em(E),R=await o.getDimensions(c),w=E==="y",m=w?"top":"left",_=w?"bottom":"right",T=w?"clientHeight":"clientWidth",k=s.reference[A]+s.reference[E]-f[E]-s.floating[A],L=f[E]-s.reference[E],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=N?N[T]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=a.floating[T]||s.floating[A]);const y=k/2-L/2,I=S/2-R[A]/2-1,p=ei(h[m],I),b=ei(h[_],I),P=p,O=S-R[A]-b,B=S/2-R[A]/2+y,Y=Wp(P,B,O),H=!l.arrow&&fo(i)!=null&&B!==Y&&s.reference[A]/2-(B<P?p:b)-R[A]/2<0,Z=H?B<P?B-P:B-O:0;return{[E]:f[E]+Z,data:{[E]:Y,centerOffset:B-Y-Z,...H&&{alignmentOffset:Z}},reset:H}}}),MP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:R=!0,...w}=sr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=or(i),_=xn(a),T=or(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),L=f||(T||!R?[Nc(a)]:RP(a)),N=A!=="none";!f&&N&&L.push(...NP(a,R,A,k));const S=[a,...L],y=await Wa(e,w),I=[];let p=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&I.push(y[m]),h){const B=AP(i,o,k);I.push(y[B[0]],y[B[1]])}if(p=[...p,{placement:i,overflows:I}],!I.every(B=>B<=0)){var b,P;const B=(((b=s.flip)==null?void 0:b.index)||0)+1,Y=S[B];if(Y&&(!(h==="alignment"?_!==xn(Y):!1)||p.every(M=>M.overflows[0]>0&&xn(M.placement)===_)))return{data:{index:B,overflows:p},reset:{placement:Y}};let H=(P=p.filter(Z=>Z.overflows[0]<=0).sort((Z,M)=>Z.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!H)switch(E){case"bestFit":{var O;const Z=(O=p.filter(M=>{if(N){const j=xn(M.placement);return j===_||j==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(j=>j>0).reduce((j,W)=>j+W,0)]).sort((M,j)=>M[1]-j[1])[0])==null?void 0:O[0];Z&&(H=Z);break}case"initialPlacement":H=a;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function v0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function y0(t){return SP.some(e=>t[e]>=0)}const FP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=sr(t,e);switch(r){case"referenceHidden":{const s=await Wa(e,{...i,elementContext:"reference"}),o=v0(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:y0(o)}}}case"escaped":{const s=await Wa(e,{...i,altBoundary:!0}),o=v0(s,n.floating);return{data:{escapedOffsets:o,escaped:y0(o)}}}default:return{}}}}},rS=new Set(["left","top"]);async function VP(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=or(n),a=fo(n),l=xn(n)==="y",c=rS.has(o)?-1:1,d=s&&l?-1:1,h=sr(e,t);let{mainAxis:f,crossAxis:E,alignmentAxis:A}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof A=="number"&&(E=a==="end"?A*-1:A),l?{x:E*d,y:f*c}:{x:f*c,y:E*d}}const jP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await VP(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},$P=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:m,y:_}=w;return{x:m,y:_}}},...l}=sr(t,e),c={x:n,y:r},d=await Wa(e,l),h=xn(or(i)),f=wm(h);let E=c[f],A=c[h];if(s){const w=f==="y"?"top":"left",m=f==="y"?"bottom":"right",_=E+d[w],T=E-d[m];E=Wp(_,E,T)}if(o){const w=h==="y"?"top":"left",m=h==="y"?"bottom":"right",_=A+d[w],T=A-d[m];A=Wp(_,A,T)}const R=a.fn({...e,[f]:E,[h]:A});return{...R,data:{x:R.x-n,y:R.y-r,enabled:{[f]:s,[h]:o}}}}}},UP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=sr(t,e),d={x:n,y:r},h=xn(i),f=wm(h);let E=d[f],A=d[h];const R=sr(a,e),w=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(l){const T=f==="y"?"height":"width",k=s.reference[f]-s.floating[T]+w.mainAxis,L=s.reference[f]+s.reference[T]-w.mainAxis;E<k?E=k:E>L&&(E=L)}if(c){var m,_;const T=f==="y"?"width":"height",k=rS.has(or(i)),L=s.reference[h]-s.floating[T]+(k&&((m=o.offset)==null?void 0:m[h])||0)+(k?0:w.crossAxis),N=s.reference[h]+s.reference[T]+(k?0:((_=o.offset)==null?void 0:_[h])||0)-(k?w.crossAxis:0);A<L?A=L:A>N&&(A=N)}return{[f]:E,[h]:A}}}},BP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=sr(t,e),d=await Wa(e,c),h=or(i),f=fo(i),E=xn(i)==="y",{width:A,height:R}=s.floating;let w,m;h==="top"||h==="bottom"?(w=h,m=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=h,w=f==="end"?"top":"bottom");const _=R-d.top-d.bottom,T=A-d.left-d.right,k=ei(R-d[w],_),L=ei(A-d[m],T),N=!e.middlewareData.shift;let S=k,y=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(y=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=_),N&&!f){const p=jt(d.left,0),b=jt(d.right,0),P=jt(d.top,0),O=jt(d.bottom,0);E?y=A-2*(p!==0||b!==0?p+b:jt(d.left,d.right)):S=R-2*(P!==0||O!==0?P+O:jt(d.top,d.bottom))}await l({...e,availableWidth:y,availableHeight:S});const I=await o.getDimensions(a.floating);return A!==I.width||R!==I.height?{reset:{rects:!0}}:{}}}};function Rd(){return typeof window<"u"}function po(t){return iS(t)?(t.nodeName||"").toLowerCase():"#document"}function zt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jn(t){var e;return(e=(iS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iS(t){return Rd()?t instanceof Node||t instanceof zt(t).Node:!1}function _n(t){return Rd()?t instanceof Element||t instanceof zt(t).Element:!1}function Ln(t){return Rd()?t instanceof HTMLElement||t instanceof zt(t).HTMLElement:!1}function w0(t){return!Rd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof zt(t).ShadowRoot}const zP=new Set(["inline","contents"]);function _l(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zP.has(i)}const WP=new Set(["table","td","th"]);function qP(t){return WP.has(po(t))}const KP=[":popover-open",":modal"];function bd(t){return KP.some(e=>{try{return t.matches(e)}catch{return!1}})}const HP=["transform","translate","scale","rotate","perspective"],GP=["transform","translate","scale","rotate","perspective","filter"],QP=["paint","layout","strict","content"];function Sm(t){const e=Cm(),n=_n(t)?mn(t):t;return HP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||GP.some(r=>(n.willChange||"").includes(r))||QP.some(r=>(n.contain||"").includes(r))}function XP(t){let e=ti(t);for(;Ln(e)&&!Qs(e);){if(Sm(e))return e;if(bd(e))return null;e=ti(e)}return null}function Cm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YP=new Set(["html","body","#document"]);function Qs(t){return YP.has(po(t))}function mn(t){return zt(t).getComputedStyle(t)}function kd(t){return _n(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ti(t){if(po(t)==="html")return t;const e=t.assignedSlot||t.parentNode||w0(t)&&t.host||jn(t);return w0(e)?e.host:e}function sS(t){const e=ti(t);return Qs(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ln(e)&&_l(e)?e:sS(e)}function qa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=sS(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=zt(i);if(s){const a=Kp(o);return e.concat(o,o.visualViewport||[],_l(i)?i:[],a&&n?qa(a):[])}return e.concat(i,qa(i,[],n))}function Kp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function oS(t){const e=mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ln(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Pc(n)!==s||Pc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function xm(t){return _n(t)?t:t.contextElement}function Ls(t){const e=xm(t);if(!Ln(e))return Rn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=oS(e);let o=(s?Pc(n.width):n.width)/r,a=(s?Pc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const JP=Rn(0);function aS(t){const e=zt(t);return!Cm()||!e.visualViewport?JP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==zt(t)?!1:e}function Li(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=xm(t);let o=Rn(1);e&&(r?_n(r)&&(o=Ls(r)):o=Ls(t));const a=ZP(s,n,r)?aS(s):Rn(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=zt(s),E=r&&_n(r)?zt(r):r;let A=f,R=Kp(A);for(;R&&r&&E!==A;){const w=Ls(R),m=R.getBoundingClientRect(),_=mn(R),T=m.left+(R.clientLeft+parseFloat(_.paddingLeft))*w.x,k=m.top+(R.clientTop+parseFloat(_.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,h*=w.y,l+=T,c+=k,A=zt(R),R=Kp(A)}}return Oc({width:d,height:h,x:l,y:c})}function Im(t,e){const n=kd(t).scrollLeft;return e?e.left+n:Li(jn(t)).left+n}function lS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Im(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function eN(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=jn(r),a=e?bd(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Rn(1);const d=Rn(0),h=Ln(r);if((h||!h&&!s)&&((po(r)!=="body"||_l(o))&&(l=kd(r)),Ln(r))){const E=Li(r);c=Ls(r),d.x=E.x+r.clientLeft,d.y=E.y+r.clientTop}const f=o&&!h&&!s?lS(o,l,!0):Rn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function tN(t){return Array.from(t.getClientRects())}function nN(t){const e=jn(t),n=kd(t),r=t.ownerDocument.body,i=jt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=jt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Im(t);const a=-n.scrollTop;return mn(r).direction==="rtl"&&(o+=jt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function rN(t,e){const n=zt(t),r=jn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Cm();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const iN=new Set(["absolute","fixed"]);function sN(t,e){const n=Li(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ln(t)?Ls(t):Rn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function E0(t,e,n){let r;if(e==="viewport")r=rN(t,n);else if(e==="document")r=nN(jn(t));else if(_n(e))r=sN(e,n);else{const i=aS(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Oc(r)}function uS(t,e){const n=ti(t);return n===e||!_n(n)||Qs(n)?!1:mn(n).position==="fixed"||uS(n,e)}function oN(t,e){const n=e.get(t);if(n)return n;let r=qa(t,[],!1).filter(a=>_n(a)&&po(a)!=="body"),i=null;const s=mn(t).position==="fixed";let o=s?ti(t):t;for(;_n(o)&&!Qs(o);){const a=mn(o),l=Sm(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&iN.has(i.position)||_l(o)&&!l&&uS(t,o))?r=r.filter(d=>d!==o):i=a,o=ti(o)}return e.set(t,r),r}function aN(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?bd(e)?[]:oN(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=E0(e,d,i);return c.top=jt(h.top,c.top),c.right=ei(h.right,c.right),c.bottom=ei(h.bottom,c.bottom),c.left=jt(h.left,c.left),c},E0(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lN(t){const{width:e,height:n}=oS(t);return{width:e,height:n}}function uN(t,e,n){const r=Ln(e),i=jn(e),s=n==="fixed",o=Li(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Rn(0);function c(){l.x=Im(i)}if(r||!r&&!s)if((po(e)!=="body"||_l(i))&&(a=kd(e)),r){const E=Li(e,!0,s,e);l.x=E.x+e.clientLeft,l.y=E.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?lS(i,a):Rn(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function uf(t){return mn(t).position==="static"}function T0(t,e){if(!Ln(t)||mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return jn(t)===n&&(n=n.ownerDocument.body),n}function cS(t,e){const n=zt(t);if(bd(t))return n;if(!Ln(t)){let i=ti(t);for(;i&&!Qs(i);){if(_n(i)&&!uf(i))return i;i=ti(i)}return n}let r=T0(t,e);for(;r&&qP(r)&&uf(r);)r=T0(r,e);return r&&Qs(r)&&uf(r)&&!Sm(r)?n:r||XP(t)||n}const cN=async function(t){const e=this.getOffsetParent||cS,n=this.getDimensions,r=await n(t.floating);return{reference:uN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dN(t){return mn(t).direction==="rtl"}const hN={convertOffsetParentRelativeRectToViewportRelativeRect:eN,getDocumentElement:jn,getClippingRect:aN,getOffsetParent:cS,getElementRects:cN,getClientRects:tN,getDimensions:lN,getScale:Ls,isElement:_n,isRTL:dN};function dS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function fN(t,e){let n=null,r;const i=jn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:E}=c;if(a||e(),!f||!E)return;const A=vu(h),R=vu(i.clientWidth-(d+f)),w=vu(i.clientHeight-(h+E)),m=vu(d),T={rootMargin:-A+"px "+-R+"px "+-w+"px "+-m+"px",threshold:jt(0,ei(1,l))||1};let k=!0;function L(N){const S=N[0].intersectionRatio;if(S!==l){if(!k)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!dS(c,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(L,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,T)}n.observe(t)}return o(!0),s}function pN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=xm(t),d=i||s?[...c?qa(c):[],...qa(e)]:[];d.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const h=c&&a?fN(c,n):null;let f=-1,E=null;o&&(E=new ResizeObserver(m=>{let[_]=m;_&&_.target===c&&E&&(E.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=E)==null||T.observe(e)})),n()}),c&&!l&&E.observe(c),E.observe(e));let A,R=l?Li(t):null;l&&w();function w(){const m=Li(t);R&&!dS(R,m)&&n(),R=m,A=requestAnimationFrame(w)}return n(),()=>{var m;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(m=E)==null||m.disconnect(),E=null,l&&cancelAnimationFrame(A)}}const _N=jP,mN=$P,gN=MP,vN=BP,yN=FP,S0=LP,wN=UP,EN=(t,e,n)=>{const r=new Map,i={platform:hN,...n},s={...i.platform,_c:r};return DP(t,e,{...i,platform:s})};var TN=typeof document<"u",SN=function(){},Qu=TN?v.useLayoutEffect:SN;function Dc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Dc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function hS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function C0(t,e){const n=hS(t);return Math.round(e*n)/n}function cf(t){const e=v.useRef(t);return Qu(()=>{e.current=t}),e}function CN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,E]=v.useState(r);Dc(f,r)||E(r);const[A,R]=v.useState(null),[w,m]=v.useState(null),_=v.useCallback(M=>{M!==N.current&&(N.current=M,R(M))},[]),T=v.useCallback(M=>{M!==S.current&&(S.current=M,m(M))},[]),k=s||A,L=o||w,N=v.useRef(null),S=v.useRef(null),y=v.useRef(d),I=l!=null,p=cf(l),b=cf(i),P=cf(c),O=v.useCallback(()=>{if(!N.current||!S.current)return;const M={placement:e,strategy:n,middleware:f};b.current&&(M.platform=b.current),EN(N.current,S.current,M).then(j=>{const W={...j,isPositioned:P.current!==!1};B.current&&!Dc(y.current,W)&&(y.current=W,Id.flushSync(()=>{h(W)}))})},[f,e,n,b,P]);Qu(()=>{c===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[c]);const B=v.useRef(!1);Qu(()=>(B.current=!0,()=>{B.current=!1}),[]),Qu(()=>{if(k&&(N.current=k),L&&(S.current=L),k&&L){if(p.current)return p.current(k,L,O);O()}},[k,L,O,p,I]);const Y=v.useMemo(()=>({reference:N,floating:S,setReference:_,setFloating:T}),[_,T]),H=v.useMemo(()=>({reference:k,floating:L}),[k,L]),Z=v.useMemo(()=>{const M={position:n,left:0,top:0};if(!H.floating)return M;const j=C0(H.floating,d.x),W=C0(H.floating,d.y);return a?{...M,transform:"translate("+j+"px, "+W+"px)",...hS(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:W}},[n,a,H.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:O,refs:Y,elements:H,floatingStyles:Z}),[d,O,Y,H,Z])}const xN=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?S0({element:r.current,padding:i}).fn(n):{}:r?S0({element:r,padding:i}).fn(n):{}}}},IN=(t,e)=>({..._N(t),options:[t,e]}),AN=(t,e)=>({...mN(t),options:[t,e]}),RN=(t,e)=>({...wN(t),options:[t,e]}),bN=(t,e)=>({...gN(t),options:[t,e]}),kN=(t,e)=>({...vN(t),options:[t,e]}),PN=(t,e)=>({...yN(t),options:[t,e]}),NN=(t,e)=>({...xN(t),options:[t,e]});var ON="Arrow",fS=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return C.jsx(Be.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});fS.displayName=ON;var DN=fS;function LN(t){const[e,n]=v.useState(void 0);return pn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Am="Popper",[pS,Pd]=Wi(Am),[MN,_S]=pS(Am),mS=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return C.jsx(MN,{scope:e,anchor:r,onAnchorChange:i,children:n})};mS.displayName=Am;var gS="PopperAnchor",vS=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=_S(gS,n),o=v.useRef(null),a=gt(e,o);return v.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:C.jsx(Be.div,{...i,ref:a})});vS.displayName=gS;var Rm="PopperContent",[FN,VN]=pS(Rm),yS=v.forwardRef((t,e)=>{var Ce,nn,Xe,Rt,Gt,gr;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:E="optimized",onPlaced:A,...R}=t,w=_S(Rm,n),[m,_]=v.useState(null),T=gt(e,Dt=>_(Dt)),[k,L]=v.useState(null),N=LN(k),S=(N==null?void 0:N.width)??0,y=(N==null?void 0:N.height)??0,I=r+(s!=="center"?"-"+s:""),p=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},b=Array.isArray(c)?c:[c],P=b.length>0,O={padding:p,boundary:b.filter($N),altBoundary:P},{refs:B,floatingStyles:Y,placement:H,isPositioned:Z,middlewareData:M}=CN({strategy:"fixed",placement:I,whileElementsMounted:(...Dt)=>pN(...Dt,{animationFrame:E==="always"}),elements:{reference:w.anchor},middleware:[IN({mainAxis:i+y,alignmentAxis:o}),l&&AN({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?RN():void 0,...O}),l&&bN({...O}),kN({...O,apply:({elements:Dt,rects:Yi,availableWidth:Ao,availableHeight:Vl})=>{const{width:ph,height:_h}=Yi.reference,hi=Dt.floating.style;hi.setProperty("--radix-popper-available-width",`${Ao}px`),hi.setProperty("--radix-popper-available-height",`${Vl}px`),hi.setProperty("--radix-popper-anchor-width",`${ph}px`),hi.setProperty("--radix-popper-anchor-height",`${_h}px`)}}),k&&NN({element:k,padding:a}),UN({arrowWidth:S,arrowHeight:y}),f&&PN({strategy:"referenceHidden",...O})]}),[j,W]=TS(H),re=Dn(A);pn(()=>{Z&&(re==null||re())},[Z,re]);const ee=(Ce=M.arrow)==null?void 0:Ce.x,_e=(nn=M.arrow)==null?void 0:nn.y,Se=((Xe=M.arrow)==null?void 0:Xe.centerOffset)!==0,[Fe,ke]=v.useState();return pn(()=>{m&&ke(window.getComputedStyle(m).zIndex)},[m]),C.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:Z?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(Rt=M.transformOrigin)==null?void 0:Rt.x,(Gt=M.transformOrigin)==null?void 0:Gt.y].join(" "),...((gr=M.hide)==null?void 0:gr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(FN,{scope:n,placedSide:j,onArrowChange:L,arrowX:ee,arrowY:_e,shouldHideArrow:Se,children:C.jsx(Be.div,{"data-side":j,"data-align":W,...R,ref:T,style:{...R.style,animation:Z?void 0:"none"}})})})});yS.displayName=Rm;var wS="PopperArrow",jN={top:"bottom",right:"left",bottom:"top",left:"right"},ES=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=VN(wS,r),o=jN[s.placedSide];return C.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:C.jsx(DN,{...i,ref:n,style:{...i.style,display:"block"}})})});ES.displayName=wS;function $N(t){return t!==null}var UN=t=>({name:"transformOrigin",options:t,fn(e){var w,m,_;const{placement:n,rects:r,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=TS(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((m=i.arrow)==null?void 0:m.x)??0)+a/2,E=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let A="",R="";return c==="bottom"?(A=o?h:`${f}px`,R=`${-l}px`):c==="top"?(A=o?h:`${f}px`,R=`${r.floating.height+l}px`):c==="right"?(A=`${-l}px`,R=o?h:`${E}px`):c==="left"&&(A=`${r.floating.width+l}px`,R=o?h:`${E}px`),{data:{x:A,y:R}}}});function TS(t){const[e,n="center"]=t.split("-");return[e,n]}var BN=mS,SS=vS,CS=yS,xS=ES,zN="Portal",IS=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=v.useState(!1);pn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?iP.createPortal(C.jsx(Be.div,{...r,ref:e}),o):null});IS.displayName=zN;function WN(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var _o=t=>{const{present:e,children:n}=t,r=qN(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=gt(r.ref,KN(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};_o.displayName="Presence";function qN(t){const[e,n]=v.useState(),r=v.useRef(null),i=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=WN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=yu(r.current);s.current=a==="mounted"?c:"none"},[a]),pn(()=>{const c=r.current,d=i.current;if(d!==t){const f=s.current,E=yu(c);t?l("MOUNT"):E==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),pn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=E=>{const R=yu(r.current).includes(E.animationName);if(E.target===e&&R&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=E=>{E.target===e&&(s.current=yu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function yu(t){return(t==null?void 0:t.animationName)||"none"}function KN(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var HN=cd[" useInsertionEffect ".trim().toString()]||pn;function AS({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=GN({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=v.useRef(t!==void 0);v.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=v.useCallback(d=>{var h;if(a){const f=QN(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else s(d)},[a,t,s,o]);return[l,c]}function GN({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),i=v.useRef(n),s=v.useRef(e);return HN(()=>{s.current=e},[e]),v.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function QN(t){return typeof t=="function"}var XN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YN="VisuallyHidden",RS=v.forwardRef((t,e)=>C.jsx(Be.span,{...t,ref:e,style:{...XN,...t.style}}));RS.displayName=YN;var JN=RS,[Nd,I$]=Wi("Tooltip",[Pd]),bm=Pd(),bS="TooltipProvider",ZN=700,x0="tooltip.open",[e2,kS]=Nd(bS),PS=t=>{const{__scopeTooltip:e,delayDuration:n=ZN,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),C.jsx(e2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};PS.displayName=bS;var NS="Tooltip",[A$,Od]=Nd(NS),Hp="TooltipTrigger",t2=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Od(Hp,n),s=kS(Hp,n),o=bm(n),a=v.useRef(null),l=gt(e,a,i.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),C.jsx(SS,{asChild:!0,...o,children:C.jsx(Be.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:oe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:oe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:oe(t.onBlur,i.onClose),onClick:oe(t.onClick,i.onClose)})})});t2.displayName=Hp;var n2="TooltipPortal",[R$,r2]=Nd(n2,{forceMount:void 0}),Xs="TooltipContent",i2=v.forwardRef((t,e)=>{const n=r2(Xs,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Od(Xs,t.__scopeTooltip);return C.jsx(_o,{present:r||o.open,children:o.disableHoverableContent?C.jsx(OS,{side:i,...s,ref:e}):C.jsx(s2,{side:i,...s,ref:e})})}),s2=v.forwardRef((t,e)=>{const n=Od(Xs,t.__scopeTooltip),r=kS(Xs,t.__scopeTooltip),i=v.useRef(null),s=gt(e,i),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{a(null),h(!1)},[h]),E=v.useCallback((A,R)=>{const w=A.currentTarget,m={x:A.clientX,y:A.clientY},_=c2(m,w.getBoundingClientRect()),T=d2(m,_),k=h2(R.getBoundingClientRect()),L=p2([...T,...k]);a(L),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&d){const A=w=>E(w,d),R=w=>E(w,l);return l.addEventListener("pointerleave",A),d.addEventListener("pointerleave",R),()=>{l.removeEventListener("pointerleave",A),d.removeEventListener("pointerleave",R)}}},[l,d,E,f]),v.useEffect(()=>{if(o){const A=R=>{const w=R.target,m={x:R.clientX,y:R.clientY},_=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),T=!f2(m,o);_?f():T&&(f(),c())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[l,d,o,c,f]),C.jsx(OS,{...t,ref:s})}),[o2,a2]=Nd(NS,{isInside:!1}),l2=lP("TooltipContent"),OS=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Od(Xs,n),c=bm(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(x0,d),()=>document.removeEventListener(x0,d)),[d]),v.useEffect(()=>{if(l.trigger){const h=f=>{const E=f.target;E!=null&&E.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),C.jsx(ym,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:C.jsxs(CS,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(l2,{children:r}),C.jsx(o2,{scope:n,isInside:!0,children:C.jsx(JN,{id:l.contentId,role:"tooltip",children:i||r})})]})})});i2.displayName=Xs;var DS="TooltipArrow",u2=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=bm(n);return a2(DS,n).isInside?null:C.jsx(xS,{...i,...r,ref:e})});u2.displayName=DS;function c2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function d2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function h2(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function f2(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-c)*(r-d)/(f-d)+c&&(i=!i)}return i}function p2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_2(e)}function _2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var m2=PS,LS=v.createContext(void 0),g2=t=>{const{dir:e,children:n}=t;return C.jsx(LS.Provider,{value:e,children:n})};function MS(t){const e=v.useContext(LS);return t||e||"ltr"}function v2(t){switch(t){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand"}}const Ft={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}};function FS(t){return t==="gray"?"gray":v2(t)}const rs=()=>{},Gp=v.createContext(void 0),VS=v.forwardRef((t,e)=>v.useContext(Gp)===void 0?v.createElement(m2,null,v.createElement(g2,{dir:"ltr"},v.createElement(jS,{...t,ref:e}))):v.createElement(km,{...t,ref:e}));VS.displayName="Theme";const jS=v.forwardRef((t,e)=>{const{appearance:n=Ft.appearance.default,accentColor:r=Ft.accentColor.default,grayColor:i=Ft.grayColor.default,panelBackground:s=Ft.panelBackground.default,radius:o=Ft.radius.default,scaling:a=Ft.scaling.default,hasBackground:l=Ft.hasBackground.default,...c}=t,[d,h]=v.useState(n);v.useEffect(()=>h(n),[n]);const[f,E]=v.useState(r);v.useEffect(()=>E(r),[r]);const[A,R]=v.useState(i);v.useEffect(()=>R(i),[i]);const[w,m]=v.useState(s);v.useEffect(()=>m(s),[s]);const[_,T]=v.useState(o);v.useEffect(()=>T(o),[o]);const[k,L]=v.useState(a);v.useEffect(()=>L(a),[a]);const N=v.memo(({appearance:y})=>v.createElement("script",{dangerouslySetInnerHTML:{__html:`!(function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');d.style.colorScheme='${y}';c.add('${y}');}catch(e){}})();`}}),()=>!0);N.displayName="ExplicitRootAppearanceScript",v.useEffect(()=>y2(n),[n]);const S=A==="auto"?FS(f):A;return v.createElement(v.Fragment,null,d!=="inherit"&&v.createElement(N,{appearance:d}),l&&v.createElement("style",{dangerouslySetInnerHTML:{__html:`
:root, .light, .light-theme { --color-page-background: white; }
.dark, .dark-theme { --color-page-background: var(--${S}-1); }
body { background-color: var(--color-page-background); }
`}}),v.createElement(km,{...c,ref:e,isRoot:!0,hasBackground:l,appearance:d,accentColor:f,grayColor:A,panelBackground:w,radius:_,scaling:k,onAppearanceChange:h,onAccentColorChange:E,onGrayColorChange:R,onPanelBackgroundChange:m,onRadiusChange:T,onScalingChange:L}))});jS.displayName="ThemeRoot";const km=v.forwardRef((t,e)=>{var n,r,i,s,o,a;const l=v.useContext(Gp),{asChild:c,isRoot:d,hasBackground:h,appearance:f=(n=l==null?void 0:l.appearance)!==null&&n!==void 0?n:Ft.appearance.default,accentColor:E=(r=l==null?void 0:l.accentColor)!==null&&r!==void 0?r:Ft.accentColor.default,grayColor:A=(i=l==null?void 0:l.resolvedGrayColor)!==null&&i!==void 0?i:Ft.grayColor.default,panelBackground:R=(s=l==null?void 0:l.panelBackground)!==null&&s!==void 0?s:Ft.panelBackground.default,radius:w=(o=l==null?void 0:l.radius)!==null&&o!==void 0?o:Ft.radius.default,scaling:m=(a=l==null?void 0:l.scaling)!==null&&a!==void 0?a:Ft.scaling.default,onAppearanceChange:_=rs,onAccentColorChange:T=rs,onGrayColorChange:k=rs,onPanelBackgroundChange:L=rs,onRadiusChange:N=rs,onScalingChange:S=rs,...y}=t,I=c?ho:"div",p=A==="auto"?FS(E):A,b=t.appearance!==void 0&&t.appearance!=="inherit",P=t.grayColor!==void 0,O=!d&&(h===!0||h!==!1&&(b||P));return v.createElement(Gp.Provider,{value:v.useMemo(()=>({appearance:f,accentColor:E,grayColor:A,resolvedGrayColor:p,panelBackground:R,radius:w,scaling:m,onAppearanceChange:_,onAccentColorChange:T,onGrayColorChange:k,onPanelBackgroundChange:L,onRadiusChange:N,onScalingChange:S}),[f,E,A,p,R,w,m,_,T,k,L,N,S])},v.createElement(I,{"data-is-root-theme":d?"true":"false","data-accent-color":E,"data-gray-color":p,"data-has-background":O?"true":"false","data-panel-background":R,"data-radius":w,"data-scaling":m,ref:e,...y,className:Vn("radix-themes",{light:!d&&f==="light",dark:!d&&f==="dark"},y.className)}))});km.displayName="ThemeImpl";function y2(t){if(t==="inherit")return;const e=document.documentElement;(e.classList.contains("light-theme")||e.classList.contains("dark-theme"))&&(e.classList.remove("light-theme","dark-theme"),e.style.colorScheme=t,e.classList.add(`${t}-theme`)),(e.classList.contains("light")||e.classList.contains("dark"))&&(e.classList.remove("light","dark"),e.style.colorScheme=t,e.classList.add(t))}const ml={default:void 0},Pm={default:void 0};function se(t,e="",n){var r,i,s,o;const a=[];if(typeof t=="object"){for(const l of Object.keys(t))if(l in t){const c=(r=t[l])===null||r===void 0?void 0:r.toString(),d=c==null?void 0:c.startsWith("-"),h=e===""?"":"-",f=d?`-${e}`:e,E=d?c==null?void 0:c.substring(1):c;if(E===void 0)continue;const A=(i=n==null?void 0:n[E])!==null&&i!==void 0?i:E,R=l==="initial"?`${f}${h}${A}`:`${l}:${f}${h}${A}`;a.push(R)}}if(typeof t=="string"){const l=t.startsWith("-"),c=e===""?"":"-",d=l?`-${e}`:e,h=l?t.substring(1):t,f=(s=n==null?void 0:n[h])!==null&&s!==void 0?s:h;a.push(`${d}${c}${f}`)}if(typeof t=="boolean"){const l=e===""?"":"-",c=t.toString(),d=(o=n==null?void 0:n[c])!==null&&o!==void 0?o:c;a.push(`${e}${l}${d}`)}return a.join(" ")}const gi=["0","1","2","3","4","5","6","7","8","9"],w2={p:{type:"enum",values:gi,default:void 0,responsive:!0},px:{type:"enum",values:gi,default:void 0,responsive:!0},py:{type:"enum",values:gi,default:void 0,responsive:!0},pt:{type:"enum",values:gi,default:void 0,responsive:!0},pr:{type:"enum",values:gi,default:void 0,responsive:!0},pb:{type:"enum",values:gi,default:void 0,responsive:!0},pl:{type:"enum",values:gi,default:void 0,responsive:!0}};function $S(t){const{p:e=Ze.p.default,px:n=Ze.px.default,py:r=Ze.py.default,pt:i=Ze.pt.default,pr:s=Ze.pr.default,pb:o=Ze.pb.default,pl:a=Ze.pl.default,...l}=t;return{p:e,px:n,py:r,pt:i,pr:s,pb:o,pl:a,rest:l}}function US(t){return[se(t.p,"rt-r-p"),se(t.px,"rt-r-px"),se(t.py,"rt-r-py"),se(t.pt,"rt-r-pt"),se(t.pr,"rt-r-pr"),se(t.pb,"rt-r-pb"),se(t.pl,"rt-r-pl")].filter(Boolean).join(" ")}const Ze={...w2,position:{default:void 0},inset:{default:void 0},top:{default:void 0},right:{default:void 0},bottom:{default:void 0},left:{default:void 0},width:{default:void 0},height:{default:void 0},shrink:{default:void 0},grow:{default:void 0}};function E2(t){const{rest:e,...n}=$S(t),{position:r=Ze.position.default,width:i=Ze.width.default,height:s=Ze.height.default,inset:o=Ze.inset.default,top:a=Ze.top.default,bottom:l=Ze.bottom.default,left:c=Ze.left.default,right:d=Ze.right.default,shrink:h=Ze.shrink.default,grow:f=Ze.grow.default,...E}=e;return{...n,position:r,width:i,height:s,inset:o,top:a,bottom:l,left:c,right:d,shrink:h,grow:f,rest:E}}function T2(t){return[US(t),se(t.position,"rt-r-position"),se(t.shrink,"rt-r-fs"),se(t.grow,"rt-r-fg"),se(t.width,"rt-r-w"),se(t.height,"rt-r-h"),se(t.inset,"rt-r-inset"),se(t.top,"rt-r-top"),se(t.bottom,"rt-r-bottom"),se(t.left,"rt-r-left"),se(t.right,"rt-r-right")].filter(Boolean).join(" ")}const BS={default:void 0},vi={m:{default:void 0},mx:{default:void 0},my:{default:void 0},mt:{default:void 0},mr:{default:void 0},mb:{default:void 0},ml:{default:void 0}};function qi(t){const{m:e=vi.m.default,mx:n=vi.mx.default,my:r=vi.my.default,mt:i=vi.mt.default,mr:s=vi.mr.default,mb:o=vi.mb.default,ml:a=vi.ml.default,...l}=t;return{m:e,mx:n,my:r,mt:i,mr:s,mb:o,ml:a,rest:l}}function mo(t){return[se(t.m,"rt-r-m"),se(t.mx,"rt-r-mx"),se(t.my,"rt-r-my"),se(t.mt,"rt-r-mt"),se(t.mr,"rt-r-mr"),se(t.mb,"rt-r-mb"),se(t.ml,"rt-r-ml")].filter(Boolean).join(" ")}const zS={default:void 0},WS={default:void 0},S2={default:void 0},Ei={display:{default:"flex"},direction:{default:void 0},align:{default:void 0},justify:{default:"start"},wrap:{default:void 0},gap:{default:void 0}},qr=v.forwardRef((t,e)=>{const{rest:n,...r}=qi(t),{rest:i,...s}=E2(n),{className:o,asChild:a,display:l=Ei.display.default,direction:c=Ei.direction.default,align:d=Ei.align.default,justify:h=Ei.justify.default,wrap:f=Ei.wrap.default,gap:E=Ei.gap.default,...A}=i,R=a?ho:"div";return v.createElement(R,{...A,ref:e,className:Vn("rt-Flex",o,se(l,"rt-r-display"),se(c,"rt-r-fd"),se(d,"rt-r-ai"),se(h,"rt-r-jc",{between:"space-between"}),se(f,"rt-r-fw"),se(E,"rt-r-gap"),T2(s),mo(r))})});qr.displayName="Flex";const is={size:{default:"6"},weight:{default:"bold"},align:WS,trim:BS,color:ml,highContrast:Pm},qS=v.forwardRef((t,e)=>{const{rest:n,...r}=qi(t),{children:i,className:s,asChild:o=!1,as:a="h1",size:l=is.size.default,weight:c=is.weight.default,align:d=is.align.default,trim:h=is.trim.default,color:f=is.color.default,highContrast:E=is.highContrast.default,...A}=n;return v.createElement(ho,{"data-accent-color":f,...A,ref:e,className:Vn("rt-Heading",s,se(l,"rt-r-size"),se(c,"rt-r-weight"),se(d,"rt-r-ta"),se(h,"rt-r-lt"),{"rt-high-contrast":E},mo(r))},o?i:v.createElement(a,null,i))});qS.displayName="Heading";const ss={size:{default:void 0},weight:S2,align:WS,trim:BS,color:ml,highContrast:Pm},an=v.forwardRef((t,e)=>{const{rest:n,...r}=qi(t),{children:i,className:s,asChild:o=!1,as:a="span",size:l=ss.size.default,weight:c=ss.weight.default,align:d=ss.align.default,trim:h=ss.trim.default,color:f=ss.color.default,highContrast:E=ss.highContrast.default,...A}=n;return v.createElement(ho,{"data-accent-color":f,...A,ref:e,className:Vn("rt-Text",s,se(l,"rt-r-size"),se(c,"rt-r-weight"),se(d,"rt-r-ta"),se(h,"rt-r-lt"),{"rt-high-contrast":E},mo(r))},o?i:v.createElement(a,null,i))});an.displayName="Text";function KS(t){const e=t+"CollectionProvider",[n,r]=Wi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=R=>{const{scope:w,children:m}=R,_=Tn.useRef(null),T=Tn.useRef(new Map).current;return C.jsx(i,{scope:w,itemMap:T,collectionRef:_,children:m})};o.displayName=e;const a=t+"CollectionSlot",l=za(a),c=Tn.forwardRef((R,w)=>{const{scope:m,children:_}=R,T=s(a,m),k=gt(w,T.collectionRef);return C.jsx(l,{ref:k,children:_})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=za(d),E=Tn.forwardRef((R,w)=>{const{scope:m,children:_,...T}=R,k=Tn.useRef(null),L=gt(w,k),N=s(d,m);return Tn.useEffect(()=>(N.itemMap.set(k,{ref:k,...T}),()=>void N.itemMap.delete(k))),C.jsx(f,{[h]:"",ref:L,children:_})});E.displayName=d;function A(R){const w=s(t+"CollectionConsumer",R);return Tn.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((N,S)=>T.indexOf(N.ref.current)-T.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:E},A,r]}var df="rovingFocusGroup.onEntryFocus",C2={bubbles:!1,cancelable:!0},gl="RovingFocusGroup",[Qp,HS,x2]=KS(gl),[I2,GS]=Wi(gl,[x2]),[A2,R2]=I2(gl),QS=v.forwardRef((t,e)=>C.jsx(Qp.Provider,{scope:t.__scopeRovingFocusGroup,children:C.jsx(Qp.Slot,{scope:t.__scopeRovingFocusGroup,children:C.jsx(b2,{...t,ref:e})})}));QS.displayName=gl;var b2=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=v.useRef(null),E=gt(e,f),A=MS(s),[R,w]=AS({prop:o,defaultProp:a??null,onChange:l,caller:gl}),[m,_]=v.useState(!1),T=Dn(c),k=HS(n),L=v.useRef(!1),[N,S]=v.useState(0);return v.useEffect(()=>{const y=f.current;if(y)return y.addEventListener(df,T),()=>y.removeEventListener(df,T)},[T]),C.jsx(A2,{scope:n,orientation:r,dir:A,loop:i,currentTabStopId:R,onItemFocus:v.useCallback(y=>w(y),[w]),onItemShiftTab:v.useCallback(()=>_(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(y=>y+1),[]),onFocusableItemRemove:v.useCallback(()=>S(y=>y-1),[]),children:C.jsx(Be.div,{tabIndex:m||N===0?-1:0,"data-orientation":r,...h,ref:E,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{L.current=!0}),onFocus:oe(t.onFocus,y=>{const I=!L.current;if(y.target===y.currentTarget&&I&&!m){const p=new CustomEvent(df,C2);if(y.currentTarget.dispatchEvent(p),!p.defaultPrevented){const b=k().filter(H=>H.focusable),P=b.find(H=>H.active),O=b.find(H=>H.id===R),Y=[P,O,...b].filter(Boolean).map(H=>H.ref.current);JS(Y,d)}}L.current=!1}),onBlur:oe(t.onBlur,()=>_(!1))})})}),XS="RovingFocusGroupItem",YS=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=zp(),c=s||l,d=R2(XS,n),h=d.currentTabStopId===c,f=HS(n),{onFocusableItemAdd:E,onFocusableItemRemove:A,currentTabStopId:R}=d;return v.useEffect(()=>{if(r)return E(),()=>A()},[r,E,A]),C.jsx(Qp.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:C.jsx(Be.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:oe(t.onMouseDown,w=>{r?d.onItemFocus(c):w.preventDefault()}),onFocus:oe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:oe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const m=N2(w,d.orientation,d.dir);if(m!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let T=f().filter(k=>k.focusable).map(k=>k.ref.current);if(m==="last")T.reverse();else if(m==="prev"||m==="next"){m==="prev"&&T.reverse();const k=T.indexOf(w.currentTarget);T=d.loop?O2(T,k+1):T.slice(k+1)}setTimeout(()=>JS(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:R!=null}):o})})});YS.displayName=XS;var k2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P2(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function N2(t,e,n){const r=P2(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return k2[r]}function JS(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function O2(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var D2=QS,L2=YS,hf=0;function M2(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??I0()),document.body.insertAdjacentElement("beforeend",t[1]??I0()),hf++,()=>{hf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hf--}},[])}function I0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ff="focusScope.autoFocusOnMount",pf="focusScope.autoFocusOnUnmount",A0={bubbles:!1,cancelable:!0},F2="FocusScope",ZS=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=v.useState(null),c=Dn(i),d=Dn(s),h=v.useRef(null),f=gt(e,R=>l(R)),E=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let R=function(T){if(E.paused||!a)return;const k=T.target;a.contains(k)?h.current=k:Sr(h.current,{select:!0})},w=function(T){if(E.paused||!a)return;const k=T.relatedTarget;k!==null&&(a.contains(k)||Sr(h.current,{select:!0}))},m=function(T){if(document.activeElement===document.body)for(const L of T)L.removedNodes.length>0&&Sr(a)};document.addEventListener("focusin",R),document.addEventListener("focusout",w);const _=new MutationObserver(m);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,E.paused]),v.useEffect(()=>{if(a){b0.add(E);const R=document.activeElement;if(!a.contains(R)){const m=new CustomEvent(ff,A0);a.addEventListener(ff,c),a.dispatchEvent(m),m.defaultPrevented||(V2(z2(eC(a)),{select:!0}),document.activeElement===R&&Sr(a))}return()=>{a.removeEventListener(ff,c),setTimeout(()=>{const m=new CustomEvent(pf,A0);a.addEventListener(pf,d),a.dispatchEvent(m),m.defaultPrevented||Sr(R??document.body,{select:!0}),a.removeEventListener(pf,d),b0.remove(E)},0)}}},[a,c,d,E]);const A=v.useCallback(R=>{if(!n&&!r||E.paused)return;const w=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,m=document.activeElement;if(w&&m){const _=R.currentTarget,[T,k]=j2(_);T&&k?!R.shiftKey&&m===k?(R.preventDefault(),n&&Sr(T,{select:!0})):R.shiftKey&&m===T&&(R.preventDefault(),n&&Sr(k,{select:!0})):m===_&&R.preventDefault()}},[n,r,E.paused]);return C.jsx(Be.div,{tabIndex:-1,...o,ref:f,onKeyDown:A})});ZS.displayName=F2;function V2(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Sr(r,{select:e}),document.activeElement!==n)return}function j2(t){const e=eC(t),n=R0(e,t),r=R0(e.reverse(),t);return[n,r]}function eC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function R0(t,e){for(const n of t)if(!$2(n,{upTo:e}))return n}function $2(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function U2(t){return t instanceof HTMLInputElement&&"select"in t}function Sr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&U2(t)&&e&&t.select()}}var b0=B2();function B2(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=k0(t,e),t.unshift(e)},remove(e){var n;t=k0(t,e),(n=t[0])==null||n.resume()}}}function k0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function z2(t){return t.filter(e=>e.tagName!=="A")}var W2=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},os=new WeakMap,wu=new WeakMap,Eu={},_f=0,tC=function(t){return t&&(t.host||tC(t.parentNode))},q2=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},K2=function(t,e,n,r){var i=q2(e,Array.isArray(t)?t:[t]);Eu[n]||(Eu[n]=new WeakMap);var s=Eu[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var E=f.getAttribute(r),A=E!==null&&E!=="false",R=(os.get(f)||0)+1,w=(s.get(f)||0)+1;os.set(f,R),s.set(f,w),o.push(f),R===1&&A&&wu.set(f,!0),w===1&&f.setAttribute(n,"true"),A||f.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",f,m)}})};return d(e),a.clear(),_f++,function(){o.forEach(function(h){var f=os.get(h)-1,E=s.get(h)-1;os.set(h,f),s.set(h,E),f||(wu.has(h)||h.removeAttribute(r),wu.delete(h)),E||h.removeAttribute(n)}),_f--,_f||(os=new WeakMap,os=new WeakMap,wu=new WeakMap,Eu={})}},H2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=W2(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),K2(r,i,n,"aria-hidden")):function(){return null}},Cn=function(){return Cn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cn.apply(this,arguments)};function vl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function G2(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Xu="right-scroll-bar-position",Yu="width-before-scroll-bar",Q2="with-scroll-bars-hidden",X2="--removed-body-scroll-bar-size";function mf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Y2(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var J2=typeof window<"u"?v.useLayoutEffect:v.useEffect,P0=new WeakMap;function Z2(t,e){var n=Y2(null,function(r){return t.forEach(function(i){return mf(i,r)})});return J2(function(){var r=P0.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||mf(a,null)}),s.forEach(function(a){i.has(a)||mf(a,o)})}P0.set(n,t)},[t]),n}function eO(t){return t}function tO(t,e){e===void 0&&(e=eO);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function nO(t){t===void 0&&(t={});var e=tO(null);return e.options=Cn({async:!0,ssr:!1},t),e}var nC=function(t){var e=t.sideCar,n=vl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Cn({},n))};nC.isSideCarExport=!0;function rO(t,e){return t.useMedium(e),nC}var rC=nO(),gf=function(){},Dd=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:gf,onWheelCapture:gf,onTouchMoveCapture:gf}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,E=t.noRelative,A=t.noIsolation,R=t.inert,w=t.allowPinchZoom,m=t.as,_=m===void 0?"div":m,T=t.gapMode,k=vl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=f,N=Z2([n,e]),S=Cn(Cn({},k),i);return v.createElement(v.Fragment,null,d&&v.createElement(L,{sideCar:rC,removeScrollBar:c,shards:h,noRelative:E,noIsolation:A,inert:R,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:T}),o?v.cloneElement(v.Children.only(a),Cn(Cn({},S),{ref:N})):v.createElement(_,Cn({},S,{className:l,ref:N}),a))});Dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dd.classNames={fullWidth:Yu,zeroRight:Xu};var iO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=iO();return e&&t.setAttribute("nonce",e),t}function oO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function aO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lO=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sO())&&(oO(e,n),aO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uO=function(){var t=lO();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iC=function(){var t=uO(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},cO={left:0,top:0,right:0,gap:0},vf=function(t){return parseInt(t||"",10)||0},dO=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[vf(n),vf(r),vf(i)]},hO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cO;var e=dO(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},fO=iC(),Ms="data-scroll-locked",pO=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Q2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ms,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yu," .").concat(Yu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ms,`] {
    `).concat(X2,": ").concat(a,`px;
  }
`)},N0=function(){var t=parseInt(document.body.getAttribute(Ms)||"0",10);return isFinite(t)?t:0},_O=function(){v.useEffect(function(){return document.body.setAttribute(Ms,(N0()+1).toString()),function(){var t=N0()-1;t<=0?document.body.removeAttribute(Ms):document.body.setAttribute(Ms,t.toString())}},[])},mO=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;_O();var s=v.useMemo(function(){return hO(i)},[i]);return v.createElement(fO,{styles:pO(s,!e,i,n?"":"!important")})},Xp=!1;if(typeof window<"u")try{var Tu=Object.defineProperty({},"passive",{get:function(){return Xp=!0,!0}});window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{Xp=!1}var as=Xp?{passive:!1}:!1,gO=function(t){return t.tagName==="TEXTAREA"},sC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gO(t)&&n[e]==="visible")},vO=function(t){return sC(t,"overflowY")},yO=function(t){return sC(t,"overflowX")},O0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=oC(t,r);if(i){var s=aC(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wO=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},EO=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},oC=function(t,e){return t==="v"?vO(e):yO(e)},aC=function(t,e){return t==="v"?wO(e):EO(e)},TO=function(t,e){return t==="h"&&e==="rtl"?-1:1},SO=function(t,e,n,r,i){var s=TO(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{if(!a)break;var E=aC(t,a),A=E[0],R=E[1],w=E[2],m=R-w-s*A;(A||m)&&oC(t,a)&&(h+=m,f+=A);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(c=!0),c},Su=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},D0=function(t){return[t.deltaX,t.deltaY]},L0=function(t){return t&&"current"in t?t.current:t},CO=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},IO=0,ls=[];function AO(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(IO++)[0],s=v.useState(iC)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var R=G2([t.lockRef.current],(t.shards||[]).map(L0),!0).filter(Boolean);return R.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(R,w){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!o.current.allowPinchZoom;var m=Su(R),_=n.current,T="deltaX"in R?R.deltaX:_[0]-m[0],k="deltaY"in R?R.deltaY:_[1]-m[1],L,N=R.target,S=Math.abs(T)>Math.abs(k)?"h":"v";if("touches"in R&&S==="h"&&N.type==="range")return!1;var y=O0(S,N);if(!y)return!0;if(y?L=S:(L=S==="v"?"h":"v",y=O0(S,N)),!y)return!1;if(!r.current&&"changedTouches"in R&&(T||k)&&(r.current=L),!L)return!0;var I=r.current||L;return SO(I,w,R,I==="h"?T:k)},[]),l=v.useCallback(function(R){var w=R;if(!(!ls.length||ls[ls.length-1]!==s)){var m="deltaY"in w?D0(w):Su(w),_=e.current.filter(function(L){return L.name===w.type&&(L.target===w.target||w.target===L.shadowParent)&&CO(L.delta,m)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var T=(o.current.shards||[]).map(L0).filter(Boolean).filter(function(L){return L.contains(w.target)}),k=T.length>0?a(w,T[0]):!o.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),c=v.useCallback(function(R,w,m,_){var T={name:R,delta:w,target:m,should:_,shadowParent:RO(m)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(k){return k!==T})},1)},[]),d=v.useCallback(function(R){n.current=Su(R),r.current=void 0},[]),h=v.useCallback(function(R){c(R.type,D0(R),R.target,a(R,t.lockRef.current))},[]),f=v.useCallback(function(R){c(R.type,Su(R),R.target,a(R,t.lockRef.current))},[]);v.useEffect(function(){return ls.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,as),document.addEventListener("touchmove",l,as),document.addEventListener("touchstart",d,as),function(){ls=ls.filter(function(R){return R!==s}),document.removeEventListener("wheel",l,as),document.removeEventListener("touchmove",l,as),document.removeEventListener("touchstart",d,as)}},[]);var E=t.removeScrollBar,A=t.inert;return v.createElement(v.Fragment,null,A?v.createElement(s,{styles:xO(i)}):null,E?v.createElement(mO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function RO(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const bO=rO(rC,AO);var lC=v.forwardRef(function(t,e){return v.createElement(Dd,Cn({},t,{ref:e,sideCar:bO}))});lC.classNames=Dd.classNames;const Dr={size:{default:"2"},variant:{default:"surface"},color:ml,radius:zS},M0={color:ml,gap:Ei.gap},Nm=v.createContext(void 0),Om=v.forwardRef((t,e)=>{const{rest:n,...r}=qi(t),{children:i,className:s,size:o=Dr.size.default,variant:a=Dr.variant.default,color:l=Dr.color.default,radius:c=Dr.radius.default,...d}=n;return v.createElement("div",{"data-radius":c,...d,ref:e,className:Vn("rt-TextFieldRoot",s,mo(r)),onPointerDown:oe(d.onPointerDown,h=>{const f=h.target;if(f.closest("input, button, a"))return;const E=h.currentTarget.querySelector(".rt-TextFieldInput");if(!E)return;const w=(E.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_PRECEDING)!==0?0:E.value.length;requestAnimationFrame(()=>{E.setSelectionRange(w,w),E.focus()})})},v.createElement(Nm.Provider,{value:{size:o,variant:a,color:l,radius:c}},i))});Om.displayName="TextFieldRoot";const uC=v.forwardRef((t,e)=>{const{rest:n,...r}=$S(t),{className:i,color:s=M0.color.default,gap:o=M0.gap.default,...a}=n,l=v.useContext(Nm);return v.createElement("div",{"data-accent-color":s,...a,ref:e,className:Vn("rt-TextFieldSlot",i,se(l==null?void 0:l.size,"rt-r-size"),se(o,"rt-r-gap"),US(r))})});uC.displayName="TextFieldSlot";const cC=v.forwardRef((t,e)=>{var n,r,i,s;const{rest:o,...a}=qi(t),l=v.useContext(Nm),c=l!==void 0,{className:d,size:h=(n=l==null?void 0:l.size)!==null&&n!==void 0?n:Dr.size.default,variant:f=(r=l==null?void 0:l.variant)!==null&&r!==void 0?r:Dr.variant.default,color:E=(i=l==null?void 0:l.color)!==null&&i!==void 0?i:Dr.color.default,radius:A=(s=l==null?void 0:l.radius)!==null&&s!==void 0?s:Dr.radius.default,...R}=o,w=v.createElement(v.Fragment,null,v.createElement("input",{"data-accent-color":E,spellCheck:"false",...R,ref:e,className:Vn("rt-TextFieldInput",d,se(h,"rt-r-size"),`rt-variant-${f}`)}),v.createElement("div",{"data-accent-color":E,"data-radius":l!=null&&l.radius?void 0:A,className:"rt-TextFieldChrome"}));return c?w:v.createElement(Om,{...a,size:h,variant:f,color:E,radius:A},w)});cC.displayName="TextFieldInput";const kO=Object.assign({},{Root:Om,Slot:uC,Input:cC});var Yp=["Enter"," "],PO=["ArrowDown","PageUp","Home"],dC=["ArrowUp","PageDown","End"],NO=[...PO,...dC],OO={ltr:[...Yp,"ArrowRight"],rtl:[...Yp,"ArrowLeft"]},DO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yl="Menu",[Ka,LO,MO]=KS(yl),[Ki,hC]=Wi(yl,[MO,Pd,GS]),Ld=Pd(),fC=GS(),[FO,Hi]=Ki(yl),[VO,wl]=Ki(yl),pC=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=Ld(e),[l,c]=v.useState(null),d=v.useRef(!1),h=Dn(s),f=MS(i);return v.useEffect(()=>{const E=()=>{d.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>d.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),C.jsx(BN,{...a,children:C.jsx(FO,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:C.jsx(VO,{scope:e,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};pC.displayName=yl;var jO="MenuAnchor",Dm=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ld(n);return C.jsx(SS,{...i,...r,ref:e})});Dm.displayName=jO;var Lm="MenuPortal",[$O,_C]=Ki(Lm,{forceMount:void 0}),mC=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Hi(Lm,e);return C.jsx($O,{scope:e,forceMount:n,children:C.jsx(_o,{present:n||s.open,children:C.jsx(IS,{asChild:!0,container:i,children:r})})})};mC.displayName=Lm;var Zt="MenuContent",[UO,Mm]=Ki(Zt),gC=v.forwardRef((t,e)=>{const n=_C(Zt,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Hi(Zt,t.__scopeMenu),o=wl(Zt,t.__scopeMenu);return C.jsx(Ka.Provider,{scope:t.__scopeMenu,children:C.jsx(_o,{present:r||s.open,children:C.jsx(Ka.Slot,{scope:t.__scopeMenu,children:o.modal?C.jsx(BO,{...i,ref:e}):C.jsx(zO,{...i,ref:e})})})})}),BO=v.forwardRef((t,e)=>{const n=Hi(Zt,t.__scopeMenu),r=v.useRef(null),i=gt(e,r);return v.useEffect(()=>{const s=r.current;if(s)return H2(s)},[]),C.jsx(Fm,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),zO=v.forwardRef((t,e)=>{const n=Hi(Zt,t.__scopeMenu);return C.jsx(Fm,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),WO=za("MenuContent.ScrollLock"),Fm=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:E,disableOutsideScroll:A,...R}=t,w=Hi(Zt,n),m=wl(Zt,n),_=Ld(n),T=fC(n),k=LO(n),[L,N]=v.useState(null),S=v.useRef(null),y=gt(e,S,w.onContentChange),I=v.useRef(0),p=v.useRef(""),b=v.useRef(0),P=v.useRef(null),O=v.useRef("right"),B=v.useRef(0),Y=A?lC:v.Fragment,H=A?{as:WO,allowPinchZoom:!0}:void 0,Z=j=>{var Ce,nn;const W=p.current+j,re=k().filter(Xe=>!Xe.disabled),ee=document.activeElement,_e=(Ce=re.find(Xe=>Xe.ref.current===ee))==null?void 0:Ce.textValue,Se=re.map(Xe=>Xe.textValue),Fe=nD(Se,W,_e),ke=(nn=re.find(Xe=>Xe.textValue===Fe))==null?void 0:nn.ref.current;(function Xe(Rt){p.current=Rt,window.clearTimeout(I.current),Rt!==""&&(I.current=window.setTimeout(()=>Xe(""),1e3))})(W),ke&&setTimeout(()=>ke.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),M2();const M=v.useCallback(j=>{var re,ee;return O.current===((re=P.current)==null?void 0:re.side)&&iD(j,(ee=P.current)==null?void 0:ee.area)},[]);return C.jsx(UO,{scope:n,searchRef:p,onItemEnter:v.useCallback(j=>{M(j)&&j.preventDefault()},[M]),onItemLeave:v.useCallback(j=>{var W;M(j)||((W=S.current)==null||W.focus(),N(null))},[M]),onTriggerLeave:v.useCallback(j=>{M(j)&&j.preventDefault()},[M]),pointerGraceTimerRef:b,onPointerGraceIntentChange:v.useCallback(j=>{P.current=j},[]),children:C.jsx(Y,{...H,children:C.jsx(ZS,{asChild:!0,trapped:i,onMountAutoFocus:oe(s,j=>{var W;j.preventDefault(),(W=S.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:C.jsx(ym,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:E,children:C.jsx(D2,{asChild:!0,...T,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:N,onEntryFocus:oe(l,j=>{m.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:C.jsx(CS,{role:"menu","aria-orientation":"vertical","data-state":OC(w.open),"data-radix-menu-content":"",dir:m.dir,..._,...R,ref:y,style:{outline:"none",...R.style},onKeyDown:oe(R.onKeyDown,j=>{const re=j.target.closest("[data-radix-menu-content]")===j.currentTarget,ee=j.ctrlKey||j.altKey||j.metaKey,_e=j.key.length===1;re&&(j.key==="Tab"&&j.preventDefault(),!ee&&_e&&Z(j.key));const Se=S.current;if(j.target!==Se||!NO.includes(j.key))return;j.preventDefault();const ke=k().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);dC.includes(j.key)&&ke.reverse(),eD(ke)}),onBlur:oe(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(I.current),p.current="")}),onPointerMove:oe(t.onPointerMove,Ha(j=>{const W=j.target,re=B.current!==j.clientX;if(j.currentTarget.contains(W)&&re){const ee=j.clientX>B.current?"right":"left";O.current=ee,B.current=j.clientX}}))})})})})})})});gC.displayName=Zt;var qO="MenuGroup",Vm=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return C.jsx(Be.div,{role:"group",...r,ref:e})});Vm.displayName=qO;var KO="MenuLabel",vC=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return C.jsx(Be.div,{...r,ref:e})});vC.displayName=KO;var Lc="MenuItem",F0="menu.itemSelect",Md=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=v.useRef(null),o=wl(Lc,t.__scopeMenu),a=Mm(Lc,t.__scopeMenu),l=gt(e,s),c=v.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const f=new CustomEvent(F0,{bubbles:!0,cancelable:!0});h.addEventListener(F0,E=>r==null?void 0:r(E),{once:!0}),ZT(h,f),f.defaultPrevented?c.current=!1:o.onClose()}};return C.jsx(yC,{...i,ref:l,disabled:n,onClick:oe(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),c.current=!0},onPointerUp:oe(t.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:oe(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||Yp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Md.displayName=Lc;var yC=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Mm(Lc,n),a=fC(n),l=v.useRef(null),c=gt(e,l),[d,h]=v.useState(!1),[f,E]=v.useState("");return v.useEffect(()=>{const A=l.current;A&&E((A.textContent??"").trim())},[s.children]),C.jsx(Ka.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:C.jsx(L2,{asChild:!0,...a,focusable:!r,children:C.jsx(Be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:oe(t.onPointerMove,Ha(A=>{r?o.onItemLeave(A):(o.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(t.onPointerLeave,Ha(A=>o.onItemLeave(A))),onFocus:oe(t.onFocus,()=>h(!0)),onBlur:oe(t.onBlur,()=>h(!1))})})})}),HO="MenuCheckboxItem",wC=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return C.jsx(xC,{scope:t.__scopeMenu,checked:n,children:C.jsx(Md,{role:"menuitemcheckbox","aria-checked":Mc(n)?"mixed":n,...i,ref:e,"data-state":$m(n),onSelect:oe(i.onSelect,()=>r==null?void 0:r(Mc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});wC.displayName=HO;var EC="MenuRadioGroup",[GO,QO]=Ki(EC,{value:void 0,onValueChange:()=>{}}),TC=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Dn(r);return C.jsx(GO,{scope:t.__scopeMenu,value:n,onValueChange:s,children:C.jsx(Vm,{...i,ref:e})})});TC.displayName=EC;var SC="MenuRadioItem",CC=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=QO(SC,t.__scopeMenu),s=n===i.value;return C.jsx(xC,{scope:t.__scopeMenu,checked:s,children:C.jsx(Md,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":$m(s),onSelect:oe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});CC.displayName=SC;var jm="MenuItemIndicator",[xC,XO]=Ki(jm,{checked:!1}),IC=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=XO(jm,n);return C.jsx(_o,{present:r||Mc(s.checked)||s.checked===!0,children:C.jsx(Be.span,{...i,ref:e,"data-state":$m(s.checked)})})});IC.displayName=jm;var YO="MenuSeparator",AC=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return C.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});AC.displayName=YO;var JO="MenuArrow",RC=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ld(n);return C.jsx(xS,{...i,...r,ref:e})});RC.displayName=JO;var ZO="MenuSub",[b$,bC]=Ki(ZO),ia="MenuSubTrigger",kC=v.forwardRef((t,e)=>{const n=Hi(ia,t.__scopeMenu),r=wl(ia,t.__scopeMenu),i=bC(ia,t.__scopeMenu),s=Mm(ia,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),C.jsx(Dm,{asChild:!0,...c,children:C.jsx(yC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":OC(n.open),...t,ref:Ad(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(t.onPointerMove,Ha(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:oe(t.onPointerLeave,Ha(h=>{var E,A;d();const f=(E=n.content)==null?void 0:E.getBoundingClientRect();if(f){const R=(A=n.content)==null?void 0:A.dataset.side,w=R==="right",m=w?-5:5,_=f[w?"left":"right"],T=f[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+m,y:h.clientY},{x:_,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x:_,y:f.bottom}],side:R}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:oe(t.onKeyDown,h=>{var E;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||OO[r.dir].includes(h.key)&&(n.onOpenChange(!0),(E=n.content)==null||E.focus(),h.preventDefault())})})})});kC.displayName=ia;var PC="MenuSubContent",NC=v.forwardRef((t,e)=>{const n=_C(Zt,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Hi(Zt,t.__scopeMenu),o=wl(Zt,t.__scopeMenu),a=bC(PC,t.__scopeMenu),l=v.useRef(null),c=gt(e,l);return C.jsx(Ka.Provider,{scope:t.__scopeMenu,children:C.jsx(_o,{present:r||s.open,children:C.jsx(Ka.Slot,{scope:t.__scopeMenu,children:C.jsx(Fm,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:oe(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:oe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:oe(t.onKeyDown,d=>{var E;const h=d.currentTarget.contains(d.target),f=DO[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(E=a.trigger)==null||E.focus(),d.preventDefault())})})})})})});NC.displayName=PC;function OC(t){return t?"open":"closed"}function Mc(t){return t==="indeterminate"}function $m(t){return Mc(t)?"indeterminate":t?"checked":"unchecked"}function eD(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function tD(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function nD(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=tD(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function rD(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-c)*(r-d)/(f-d)+c&&(i=!i)}return i}function iD(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return rD(n,e)}function Ha(t){return e=>e.pointerType==="mouse"?t(e):void 0}var sD=pC,oD=Dm,aD=mC,lD=gC,uD=Vm,cD=vC,dD=Md,hD=wC,fD=TC,pD=CC,_D=IC,mD=AC,gD=RC,vD=kC,yD=NC,Fd="DropdownMenu",[wD,k$]=Wi(Fd,[hC]),At=hC(),[ED,DC]=wD(Fd),LC=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=At(e),c=v.useRef(null),[d,h]=AS({prop:i,defaultProp:s??!1,onChange:o,caller:Fd});return C.jsx(ED,{scope:e,triggerId:zp(),triggerRef:c,contentId:zp(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:a,children:C.jsx(sD,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};LC.displayName=Fd;var MC="DropdownMenuTrigger",FC=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=DC(MC,n),o=At(n);return C.jsx(oD,{asChild:!0,...o,children:C.jsx(Be.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ad(e,s.triggerRef),onPointerDown:oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});FC.displayName=MC;var TD="DropdownMenuPortal",VC=t=>{const{__scopeDropdownMenu:e,...n}=t,r=At(e);return C.jsx(aD,{...r,...n})};VC.displayName=TD;var jC="DropdownMenuContent",$C=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=DC(jC,n),s=At(n),o=v.useRef(!1);return C.jsx(lD,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:oe(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$C.displayName=jC;var SD="DropdownMenuGroup",CD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(uD,{...i,...r,ref:e})});CD.displayName=SD;var xD="DropdownMenuLabel",ID=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(cD,{...i,...r,ref:e})});ID.displayName=xD;var AD="DropdownMenuItem",UC=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(dD,{...i,...r,ref:e})});UC.displayName=AD;var RD="DropdownMenuCheckboxItem",BC=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(hD,{...i,...r,ref:e})});BC.displayName=RD;var bD="DropdownMenuRadioGroup",kD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(fD,{...i,...r,ref:e})});kD.displayName=bD;var PD="DropdownMenuRadioItem",ND=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(pD,{...i,...r,ref:e})});ND.displayName=PD;var OD="DropdownMenuItemIndicator",zC=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(_D,{...i,...r,ref:e})});zC.displayName=OD;var DD="DropdownMenuSeparator",LD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(mD,{...i,...r,ref:e})});LD.displayName=DD;var MD="DropdownMenuArrow",WC=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(gD,{...i,...r,ref:e})});WC.displayName=MD;var FD="DropdownMenuSubTrigger",VD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(vD,{...i,...r,ref:e})});VD.displayName=FD;var jD="DropdownMenuSubContent",$D=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=At(n);return C.jsx(yD,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$D.displayName=jD;var qC=LC,KC=FC,HC=VC,GC=$C,UD=UC,BD=BC,zD=zC,WD=WC,QC={exports:{}},XC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ys=v;function qD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KD=typeof Object.is=="function"?Object.is:qD,HD=Ys.useState,GD=Ys.useEffect,QD=Ys.useLayoutEffect,XD=Ys.useDebugValue;function YD(t,e){var n=e(),r=HD({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return QD(function(){i.value=n,i.getSnapshot=e,yf(i)&&s({inst:i})},[t,n,e]),GD(function(){return yf(i)&&s({inst:i}),t(function(){yf(i)&&s({inst:i})})},[t]),XD(n),n}function yf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!KD(t,n)}catch{return!0}}function JD(t,e){return e()}var ZD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JD:YD;XC.useSyncExternalStore=Ys.useSyncExternalStore!==void 0?Ys.useSyncExternalStore:ZD;QC.exports=XC;var eL=QC.exports;function tL(){return eL.useSyncExternalStore(nL,()=>!0,()=>!1)}function nL(){return()=>{}}var Um="Avatar",[rL,P$]=Wi(Um),[iL,YC]=rL(Um),JC=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=v.useState("idle");return C.jsx(iL,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:C.jsx(Be.span,{...r,ref:e})})});JC.displayName=Um;var ZC="AvatarImage",sL=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=YC(ZC,n),a=oL(r,s),l=Dn(c=>{i(c),o.onImageLoadingStatusChange(c)});return pn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?C.jsx(Be.img,{...s,ref:e,src:r}):null});sL.displayName=ZC;var ex="AvatarFallback",tx=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=YC(ex,n),[o,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?C.jsx(Be.span,{...i,ref:e}):null});tx.displayName=ex;function V0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oL(t,{referrerPolicy:e,crossOrigin:n}){const r=tL(),i=v.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=v.useState(()=>V0(s,t));return pn(()=>{a(V0(s,t))},[s,t]),pn(()=>{const l=h=>()=>{a(h)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,e]),o}var aL=JC,lL=tx;const Qo={size:{default:"2"},variant:{default:"solid"},color:ml,highContrast:Pm,radius:zS},nx=v.forwardRef((t,e)=>{const{rest:n,...r}=qi(t),{className:i,asChild:s=!1,size:o=Qo.size.default,variant:a=Qo.variant.default,color:l=Qo.color.default,highContrast:c=Qo.highContrast.default,radius:d=Qo.radius.default,...h}=n,f=s?ho:"button";return v.createElement(f,{"data-disabled":h.disabled||void 0,"data-accent-color":l,"data-radius":d,...h,ref:e,className:Vn("rt-reset","rt-BaseButton",i,se(o,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":c},mo(r))})});nx.displayName="BaseButton";const Ga=v.forwardRef((t,e)=>v.createElement(nx,{...t,ref:e,className:Vn("rt-Button",t.className)}));Ga.displayName="Button";const j0={size:{default:"1"},variant:{default:"surface"}},Fc=v.forwardRef((t,e)=>{const{rest:n,...r}=qi(t),{asChild:i,children:s,className:o,size:a=j0.size.default,variant:l=j0.variant.default,...c}=n,d=i?ho:"div";function h(){const f=v.Children.only(s);return v.cloneElement(f,{children:v.createElement("div",{className:"rt-CardInner"},f.props.children)})}return v.createElement(d,{ref:e,...c,className:Vn("rt-reset","rt-Card",o,se(a,"rt-r-size"),`rt-variant-${l}`,mo(r))},i?h():v.createElement("div",{className:"rt-CardInner"},s))});Fc.displayName="Card";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}var Lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lr||(Lr={}));const $0="popstate";function uL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Jp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vc(i)}return dL(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cL(){return Math.random().toString(36).substr(2,8)}function U0(t,e){return{usr:t.state,key:t.key,idx:e}}function Jp(t,e,n,r){return n===void 0&&(n=null),Qa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?go(e):e,{state:n,key:e&&e.key||r||cL()})}function Vc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function go(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Lr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Qa({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Lr.Pop;let w=d(),m=w==null?null:w-c;c=w,l&&l({action:a,location:R.location,delta:m})}function f(w,m){a=Lr.Push;let _=Jp(R.location,w,m);c=d()+1;let T=U0(_,c),k=R.createHref(_);try{o.pushState(T,"",k)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(k)}s&&l&&l({action:a,location:R.location,delta:1})}function E(w,m){a=Lr.Replace;let _=Jp(R.location,w,m);c=d();let T=U0(_,c),k=R.createHref(_);o.replaceState(T,"",k),s&&l&&l({action:a,location:R.location,delta:0})}function A(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:Vc(w);return _=_.replace(/ $/,"%20"),Me(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let R={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($0,h),l=w,()=>{i.removeEventListener($0,h),l=null}},createHref(w){return e(i,w)},createURL:A,encodeLocation(w){let m=A(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:E,go(w){return o.go(w)}};return R}var B0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(B0||(B0={}));function hL(t,e,n){return n===void 0&&(n="/"),fL(t,e,n)}function fL(t,e,n,r){let i=typeof e=="string"?go(e):e,s=Bm(i.pathname||"/",n);if(s==null)return null;let o=ix(t);pL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=IL(s);a=SL(o[l],c)}return a}function ix(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Kr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ix(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:EL(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of sx(s.path))i(s,o,l)}),e}function sx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function pL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _L=/^:[\w-]+$/,mL=3,gL=2,vL=1,yL=10,wL=-2,z0=t=>t==="*";function EL(t,e){let n=t.split("/"),r=n.length;return n.some(z0)&&(r+=wL),e&&(r+=gL),n.filter(i=>!z0(i)).reduce((i,s)=>i+(_L.test(s)?mL:s===""?vL:yL),r)}function TL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function SL(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=CL({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Kr([s,h.pathname]),pathnameBase:kL(Kr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Kr([s,h.pathnameBase]))}return o}function CL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:E}=d;if(f==="*"){let R=a[h]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const A=a[h];return E&&!A?c[f]=void 0:c[f]=(A||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function xL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function IL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?go(t):t;return{pathname:n?n.startsWith("/")?n:RL(n,e):e,search:PL(r),hash:NL(i)}}function RL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zm(t,e){let n=bL(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=go(t):(i=Qa({},t),Me(!i.pathname||!i.pathname.includes("?"),wf("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),wf("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),wf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=AL(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Kr=t=>t.join("/").replace(/\/\/+/g,"/"),kL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ox=["post","put","patch","delete"];new Set(ox);const DL=["get",...ox];new Set(DL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}const qm=v.createContext(null),LL=v.createContext(null),li=v.createContext(null),Vd=v.createContext(null),$n=v.createContext({outlet:null,matches:[],isDataRoute:!1}),ax=v.createContext(null);function ML(t,e){let{relative:n}=e===void 0?{}:e;vo()||Me(!1);let{basename:r,navigator:i}=v.useContext(li),{hash:s,pathname:o,search:a}=ux(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Kr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function vo(){return v.useContext(Vd)!=null}function ui(){return vo()||Me(!1),v.useContext(Vd).location}function lx(t){v.useContext(li).static||v.useLayoutEffect(t)}function fr(){let{isDataRoute:t}=v.useContext($n);return t?JL():FL()}function FL(){vo()||Me(!1);let t=v.useContext(qm),{basename:e,future:n,navigator:r}=v.useContext(li),{matches:i}=v.useContext($n),{pathname:s}=ui(),o=JSON.stringify(zm(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return lx(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Wm(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Kr([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const VL=v.createContext(null);function jL(t){let e=v.useContext($n).outlet;return e&&v.createElement(VL.Provider,{value:t},e)}function $L(){let{matches:t}=v.useContext($n),e=t[t.length-1];return e?e.params:{}}function ux(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(li),{matches:i}=v.useContext($n),{pathname:s}=ui(),o=JSON.stringify(zm(i,r.v7_relativeSplatPath));return v.useMemo(()=>Wm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function UL(t,e){return BL(t,e)}function BL(t,e,n,r){vo()||Me(!1);let{navigator:i}=v.useContext(li),{matches:s}=v.useContext($n),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ui(),d;if(e){var h;let w=typeof e=="string"?go(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||Me(!1),d=w}else d=c;let f=d.pathname||"/",E=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");E="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let A=hL(t,{pathname:E}),R=HL(A&&A.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Kr([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Kr([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&R?v.createElement(Vd.Provider,{value:{location:Xa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Lr.Pop}},R):R}function zL(){let t=YL(),e=OL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const WL=v.createElement(zL,null);class qL extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement($n.Provider,{value:this.props.routeContext},v.createElement(ax.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KL(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(qm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement($n.Provider,{value:e},r)}function HL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Me(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:E}=n,A=h.route.loader&&f[h.route.id]===void 0&&(!E||E[h.route.id]===void 0);if(h.route.lazy||A){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let E,A=!1,R=null,w=null;n&&(E=a&&h.route.id?a[h.route.id]:void 0,R=h.route.errorElement||WL,l&&(c<0&&f===0?(ZL("route-fallback"),A=!0,w=null):c===f&&(A=!0,w=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),_=()=>{let T;return E?T=R:A?T=w:h.route.Component?T=v.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,v.createElement(KL,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(qL,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:_(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):_()},null)}var cx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cx||{}),dx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dx||{});function GL(t){let e=v.useContext(qm);return e||Me(!1),e}function QL(t){let e=v.useContext(LL);return e||Me(!1),e}function XL(t){let e=v.useContext($n);return e||Me(!1),e}function hx(t){let e=XL(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function YL(){var t;let e=v.useContext(ax),n=QL(),r=hx();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function JL(){let{router:t}=GL(cx.UseNavigateStable),e=hx(dx.UseNavigateStable),n=v.useRef(!1);return lx(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xa({fromRouteId:e},s)))},[t,e])}const W0={};function ZL(t,e,n){W0[t]||(W0[t]=!0)}function eM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function tM(t){let{to:e,replace:n,state:r,relative:i}=t;vo()||Me(!1);let{future:s,static:o}=v.useContext(li),{matches:a}=v.useContext($n),{pathname:l}=ui(),c=fr(),d=Wm(e,zm(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function nM(t){return jL(t.context)}function cs(t){Me(!1)}function rM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Lr.Pop,navigator:s,static:o=!1,future:a}=t;vo()&&Me(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:o,future:Xa({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=go(r));let{pathname:d="/",search:h="",hash:f="",state:E=null,key:A="default"}=r,R=v.useMemo(()=>{let w=Bm(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:E,key:A},navigationType:i}},[l,d,h,f,E,A,i]);return R==null?null:v.createElement(li.Provider,{value:c},v.createElement(Vd.Provider,{children:n,value:R}))}function iM(t){let{children:e,location:n}=t;return UL(Zp(e),n)}new Promise(()=>{});function Zp(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Zp(r.props.children,s));return}r.type!==cs&&Me(!1),!r.props.index||!r.props.children||Me(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function sM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aM(t,e){return t.button===0&&(!e||e==="_self")&&!oM(t)}const lM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uM="6";try{window.__reactRouterVersion=uM}catch{}const cM="startTransition",q0=cd[cM];function dM(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=uL({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&q0?q0(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>eM(r),[r]),v.createElement(rM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const hM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sa=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=sM(e,lM),{basename:E}=v.useContext(li),A,R=!1;if(typeof c=="string"&&fM.test(c)&&(A=c,hM))try{let T=new URL(window.location.href),k=c.startsWith("//")?new URL(T.protocol+c):new URL(c),L=Bm(k.pathname,E);k.origin===T.origin&&L!=null?c=L+k.search+k.hash:R=!0}catch{}let w=ML(c,{relative:i}),m=pM(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function _(T){r&&r(T),T.defaultPrevented||m(T)}return v.createElement("a",e_({},f,{href:A||w,onClick:R||s?r:_,ref:n,target:l}))});var K0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K0||(K0={}));var H0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(H0||(H0={}));function pM(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=fr(),c=ui(),d=ux(t,{relative:o});return v.useCallback(h=>{if(aM(h,n)){h.preventDefault();let f=r!==void 0?r:Vc(c)===Vc(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}var G0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_M=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,E=c&63;l||(E=64,o||(f=64)),r.push(n[d],n[h],n[f],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_M(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new mM;const f=s<<2|a>>4;if(r.push(f),c!==64){const E=a<<4&240|c>>2;if(r.push(E),h!==64){const A=c<<6&192|h;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gM=function(t){const e=fx(t);return px.encodeByteArray(e,!0)},jc=function(t){return gM(t).replace(/\./g,"")},_x=function(t){try{return px.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=()=>vM().__FIREBASE_DEFAULTS__,wM=()=>{if(typeof process>"u"||typeof G0>"u")return;const t=G0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_x(t[1]);return e&&JSON.parse(e)},jd=()=>{try{return yM()||wM()||EM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mx=t=>{var e,n;return(n=(e=jd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TM=t=>{const e=mx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gx=()=>{var t;return(t=jd())===null||t===void 0?void 0:t.config},vx=t=>{var e;return(e=jd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jc(JSON.stringify(n)),jc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function IM(){var t;const e=(t=jd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kM(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PM(){return!IM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NM(){try{return typeof indexedDB=="object"}catch{return!1}}function OM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="FirebaseError";class pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DM,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new pr(i,a,r)}}function LM(t,e){return t.replace(MM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const MM=/\{\$([^}]+)}/g;function FM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Q0(s)&&Q0(o)){if(!$c(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Q0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function aa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VM(t,e){const n=new jM(t,e);return n.subscribe.bind(n)}class jM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$M(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ef),i.error===void 0&&(i.error=Ef),i.complete===void 0&&(i.complete=Ef);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $M(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ef(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zM(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BM(t){return t===Ti?void 0:t}function zM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const qM={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},KM=ue.INFO,HM={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},GM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=KM,this._logHandler=GM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const QM=(t,e)=>e.some(n=>t instanceof n);let X0,Y0;function XM(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YM(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yx=new WeakMap,t_=new WeakMap,wx=new WeakMap,Tf=new WeakMap,Hm=new WeakMap;function JM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yx.set(n,t)}).catch(()=>{}),Hm.set(e,t),e}function ZM(t){if(t_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});t_.set(t,e)}let n_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e4(t){n_=t(n_)}function t4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sf(this),e,...n);return wx.set(r,e.sort?e.sort():[e]),Hr(r)}:YM().includes(t)?function(...e){return t.apply(Sf(this),e),Hr(yx.get(this))}:function(...e){return Hr(t.apply(Sf(this),e))}}function n4(t){return typeof t=="function"?t4(t):(t instanceof IDBTransaction&&ZM(t),QM(t,XM())?new Proxy(t,n_):t)}function Hr(t){if(t instanceof IDBRequest)return JM(t);if(Tf.has(t))return Tf.get(t);const e=n4(t);return e!==t&&(Tf.set(t,e),Hm.set(e,t)),e}const Sf=t=>Hm.get(t);function r4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hr(o.result),l.oldVersion,l.newVersion,Hr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const i4=["get","getKey","getAll","getAllKeys","count"],s4=["put","add","delete","clear"],Cf=new Map;function J0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=s4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||i4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Cf.set(e,s),s}e4(t=>({...t,get:(e,n,r)=>J0(e,n)||t.get(e,n,r),has:(e,n)=>!!J0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function a4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r_="@firebase/app",Z0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Km("@firebase/app"),l4="@firebase/app-compat",u4="@firebase/analytics-compat",c4="@firebase/analytics",d4="@firebase/app-check-compat",h4="@firebase/app-check",f4="@firebase/auth",p4="@firebase/auth-compat",_4="@firebase/database",m4="@firebase/data-connect",g4="@firebase/database-compat",v4="@firebase/functions",y4="@firebase/functions-compat",w4="@firebase/installations",E4="@firebase/installations-compat",T4="@firebase/messaging",S4="@firebase/messaging-compat",C4="@firebase/performance",x4="@firebase/performance-compat",I4="@firebase/remote-config",A4="@firebase/remote-config-compat",R4="@firebase/storage",b4="@firebase/storage-compat",k4="@firebase/firestore",P4="@firebase/vertexai-preview",N4="@firebase/firestore-compat",O4="firebase",D4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="[DEFAULT]",L4={[r_]:"fire-core",[l4]:"fire-core-compat",[c4]:"fire-analytics",[u4]:"fire-analytics-compat",[h4]:"fire-app-check",[d4]:"fire-app-check-compat",[f4]:"fire-auth",[p4]:"fire-auth-compat",[_4]:"fire-rtdb",[m4]:"fire-data-connect",[g4]:"fire-rtdb-compat",[v4]:"fire-fn",[y4]:"fire-fn-compat",[w4]:"fire-iid",[E4]:"fire-iid-compat",[T4]:"fire-fcm",[S4]:"fire-fcm-compat",[C4]:"fire-perf",[x4]:"fire-perf-compat",[I4]:"fire-rc",[A4]:"fire-rc-compat",[R4]:"fire-gcs",[b4]:"fire-gcs-compat",[k4]:"fire-fst",[N4]:"fire-fst-compat",[P4]:"fire-vertex","fire-js":"fire-js",[O4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,M4=new Map,s_=new Map;function ew(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Js(t){const e=t.name;if(s_.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;s_.set(e,t);for(const n of Uc.values())ew(n,t);for(const n of M4.values())ew(n,t);return!0}function Gm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new El("app","Firebase",F4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=D4;function Ex(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:i_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=gx()),!n)throw Gr.create("no-options");const s=Uc.get(i);if(s){if($c(n,s.options)&&$c(r,s.config))return s;throw Gr.create("duplicate-app",{appName:i})}const o=new WM(i);for(const l of s_.values())o.addComponent(l);const a=new V4(n,r,o);return Uc.set(i,a),a}function Tx(t=i_){const e=Uc.get(t);if(!e&&t===i_&&gx())return Ex();if(!e)throw Gr.create("no-app",{appName:t});return e}function Qr(t,e,n){var r;let i=(r=L4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(a.join(" "));return}Js(new Mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="firebase-heartbeat-database",$4=1,Ya="firebase-heartbeat-store";let xf=null;function Sx(){return xf||(xf=r4(j4,$4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),xf}async function U4(t){try{const n=(await Sx()).transaction(Ya),r=await n.objectStore(Ya).get(Cx(t));return await n.done,r}catch(e){if(e instanceof pr)ar.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(n.message)}}}async function tw(t,e){try{const r=(await Sx()).transaction(Ya,"readwrite");await r.objectStore(Ya).put(e,Cx(t)),await r.done}catch(n){if(n instanceof pr)ar.warn(n.message);else{const r=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(r.message)}}}function Cx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1024,z4=30*24*60*60*1e3;class W4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=z4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nw(),{heartbeatsToSend:r,unsentEntries:i}=q4(this._heartbeatsCache.heartbeats),s=jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ar.warn(n),""}}}function nw(){return new Date().toISOString().substring(0,10)}function q4(t,e=B4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),rw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NM()?OM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rw(t){return jc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){Js(new Mi("platform-logger",e=>new o4(e),"PRIVATE")),Js(new Mi("heartbeat",e=>new W4(e),"PRIVATE")),Qr(r_,Z0,t),Qr(r_,Z0,"esm2017"),Qr("fire-js","")}H4("");function xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G4=xx,Ix=new El("auth","Firebase",xx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Km("@firebase/auth");function Q4(t,...e){Bc.logLevel<=ue.WARN&&Bc.warn(`Auth (${yo}): ${t}`,...e)}function Ju(t,...e){Bc.logLevel<=ue.ERROR&&Bc.error(`Auth (${yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw Qm(t,...e)}function bn(t,...e){return Qm(t,...e)}function Ax(t,e,n){const r=Object.assign(Object.assign({},G4()),{[e]:n});return new El("auth","Firebase",r).create(e,{appName:t.name})}function Xr(t){return Ax(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ix.create(t,...e)}function J(t,e,...n){if(!t)throw Qm(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ju(e),new Error(e)}function lr(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function X4(){return iw()==="http:"||iw()==="https:"}function iw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X4()||RM()||"connection"in navigator)?navigator.onLine:!0}function J4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=xM()||bM()}get(){return Y4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=new Sl(3e4,6e4);function ci(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _r(t,e,n,r,i={}){return bx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Tl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return AM()||(c.referrerPolicy="no-referrer"),Rx.fetch()(kx(t,t.config.apiHost,n,a),c)})}async function bx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Z4),e);try{const i=new nF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ax(t,d,c);gn(t,d)}}catch(i){if(i instanceof pr)throw i;gn(t,"network-request-failed",{message:String(i)})}}async function $d(t,e,n,r,i={}){const s=await _r(t,e,n,r,i);return"mfaPendingCredential"in s&&gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xm(t.config,i):`${t.config.apiScheme}://${i}`}function tF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),eF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bn(t,e,r);return i.customData._tokenResponse=n,i}function sw(t){return t!==void 0&&t.enterprise!==void 0}class rF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function iF(t,e){return _r(t,"GET","/v2/recaptchaConfig",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e){return _r(t,"POST","/v1/accounts:delete",e)}async function Px(t,e){return _r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oF(t,e=!1){const n=Oe(t),r=await n.getIdToken(e),i=Ym(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wa(If(i.auth_time)),issuedAtTime:wa(If(i.iat)),expirationTime:wa(If(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function If(t){return Number(t)*1e3}function Ym(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{const i=_x(n);return i?JSON.parse(i):(Ju("Failed to decode base64 JWT payload"),null)}catch(i){return Ju("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ow(t){const e=Ym(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pr&&aF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ja(t,Px(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Nx(s.providerUserInfo):[],a=cF(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new o_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function uF(t){const e=Oe(t);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Nx(t){return t.map(e=>{var{providerId:n}=e,r=vl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e){const n=await bx(t,{},async()=>{const r=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hF(t,e){return _r(t,"POST","/v2/accounts:revokeToken",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=ow(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fs;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fs,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new o_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oF(this,e)}reload(){return uF(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await Ja(this,sF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:k,isAnonymous:L,providerData:N,stsTokenManager:S}=n;J(T&&S,e,"internal-error");const y=Fs.fromJSON(this.name,S);J(typeof T=="string",e,"internal-error"),Tr(h,e.name),Tr(f,e.name),J(typeof k=="boolean",e,"internal-error"),J(typeof L=="boolean",e,"internal-error"),Tr(E,e.name),Tr(A,e.name),Tr(R,e.name),Tr(w,e.name),Tr(m,e.name),Tr(_,e.name);const I=new Xn({uid:T,auth:e,email:f,emailVerified:k,displayName:h,isAnonymous:L,photoURL:A,phoneNumber:E,tenantId:R,stsTokenManager:y,createdAt:m,lastLoginAt:_});return N&&Array.isArray(N)&&(I.providerData=N.map(p=>Object.assign({},p))),w&&(I._redirectEventId=w),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fs;i.updateFromServerResponse(n);const s=new Xn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];J(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Nx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fs;a.updateFromIdToken(r);const l=new Xn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new o_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Map;function Yn(t){lr(t instanceof Function,"Expected a class definition");let e=aw.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ox.type="NONE";const lw=Ox;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e,n){return`firebase:${t}:${e}:${n}`}class Vs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vs(Yn(lw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Yn(lw);const o=Zu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Xn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Vs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Vs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jx(e))return"Blackberry";if($x(e))return"Webos";if(Lx(e))return"Safari";if((e.includes("chrome/")||Mx(e))&&!e.includes("edge/"))return"Chrome";if(Vx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Dx(t=vt()){return/firefox\//i.test(t)}function Lx(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mx(t=vt()){return/crios\//i.test(t)}function Fx(t=vt()){return/iemobile/i.test(t)}function Vx(t=vt()){return/android/i.test(t)}function jx(t=vt()){return/blackberry/i.test(t)}function $x(t=vt()){return/webos/i.test(t)}function Jm(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fF(t=vt()){var e;return Jm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pF(){return kM()&&document.documentMode===10}function Ux(t=vt()){return Jm(t)||Vx(t)||$x(t)||jx(t)||/windows phone/i.test(t)||Fx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e=[]){let n;switch(t){case"Browser":n=uw(vt());break;case"Worker":n=`${uw(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(t,e={}){return _r(t,"GET","/v2/passwordPolicy",ci(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=6;class vF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:gF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cw(this),this.idTokenSubscription=new cw(this),this.beforeStateQueue=new _F(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ix,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Vs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Px(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Xr(this));const n=e?Oe(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mF(this),n=new vF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Vs.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Q4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wo(t){return Oe(t)}class cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=VM(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wF(t){Ud=t}function zx(t){return Ud.loadJS(t)}function EF(){return Ud.recaptchaEnterpriseScript}function TF(){return Ud.gapiScript}function SF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const CF="recaptcha-enterprise",xF="NO_RECAPTCHA";class IF{constructor(e){this.type=CF,this.auth=wo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{iF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new rF(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;sw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(xF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&sw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=EF();l.length!==0&&(l+=a),zx(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function dw(t,e,n,r=!1){const i=new IF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function a_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await dw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await dw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t,e){const n=Gm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($c(s,e??{}))return i;gn(i,"already-initialized")}return n.initialize({options:e})}function RF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bF(t,e,n){const r=wo(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Wx(e),{host:o,port:a}=kF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),PF()}function Wx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kF(t){const e=Wx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:hw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:hw(o)}}}function hw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function NF(t,e){return _r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e){return $d(t,"POST","/v1/accounts:signInWithPassword",ci(t,e))}async function DF(t,e){return _r(t,"POST","/v1/accounts:sendOobCode",ci(t,e))}async function LF(t,e){return DF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e){return $d(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}async function FF(t,e){return $d(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Zm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Za(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Za(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a_(e,n,"signInWithPassword",OF);case"emailLink":return MF(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a_(e,r,"signUpPassword",NF);case"emailLink":return FF(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e){return $d(t,"POST","/v1/accounts:signInWithIdp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="http://localhost";class Fi extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vl(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Fi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return js(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,js(e,n)}buildRequest(){const e={requestUri:VF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $F(t){const e=oa(aa(t)).link,n=e?oa(aa(e)).deep_link_id:null,r=oa(aa(t)).deep_link_id;return(r?oa(aa(r)).link:null)||r||n||e||t}class Bd{constructor(e){var n,r,i,s,o,a;const l=oa(aa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=jF((i=l.mode)!==null&&i!==void 0?i:null);J(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$F(e);try{return new Bd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return Za._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bd.parseLink(n);return J(r,"argument-error"),Za._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends qx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Cl{constructor(){super("facebook.com")}static credential(e){return Fi._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fi._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Cl{constructor(){super("github.com")}static credential(e){return Fi._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Cl{constructor(){super("twitter.com")}static credential(e,n){return Fi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xn._fromIdTokenResponse(e,r,i),o=fw(r);return new Zs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fw(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends pr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qc(e,n,r,i)}}function Kx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(t,s,e,r):s})}async function UF(t,e,n=!1){const r=await Ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(Xr(r));const i="reauthenticate";try{const s=await Ja(t,Kx(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=Ym(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Zs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,e,n=!1){if(Gn(t.app))return Promise.reject(Xr(t));const r="signIn",i=await Kx(t,r,e),s=await Zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function zF(t,e){return Hx(wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t,e,n){var r;J(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t,e,n){const r=wo(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){J(a.handleCodeInApp,r,"argument-error"),a&&WF(r,o,a)}s(i,n),await a_(r,i,"getOobCode",LF)}function Gx(t,e){const n=Bd.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function KF(t,e,n){if(Gn(t.app))return Promise.reject(Xr(t));const r=Oe(t),i=Eo.credentialWithLink(e,n||zc());return J(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),zF(r,i)}function HF(t,e,n,r){return Oe(t).onIdTokenChanged(e,n,r)}function GF(t,e,n){return Oe(t).beforeAuthStateChanged(e,n)}function QF(t,e,n,r){return Oe(t).onAuthStateChanged(e,n,r)}function XF(t){return Oe(t).signOut()}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=1e3,JF=10;class Xx extends Qx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ux(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);pF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xx.type="LOCAL";const ZF=Xx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends Qx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yx.type="SESSION";const Jx=Yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await eV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=eg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function nV(t){kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function rV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sV(){return Zx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebaseLocalStorageDb",oV=1,Hc="firebaseLocalStorage",tI="fbase_key";class xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wd(t,e){return t.transaction([Hc],e?"readwrite":"readonly").objectStore(Hc)}function aV(){const t=indexedDB.deleteDatabase(eI);return new xl(t).toPromise()}function l_(){const t=indexedDB.open(eI,oV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hc,{keyPath:tI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hc)?e(r):(r.close(),await aV(),e(await l_()))})})}async function pw(t,e,n){const r=Wd(t,!0).put({[tI]:e,value:n});return new xl(r).toPromise()}async function lV(t,e){const n=Wd(t,!1).get(e),r=await new xl(n).toPromise();return r===void 0?null:r.value}function _w(t,e){const n=Wd(t,!0).delete(e);return new xl(n).toPromise()}const uV=800,cV=3;class nI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(sV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rV(),!this.activeServiceWorker)return;this.sender=new tV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l_();return await pw(e,Kc,"1"),await _w(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_w(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wd(i,!1).getAll();return new xl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nI.type="LOCAL";const dV=nI;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t,e){return e?Yn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fV(t){return Hx(t.auth,new tg(t),t.bypassAuthState)}function pV(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),BF(n,new tg(t),t.bypassAuthState)}async function _V(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),UF(n,new tg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fV;case"linkViaPopup":case"linkViaRedirect":return _V;case"reauthViaPopup":case"reauthViaRedirect":return pV;default:gn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new Sl(2e3,1e4);class Is extends rI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mV.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="pendingRedirect",ec=new Map;class vV extends rI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ec.get(this.auth._key());if(!e){try{const r=await yV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ec.set(this.auth._key(),e)}return this.bypassAuthState||ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yV(t,e){const n=TV(e),r=EV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wV(t,e){ec.set(t._key(),e)}function EV(t){return Yn(t._redirectPersistence)}function TV(t){return Zu(gV,t.config.apiKey,t.name)}async function SV(t,e,n=!1){if(Gn(t.app))return Promise.reject(Xr(t));const r=wo(t),i=hV(r,e),o=await new vV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=10*60*1e3;class xV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CV&&this.cachedEventUids.clear(),this.cachedEventUids.has(mw(e))}saveEventToCache(e){this.cachedEventUids.add(mw(e)),this.lastProcessedEventTime=Date.now()}}function mw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(t,e={}){return _r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bV=/^https?/;async function kV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AV(t);for(const n of e)try{if(PV(n))return}catch{}gn(t,"unauthorized-domain")}function PV(t){const e=zc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bV.test(n))return!1;if(RV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new Sl(3e4,6e4);function gw(){const t=kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OV(t){return new Promise((e,n)=>{var r,i,s;function o(){gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gw(),n(bn(t,"network-request-failed"))},timeout:NV.get()})}if(!((i=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kn().gapi)===null||s===void 0)&&s.load)o();else{const a=SF("iframefcb");return kn()[a]=()=>{gapi.load?o():n(bn(t,"network-request-failed"))},zx(`${TF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tc=null,e})}let tc=null;function DV(t){return tc=tc||OV(t),tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=new Sl(5e3,15e3),MV="__/auth/iframe",FV="emulator/auth/iframe",VV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $V(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xm(e,FV):`https://${t.config.authDomain}/${MV}`,r={apiKey:e.apiKey,appName:t.name,v:yo},i=jV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tl(r).slice(1)}`}async function UV(t){const e=await DV(t),n=kn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:$V(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=bn(t,"network-request-failed"),a=kn().setTimeout(()=>{s(o)},LV.get());function l(){kn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zV=500,WV=600,qV="_blank",KV="http://localhost";class vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HV(t,e,n,r=zV,i=WV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},BV),{width:r.toString(),height:i.toString(),top:s,left:o}),c=vt().toLowerCase();n&&(a=Mx(c)?qV:n),Dx(c)&&(e=e||KV,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[E,A])=>`${f}${E}=${A},`,"");if(fF(c)&&a!=="_self")return GV(e||"",a),new vw(null);const h=window.open(e||"",a,d);J(h,t,"popup-blocked");try{h.focus()}catch{}return new vw(h)}function GV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="__/auth/handler",XV="emulator/auth/handler",YV=encodeURIComponent("fac");async function yw(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yo,eventId:i};if(e instanceof qx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",FM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Cl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${YV}=${encodeURIComponent(l)}`:"";return`${JV(t)}?${Tl(a).slice(1)}${c}`}function JV({config:t}){return t.emulator?Xm(t,XV):`https://${t.authDomain}/${QV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="webStorageSupport";class ZV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jx,this._completeRedirectFn=SV,this._overrideRedirectResult=wV}async _openPopup(e,n,r,i){var s;lr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yw(e,n,r,zc(),i);return HV(e,o,eg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yw(e,n,r,zc(),i);return nV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(lr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UV(e),r=new xV(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Af,{type:Af},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Af];o!==void 0&&n(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ux()||Lx()||Jm()}}const e9=ZV;var ww="@firebase/auth",Ew="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r9(t){Js(new Mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bx(t)},c=new yF(r,i,s,l);return RF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Js(new Mi("auth-internal",e=>{const n=wo(e.getProvider("auth").getImmediate());return(r=>new t9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(ww,Ew,n9(t)),Qr(ww,Ew,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=5*60,s9=vx("authIdTokenMaxAge")||i9;let Tw=null;const o9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>s9)return;const i=n==null?void 0:n.token;Tw!==i&&(Tw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function a9(t=Tx()){const e=Gm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AF(t,{popupRedirectResolver:e9,persistence:[dV,ZF,Jx]}),r=vx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=o9(s.toString());GF(n,o,()=>o(n.currentUser)),HF(n,a=>o(a))}}const i=mx("auth");return i&&bF(n,`http://${i}`),n}function l9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=bn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",l9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r9("Browser");var u9="firebase",c9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(u9,c9,"app");var Sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,sI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function I(){}I.prototype=y.prototype,S.D=y.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(p,b,P){for(var O=Array(arguments.length-2),B=2;B<arguments.length;B++)O[B-2]=arguments[B];return y.prototype[b].apply(p,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,I){I||(I=0);var p=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)p[b]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(b=0;16>b;++b)p[b]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=S.g[0],I=S.g[1],b=S.g[2];var P=S.g[3],O=y+(P^I&(b^P))+p[0]+3614090360&4294967295;y=I+(O<<7&4294967295|O>>>25),O=P+(b^y&(I^b))+p[1]+3905402710&4294967295,P=y+(O<<12&4294967295|O>>>20),O=b+(I^P&(y^I))+p[2]+606105819&4294967295,b=P+(O<<17&4294967295|O>>>15),O=I+(y^b&(P^y))+p[3]+3250441966&4294967295,I=b+(O<<22&4294967295|O>>>10),O=y+(P^I&(b^P))+p[4]+4118548399&4294967295,y=I+(O<<7&4294967295|O>>>25),O=P+(b^y&(I^b))+p[5]+1200080426&4294967295,P=y+(O<<12&4294967295|O>>>20),O=b+(I^P&(y^I))+p[6]+2821735955&4294967295,b=P+(O<<17&4294967295|O>>>15),O=I+(y^b&(P^y))+p[7]+4249261313&4294967295,I=b+(O<<22&4294967295|O>>>10),O=y+(P^I&(b^P))+p[8]+1770035416&4294967295,y=I+(O<<7&4294967295|O>>>25),O=P+(b^y&(I^b))+p[9]+2336552879&4294967295,P=y+(O<<12&4294967295|O>>>20),O=b+(I^P&(y^I))+p[10]+4294925233&4294967295,b=P+(O<<17&4294967295|O>>>15),O=I+(y^b&(P^y))+p[11]+2304563134&4294967295,I=b+(O<<22&4294967295|O>>>10),O=y+(P^I&(b^P))+p[12]+1804603682&4294967295,y=I+(O<<7&4294967295|O>>>25),O=P+(b^y&(I^b))+p[13]+4254626195&4294967295,P=y+(O<<12&4294967295|O>>>20),O=b+(I^P&(y^I))+p[14]+2792965006&4294967295,b=P+(O<<17&4294967295|O>>>15),O=I+(y^b&(P^y))+p[15]+1236535329&4294967295,I=b+(O<<22&4294967295|O>>>10),O=y+(b^P&(I^b))+p[1]+4129170786&4294967295,y=I+(O<<5&4294967295|O>>>27),O=P+(I^b&(y^I))+p[6]+3225465664&4294967295,P=y+(O<<9&4294967295|O>>>23),O=b+(y^I&(P^y))+p[11]+643717713&4294967295,b=P+(O<<14&4294967295|O>>>18),O=I+(P^y&(b^P))+p[0]+3921069994&4294967295,I=b+(O<<20&4294967295|O>>>12),O=y+(b^P&(I^b))+p[5]+3593408605&4294967295,y=I+(O<<5&4294967295|O>>>27),O=P+(I^b&(y^I))+p[10]+38016083&4294967295,P=y+(O<<9&4294967295|O>>>23),O=b+(y^I&(P^y))+p[15]+3634488961&4294967295,b=P+(O<<14&4294967295|O>>>18),O=I+(P^y&(b^P))+p[4]+3889429448&4294967295,I=b+(O<<20&4294967295|O>>>12),O=y+(b^P&(I^b))+p[9]+568446438&4294967295,y=I+(O<<5&4294967295|O>>>27),O=P+(I^b&(y^I))+p[14]+3275163606&4294967295,P=y+(O<<9&4294967295|O>>>23),O=b+(y^I&(P^y))+p[3]+4107603335&4294967295,b=P+(O<<14&4294967295|O>>>18),O=I+(P^y&(b^P))+p[8]+1163531501&4294967295,I=b+(O<<20&4294967295|O>>>12),O=y+(b^P&(I^b))+p[13]+2850285829&4294967295,y=I+(O<<5&4294967295|O>>>27),O=P+(I^b&(y^I))+p[2]+4243563512&4294967295,P=y+(O<<9&4294967295|O>>>23),O=b+(y^I&(P^y))+p[7]+1735328473&4294967295,b=P+(O<<14&4294967295|O>>>18),O=I+(P^y&(b^P))+p[12]+2368359562&4294967295,I=b+(O<<20&4294967295|O>>>12),O=y+(I^b^P)+p[5]+4294588738&4294967295,y=I+(O<<4&4294967295|O>>>28),O=P+(y^I^b)+p[8]+2272392833&4294967295,P=y+(O<<11&4294967295|O>>>21),O=b+(P^y^I)+p[11]+1839030562&4294967295,b=P+(O<<16&4294967295|O>>>16),O=I+(b^P^y)+p[14]+4259657740&4294967295,I=b+(O<<23&4294967295|O>>>9),O=y+(I^b^P)+p[1]+2763975236&4294967295,y=I+(O<<4&4294967295|O>>>28),O=P+(y^I^b)+p[4]+1272893353&4294967295,P=y+(O<<11&4294967295|O>>>21),O=b+(P^y^I)+p[7]+4139469664&4294967295,b=P+(O<<16&4294967295|O>>>16),O=I+(b^P^y)+p[10]+3200236656&4294967295,I=b+(O<<23&4294967295|O>>>9),O=y+(I^b^P)+p[13]+681279174&4294967295,y=I+(O<<4&4294967295|O>>>28),O=P+(y^I^b)+p[0]+3936430074&4294967295,P=y+(O<<11&4294967295|O>>>21),O=b+(P^y^I)+p[3]+3572445317&4294967295,b=P+(O<<16&4294967295|O>>>16),O=I+(b^P^y)+p[6]+76029189&4294967295,I=b+(O<<23&4294967295|O>>>9),O=y+(I^b^P)+p[9]+3654602809&4294967295,y=I+(O<<4&4294967295|O>>>28),O=P+(y^I^b)+p[12]+3873151461&4294967295,P=y+(O<<11&4294967295|O>>>21),O=b+(P^y^I)+p[15]+530742520&4294967295,b=P+(O<<16&4294967295|O>>>16),O=I+(b^P^y)+p[2]+3299628645&4294967295,I=b+(O<<23&4294967295|O>>>9),O=y+(b^(I|~P))+p[0]+4096336452&4294967295,y=I+(O<<6&4294967295|O>>>26),O=P+(I^(y|~b))+p[7]+1126891415&4294967295,P=y+(O<<10&4294967295|O>>>22),O=b+(y^(P|~I))+p[14]+2878612391&4294967295,b=P+(O<<15&4294967295|O>>>17),O=I+(P^(b|~y))+p[5]+4237533241&4294967295,I=b+(O<<21&4294967295|O>>>11),O=y+(b^(I|~P))+p[12]+1700485571&4294967295,y=I+(O<<6&4294967295|O>>>26),O=P+(I^(y|~b))+p[3]+2399980690&4294967295,P=y+(O<<10&4294967295|O>>>22),O=b+(y^(P|~I))+p[10]+4293915773&4294967295,b=P+(O<<15&4294967295|O>>>17),O=I+(P^(b|~y))+p[1]+2240044497&4294967295,I=b+(O<<21&4294967295|O>>>11),O=y+(b^(I|~P))+p[8]+1873313359&4294967295,y=I+(O<<6&4294967295|O>>>26),O=P+(I^(y|~b))+p[15]+4264355552&4294967295,P=y+(O<<10&4294967295|O>>>22),O=b+(y^(P|~I))+p[6]+2734768916&4294967295,b=P+(O<<15&4294967295|O>>>17),O=I+(P^(b|~y))+p[13]+1309151649&4294967295,I=b+(O<<21&4294967295|O>>>11),O=y+(b^(I|~P))+p[4]+4149444226&4294967295,y=I+(O<<6&4294967295|O>>>26),O=P+(I^(y|~b))+p[11]+3174756917&4294967295,P=y+(O<<10&4294967295|O>>>22),O=b+(y^(P|~I))+p[2]+718787259&4294967295,b=P+(O<<15&4294967295|O>>>17),O=I+(P^(b|~y))+p[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(b+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+b&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var I=y-this.blockSize,p=this.B,b=this.h,P=0;P<y;){if(b==0)for(;P<=I;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<y;)if(p[b++]=S.charCodeAt(P++),b==this.blockSize){i(this,p),b=0;break}}else for(;P<y;)if(p[b++]=S[P++],b==this.blockSize){i(this,p),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var I=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=I&255,I/=256;for(this.u(S),S=Array(16),y=I=0;4>y;++y)for(var p=0;32>p;p+=8)S[I++]=this.g[y]>>>p&255;return S};function s(S,y){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=y(S)}function o(S,y){this.h=y;for(var I=[],p=!0,b=S.length-1;0<=b;b--){var P=S[b]|0;p&&P==y||(I[b]=P,p=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?s(S,function(y){return new o([y|0],0>y?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return w(c(-S));for(var y=[],I=1,p=0;S>=I;p++)y[p]=S/I|0,I*=4294967296;return new o(y,0)}function d(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return w(d(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(y,8)),p=h,b=0;b<S.length;b+=8){var P=Math.min(8,S.length-b),O=parseInt(S.substring(b,b+P),y);8>P?(P=c(Math.pow(y,P)),p=p.j(P).add(c(O))):(p=p.j(I),p=p.add(c(O)))}return p}var h=l(0),f=l(1),E=l(16777216);t=o.prototype,t.m=function(){if(R(this))return-w(this).m();for(var S=0,y=1,I=0;I<this.g.length;I++){var p=this.i(I);S+=(0<=p?p:4294967296+p)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A(this))return"0";if(R(this))return"-"+w(this).toString(S);for(var y=c(Math.pow(S,6)),I=this,p="";;){var b=k(I,y).g;I=m(I,b.j(y));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=b,A(I))return P+p;for(;6>P.length;)P="0"+P;p=P+p}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function A(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function R(S){return S.h==-1}t.l=function(S){return S=m(this,S),R(S)?-1:A(S)?0:1};function w(S){for(var y=S.g.length,I=[],p=0;p<y;p++)I[p]=~S.g[p];return new o(I,~S.h).add(f)}t.abs=function(){return R(this)?w(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],p=0,b=0;b<=y;b++){var P=p+(this.i(b)&65535)+(S.i(b)&65535),O=(P>>>16)+(this.i(b)>>>16)+(S.i(b)>>>16);p=O>>>16,P&=65535,O&=65535,I[b]=O<<16|P}return new o(I,I[I.length-1]&-2147483648?-1:0)};function m(S,y){return S.add(w(y))}t.j=function(S){if(A(this)||A(S))return h;if(R(this))return R(S)?w(this).j(w(S)):w(w(this).j(S));if(R(S))return w(this.j(w(S)));if(0>this.l(E)&&0>S.l(E))return c(this.m()*S.m());for(var y=this.g.length+S.g.length,I=[],p=0;p<2*y;p++)I[p]=0;for(p=0;p<this.g.length;p++)for(var b=0;b<S.g.length;b++){var P=this.i(p)>>>16,O=this.i(p)&65535,B=S.i(b)>>>16,Y=S.i(b)&65535;I[2*p+2*b]+=O*Y,_(I,2*p+2*b),I[2*p+2*b+1]+=P*Y,_(I,2*p+2*b+1),I[2*p+2*b+1]+=O*B,_(I,2*p+2*b+1),I[2*p+2*b+2]+=P*B,_(I,2*p+2*b+2)}for(p=0;p<y;p++)I[p]=I[2*p+1]<<16|I[2*p];for(p=y;p<2*y;p++)I[p]=0;return new o(I,0)};function _(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function T(S,y){this.g=S,this.h=y}function k(S,y){if(A(y))throw Error("division by zero");if(A(S))return new T(h,h);if(R(S))return y=k(w(S),y),new T(w(y.g),w(y.h));if(R(y))return y=k(S,w(y)),new T(w(y.g),y.h);if(30<S.g.length){if(R(S)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var I=f,p=y;0>=p.l(S);)I=L(I),p=L(p);var b=N(I,1),P=N(p,1);for(p=N(p,2),I=N(I,2);!A(p);){var O=P.add(p);0>=O.l(S)&&(b=b.add(I),P=O),p=N(p,1),I=N(I,1)}return y=m(S,b.j(y)),new T(b,y)}for(b=h;0<=S.l(y);){for(I=Math.max(1,Math.floor(S.m()/y.m())),p=Math.ceil(Math.log(I)/Math.LN2),p=48>=p?1:Math.pow(2,p-48),P=c(I),O=P.j(y);R(O)||0<O.l(S);)I-=p,P=c(I),O=P.j(y);A(P)&&(P=f),b=b.add(P),S=m(S,O)}return new T(b,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],p=0;p<y;p++)I[p]=this.i(p)&S.i(p);return new o(I,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],p=0;p<y;p++)I[p]=this.i(p)|S.i(p);return new o(I,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],p=0;p<y;p++)I[p]=this.i(p)^S.i(p);return new o(I,this.h^S.h)};function L(S){for(var y=S.g.length+1,I=[],p=0;p<y;p++)I[p]=S.i(p)<<1|S.i(p-1)>>>31;return new o(I,S.h)}function N(S,y){var I=y>>5;y%=32;for(var p=S.g.length-I,b=[],P=0;P<p;P++)b[P]=0<y?S.i(P+I)>>>y|S.i(P+I+1)<<32-y:S.i(P+I);return new o(b,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,bi=o}).apply(typeof Sw<"u"?Sw:typeof self<"u"?self:typeof window<"u"?window:{});var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oI,la,aI,nc,u_,lI,uI,cI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,x){return u==Array.prototype||u==Object.prototype||(u[g]=x.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xu=="object"&&xu];for(var g=0;g<u.length;++g){var x=u[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(u,g){if(g)e:{var x=r;u=u.split(".");for(var D=0;D<u.length-1;D++){var F=u[D];if(!(F in x))break e;x=x[F]}u=u[u.length-1],D=x[u],g=g(D),g!=D&&g!=null&&e(x,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var x=0,D=!1,F={next:function(){if(!D&&x<u.length){var V=x++;return{value:g(V,u[V]),done:!1}}return D=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(u){return u||function(){return s(this,function(g,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,x){return u.call.apply(u.bind,arguments)}function h(u,g,x){if(!u)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,D),u.apply(g,F)}}return function(){return u.apply(g,arguments)}}function f(u,g,x){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function E(u,g){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function A(u,g){function x(){}x.prototype=g.prototype,u.aa=g.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(D,F,V){for(var q=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)q[ve-2]=arguments[ve];return g.prototype[F].apply(D,q)}}function R(u){const g=u.length;if(0<g){const x=Array(g);for(let D=0;D<g;D++)x[D]=u[D];return x}return[]}function w(u,g){for(let x=1;x<arguments.length;x++){const D=arguments[x];if(l(D)){const F=u.length||0,V=D.length||0;u.length=F+V;for(let q=0;q<V;q++)u[F+q]=D[q]}else u.push(D)}}class m{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function _(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var L=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function N(u,g,x){for(const D in u)g.call(x,u[D],D,u)}function S(u,g){for(const x in u)g.call(void 0,u[x],x,u)}function y(u){const g={};for(const x in u)g[x]=u[x];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(u,g){let x,D;for(let F=1;F<arguments.length;F++){D=arguments[F];for(x in D)u[x]=D[x];for(let V=0;V<I.length;V++)x=I[V],Object.prototype.hasOwnProperty.call(D,x)&&(u[x]=D[x])}}function b(u){var g=1;u=u.split(":");const x=[];for(;0<g&&u.length;)x.push(u.shift()),g--;return u.length&&x.push(u.join(":")),x}function P(u){a.setTimeout(()=>{throw u},0)}function O(){var u=j;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class B{constructor(){this.h=this.g=null}add(g,x){const D=Y.get();D.set(g,x),this.h?this.h.next=D:this.g=D,this.h=D}}var Y=new m(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,M=!1,j=new B,W=()=>{const u=a.Promise.resolve(void 0);Z=()=>{u.then(re)}};var re=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(x){P(x)}var g=Y;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}M=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,g),a.removeEventListener("test",x,g)}catch{}return u}();function Fe(u,g){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(L){e:{try{k(g.nodeName);var F=!0;break e}catch{}F=!1}F||(g=null)}}else x=="mouseover"?g=u.fromElement:x=="mouseout"&&(g=u.toElement);this.relatedTarget=g,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ke[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Fe.aa.h.call(this)}}A(Fe,_e);var ke={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),nn=0;function Xe(u,g,x,D,F){this.listener=u,this.proxy=null,this.src=g,this.type=x,this.capture=!!D,this.ha=F,this.key=++nn,this.da=this.fa=!1}function Rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Gt(u){this.src=u,this.g={},this.h=0}Gt.prototype.add=function(u,g,x,D,F){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var q=Dt(u,g,D,F);return-1<q?(g=u[q],x||(g.fa=!1)):(g=new Xe(g,this.src,V,!!D,F),g.fa=x,u.push(g)),g};function gr(u,g){var x=g.type;if(x in u.g){var D=u.g[x],F=Array.prototype.indexOf.call(D,g,void 0),V;(V=0<=F)&&Array.prototype.splice.call(D,F,1),V&&(Rt(g),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Dt(u,g,x,D){for(var F=0;F<u.length;++F){var V=u[F];if(!V.da&&V.listener==g&&V.capture==!!x&&V.ha==D)return F}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Ao={};function Vl(u,g,x,D,F){if(Array.isArray(g)){for(var V=0;V<g.length;V++)Vl(u,g[V],x,D,F);return null}return x=ov(x),u&&u[Ce]?u.K(g,x,c(D)?!!D.capture:!1,F):ph(u,g,x,!1,D,F)}function ph(u,g,x,D,F,V){if(!g)throw Error("Invalid event type");var q=c(F)?!!F.capture:!!F,ve=gh(u);if(ve||(u[Yi]=ve=new Gt(u)),x=ve.add(g,x,D,q,V),x.proxy)return x;if(D=_h(),x.proxy=D,D.src=u,D.listener=x,u.addEventListener)Se||(F=q),F===void 0&&(F=!1),u.addEventListener(g.toString(),D,F);else if(u.attachEvent)u.attachEvent(sv(g.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function _h(){function u(x){return g.call(u.src,u.listener,x)}const g=rR;return u}function hi(u,g,x,D,F){if(Array.isArray(g))for(var V=0;V<g.length;V++)hi(u,g[V],x,D,F);else D=c(D)?!!D.capture:!!D,x=ov(x),u&&u[Ce]?(u=u.i,g=String(g).toString(),g in u.g&&(V=u.g[g],x=Dt(V,x,D,F),-1<x&&(Rt(V[x]),Array.prototype.splice.call(V,x,1),V.length==0&&(delete u.g[g],u.h--)))):u&&(u=gh(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Dt(g,x,D,F)),(x=-1<u?g[u]:null)&&mh(x))}function mh(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ce])gr(g.i,u);else{var x=u.type,D=u.proxy;g.removeEventListener?g.removeEventListener(x,D,u.capture):g.detachEvent?g.detachEvent(sv(x),D):g.addListener&&g.removeListener&&g.removeListener(D),(x=gh(g))?(gr(x,u),x.h==0&&(x.src=null,g[Yi]=null)):Rt(u)}}}function sv(u){return u in Ao?Ao[u]:Ao[u]="on"+u}function rR(u,g){if(u.da)u=!0;else{g=new Fe(g,this);var x=u.listener,D=u.ha||u.src;u.fa&&mh(u),u=x.call(D,g)}return u}function gh(u){return u=u[Yi],u instanceof Gt?u:null}var vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ov(u){return typeof u=="function"?u:(u[vh]||(u[vh]=function(g){return u.handleEvent(g)}),u[vh])}function lt(){ee.call(this),this.i=new Gt(this),this.M=this,this.F=null}A(lt,ee),lt.prototype[Ce]=!0,lt.prototype.removeEventListener=function(u,g,x,D){hi(this,u,g,x,D)};function yt(u,g){var x,D=u.F;if(D)for(x=[];D;D=D.F)x.push(D);if(u=u.M,D=g.type||g,typeof g=="string")g=new _e(g,u);else if(g instanceof _e)g.target=g.target||u;else{var F=g;g=new _e(D,u),p(g,F)}if(F=!0,x)for(var V=x.length-1;0<=V;V--){var q=g.g=x[V];F=jl(q,D,!0,g)&&F}if(q=g.g=u,F=jl(q,D,!0,g)&&F,F=jl(q,D,!1,g)&&F,x)for(V=0;V<x.length;V++)q=g.g=x[V],F=jl(q,D,!1,g)&&F}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var x=u.g[g],D=0;D<x.length;D++)Rt(x[D]);delete u.g[g],u.h--}}this.F=null},lt.prototype.K=function(u,g,x,D){return this.i.add(String(u),g,!1,x,D)},lt.prototype.L=function(u,g,x,D){return this.i.add(String(u),g,!0,x,D)};function jl(u,g,x,D){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var F=!0,V=0;V<g.length;++V){var q=g[V];if(q&&!q.da&&q.capture==x){var ve=q.listener,Ye=q.ha||q.src;q.fa&&gr(u.i,q),F=ve.call(Ye,D)!==!1&&F}}return F&&!D.defaultPrevented}function av(u,g,x){if(typeof u=="function")x&&(u=f(u,x));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function lv(u){u.g=av(()=>{u.g=null,u.i&&(u.i=!1,lv(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class iR extends ee{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:lv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ro(u){ee.call(this),this.h=u,this.g={}}A(Ro,ee);var uv=[];function cv(u){N(u.g,function(g,x){this.g.hasOwnProperty(x)&&mh(g)},u),u.g={}}Ro.prototype.N=function(){Ro.aa.N.call(this),cv(this)},Ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yh=a.JSON.stringify,sR=a.JSON.parse,oR=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function wh(){}wh.prototype.h=null;function dv(u){return u.h||(u.h=u.i())}function hv(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Eh(){_e.call(this,"d")}A(Eh,_e);function Th(){_e.call(this,"c")}A(Th,_e);var fi={},fv=null;function $l(){return fv=fv||new lt}fi.La="serverreachability";function pv(u){_e.call(this,fi.La,u)}A(pv,_e);function ko(u){const g=$l();yt(g,new pv(g))}fi.STAT_EVENT="statevent";function _v(u,g){_e.call(this,fi.STAT_EVENT,u),this.stat=g}A(_v,_e);function wt(u){const g=$l();yt(g,new _v(g,u))}fi.Ma="timingevent";function mv(u,g){_e.call(this,fi.Ma,u),this.size=g}A(mv,_e);function Po(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function No(){this.g=!0}No.prototype.xa=function(){this.g=!1};function aR(u,g,x,D,F,V){u.info(function(){if(u.g)if(V)for(var q="",ve=V.split("&"),Ye=0;Ye<ve.length;Ye++){var fe=ve[Ye].split("=");if(1<fe.length){var ut=fe[0];fe=fe[1];var ct=ut.split("_");q=2<=ct.length&&ct[1]=="type"?q+(ut+"="+fe+"&"):q+(ut+"=redacted&")}}else q=null;else q=V;return"XMLHTTP REQ ("+D+") [attempt "+F+"]: "+g+`
`+x+`
`+q})}function lR(u,g,x,D,F,V,q){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+F+"]: "+g+`
`+x+`
`+V+" "+q})}function Ji(u,g,x,D){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+cR(u,x)+(D?" "+D:"")})}function uR(u,g){u.info(function(){return"TIMEOUT: "+g})}No.prototype.info=function(){};function cR(u,g){if(!u.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var D=x[u];if(!(2>D.length)){var F=D[1];if(Array.isArray(F)&&!(1>F.length)){var V=F[0];if(V!="noop"&&V!="stop"&&V!="close")for(var q=1;q<F.length;q++)F[q]=""}}}}return yh(x)}catch{return g}}var Ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sh;function Bl(){}A(Bl,wh),Bl.prototype.g=function(){return new XMLHttpRequest},Bl.prototype.i=function(){return{}},Sh=new Bl;function vr(u,g,x,D){this.j=u,this.i=g,this.l=x,this.R=D||1,this.U=new Ro(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vv}function vv(){this.i=null,this.g="",this.h=!1}var yv={},Ch={};function xh(u,g,x){u.L=1,u.v=Kl(Bn(g)),u.m=x,u.P=!0,wv(u,null)}function wv(u,g){u.F=Date.now(),zl(u),u.A=Bn(u.v);var x=u.A,D=u.R;Array.isArray(D)||(D=[String(D)]),Dv(x.i,"t",D),u.C=0,x=u.j.J,u.h=new vv,u.g=Jv(u.j,x?g:null,!u.m),0<u.O&&(u.M=new iR(f(u.Y,u,u.g),u.O)),g=u.U,x=u.g,D=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(uv[0]=F.toString()),F=uv);for(var V=0;V<F.length;V++){var q=Vl(x,F[V],D||g.handleEvent,!1,g.h||g);if(!q)break;g.g[q.key]=q}g=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),ko(),aR(u.i,u.u,u.A,u.l,u.R,u.m)}vr.prototype.ca=function(u){u=u.target;const g=this.M;g&&zn(u)==3?g.j():this.Y(u)},vr.prototype.Y=function(u){try{if(u==this.g)e:{const ct=zn(this.g);var g=this.g.Ba();const ts=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Uv(this.g)))){this.J||ct!=4||g==7||(g==8||0>=ts?ko(3):ko(2)),Ih(this);var x=this.g.Z();this.X=x;t:if(Ev(this)){var D=Uv(this.g);u="";var F=D.length,V=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),Oo(this);var q="";break t}this.h.i=new a.TextDecoder}for(g=0;g<F;g++)this.h.h=!0,u+=this.h.i.decode(D[g],{stream:!(V&&g==F-1)});D.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=x==200,lR(this.i,this.u,this.A,this.l,this.R,ct,x),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ye=this.g;if((ve=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ve)){var fe=ve;break t}}fe=null}if(x=fe)Ji(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ah(this,x);else{this.o=!1,this.s=3,wt(12),pi(this),Oo(this);break e}}if(this.P){x=!0;let rn;for(;!this.J&&this.C<q.length;)if(rn=dR(this,q),rn==Ch){ct==4&&(this.s=4,wt(14),x=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==yv){this.s=4,wt(15),Ji(this.i,this.l,q,"[Invalid Chunk]"),x=!1;break}else Ji(this.i,this.l,rn,null),Ah(this,rn);if(Ev(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||q.length!=0||this.h.h||(this.s=1,wt(16),x=!1),this.o=this.o&&x,!x)Ji(this.i,this.l,q,"[Invalid Chunked Response]"),pi(this),Oo(this);else if(0<q.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Oh(ut),ut.M=!0,wt(11))}}else Ji(this.i,this.l,q,null),Ah(this,q);ct==4&&pi(this),this.o&&!this.J&&(ct==4?Gv(this.j,this):(this.o=!1,zl(this)))}else RR(this.g),x==400&&0<q.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),pi(this),Oo(this)}}}catch{}finally{}};function Ev(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function dR(u,g){var x=u.C,D=g.indexOf(`
`,x);return D==-1?Ch:(x=Number(g.substring(x,D)),isNaN(x)?yv:(D+=1,D+x>g.length?Ch:(g=g.slice(D,D+x),u.C=D+x,g)))}vr.prototype.cancel=function(){this.J=!0,pi(this)};function zl(u){u.S=Date.now()+u.I,Tv(u,u.I)}function Tv(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Po(f(u.ba,u),g)}function Ih(u){u.B&&(a.clearTimeout(u.B),u.B=null)}vr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(uR(this.i,this.A),this.L!=2&&(ko(),wt(17)),pi(this),this.s=2,Oo(this)):Tv(this,this.S-u)};function Oo(u){u.j.G==0||u.J||Gv(u.j,u)}function pi(u){Ih(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,cv(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Ah(u,g){try{var x=u.j;if(x.G!=0&&(x.g==u||Rh(x.h,u))){if(!u.K&&Rh(x.h,u)&&x.G==3){try{var D=x.Da.g.parse(g)}catch{D=null}if(Array.isArray(D)&&D.length==3){var F=D;if(F[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)Jl(x),Xl(x);else break e;Nh(x),wt(18)}}else x.za=F[1],0<x.za-x.T&&37500>F[2]&&x.F&&x.v==0&&!x.C&&(x.C=Po(f(x.Za,x),6e3));if(1>=xv(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else mi(x,11)}else if((u.K||x.g==u)&&Jl(x),!_(g))for(F=x.Da.g.parse(g),g=0;g<F.length;g++){let fe=F[g];if(x.T=fe[0],fe=fe[1],x.G==2)if(fe[0]=="c"){x.K=fe[1],x.ia=fe[2];const ut=fe[3];ut!=null&&(x.la=ut,x.j.info("VER="+x.la));const ct=fe[4];ct!=null&&(x.Aa=ct,x.j.info("SVER="+x.Aa));const ts=fe[5];ts!=null&&typeof ts=="number"&&0<ts&&(D=1.5*ts,x.L=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const rn=u.g;if(rn){const eu=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eu){var V=D.h;V.g||eu.indexOf("spdy")==-1&&eu.indexOf("quic")==-1&&eu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(bh(V,V.h),V.h=null))}if(D.D){const Dh=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Dh&&(D.ya=Dh,we(D.I,D.D,Dh))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),D=x;var q=u;if(D.qa=Yv(D,D.J?D.ia:null,D.W),q.K){Iv(D.h,q);var ve=q,Ye=D.L;Ye&&(ve.I=Ye),ve.B&&(Ih(ve),zl(ve)),D.g=q}else Kv(D);0<x.i.length&&Yl(x)}else fe[0]!="stop"&&fe[0]!="close"||mi(x,7);else x.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?mi(x,7):Ph(x):fe[0]!="noop"&&x.l&&x.l.ta(fe),x.v=0)}}ko(4)}catch{}}var hR=class{constructor(u,g){this.g=u,this.map=g}};function Sv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xv(u){return u.h?1:u.g?u.g.size:0}function Rh(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function bh(u,g){u.g?u.g.add(g):u.h=g}function Iv(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Sv.prototype.cancel=function(){if(this.i=Av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Av(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const x of u.g.values())g=g.concat(x.D);return g}return R(u.i)}function fR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],x=u.length,D=0;D<x;D++)g.push(u[D]);return g}g=[],x=0;for(D in u)g[x++]=u[D];return g}function pR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var x=0;x<u;x++)g.push(x);return g}g=[],x=0;for(const D in u)g[x++]=D;return g}}}function Rv(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var x=pR(u),D=fR(u),F=D.length,V=0;V<F;V++)g.call(void 0,D[V],x&&x[V],u)}var bv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _R(u,g){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var D=u[x].indexOf("="),F=null;if(0<=D){var V=u[x].substring(0,D);F=u[x].substring(D+1)}else V=u[x];g(V,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,Wl(this,u.j),this.o=u.o,this.g=u.g,ql(this,u.s),this.l=u.l;var g=u.i,x=new Mo;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),kv(this,x),this.m=u.m}else u&&(g=String(u).match(bv))?(this.h=!1,Wl(this,g[1]||"",!0),this.o=Do(g[2]||""),this.g=Do(g[3]||"",!0),ql(this,g[4]),this.l=Do(g[5]||"",!0),kv(this,g[6]||"",!0),this.m=Do(g[7]||"")):(this.h=!1,this.i=new Mo(null,this.h))}_i.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Lo(g,Pv,!0),":");var x=this.g;return(x||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Lo(g,Pv,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Lo(x,x.charAt(0)=="/"?vR:gR,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Lo(x,wR)),u.join("")};function Bn(u){return new _i(u)}function Wl(u,g,x){u.j=x?Do(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ql(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function kv(u,g,x){g instanceof Mo?(u.i=g,ER(u.i,u.h)):(x||(g=Lo(g,yR)),u.i=new Mo(g,u.h))}function we(u,g,x){u.i.set(g,x)}function Kl(u){return we(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Do(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lo(u,g,x){return typeof u=="string"?(u=encodeURI(u).replace(g,mR),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Pv=/[#\/\?@]/g,gR=/[#\?:]/g,vR=/[#\?]/g,yR=/[#\?@]/g,wR=/#/g;function Mo(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function yr(u){u.g||(u.g=new Map,u.h=0,u.i&&_R(u.i,function(g,x){u.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=Mo.prototype,t.add=function(u,g){yr(this),this.i=null,u=Zi(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(g),this.h+=1,this};function Nv(u,g){yr(u),g=Zi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ov(u,g){return yr(u),g=Zi(u,g),u.g.has(g)}t.forEach=function(u,g){yr(this),this.g.forEach(function(x,D){x.forEach(function(F){u.call(g,F,D,this)},this)},this)},t.na=function(){yr(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let D=0;D<g.length;D++){const F=u[D];for(let V=0;V<F.length;V++)x.push(g[D])}return x},t.V=function(u){yr(this);let g=[];if(typeof u=="string")Ov(this,u)&&(g=g.concat(this.g.get(Zi(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)g=g.concat(u[x])}return g},t.set=function(u,g){return yr(this),this.i=null,u=Zi(this,u),Ov(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Dv(u,g,x){Nv(u,g),0<x.length&&(u.i=null,u.g.set(Zi(u,g),R(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var D=g[x];const V=encodeURIComponent(String(D)),q=this.V(D);for(D=0;D<q.length;D++){var F=V;q[D]!==""&&(F+="="+encodeURIComponent(String(q[D]))),u.push(F)}}return this.i=u.join("&")};function Zi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function ER(u,g){g&&!u.j&&(yr(u),u.i=null,u.g.forEach(function(x,D){var F=D.toLowerCase();D!=F&&(Nv(this,D),Dv(this,F,x))},u)),u.j=g}function TR(u,g){const x=new No;if(a.Image){const D=new Image;D.onload=E(wr,x,"TestLoadImage: loaded",!0,g,D),D.onerror=E(wr,x,"TestLoadImage: error",!1,g,D),D.onabort=E(wr,x,"TestLoadImage: abort",!1,g,D),D.ontimeout=E(wr,x,"TestLoadImage: timeout",!1,g,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else g(!1)}function SR(u,g){const x=new No,D=new AbortController,F=setTimeout(()=>{D.abort(),wr(x,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:D.signal}).then(V=>{clearTimeout(F),V.ok?wr(x,"TestPingServer: ok",!0,g):wr(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(F),wr(x,"TestPingServer: error",!1,g)})}function wr(u,g,x,D,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),D(x)}catch{}}function CR(){this.g=new oR}function xR(u,g,x){const D=x||"";try{Rv(u,function(F,V){let q=F;c(F)&&(q=yh(F)),g.push(D+V+"="+encodeURIComponent(q))})}catch(F){throw g.push(D+"type="+encodeURIComponent("_badmap")),F}}function Hl(u){this.l=u.Ub||null,this.j=u.eb||!1}A(Hl,wh),Hl.prototype.g=function(){return new Gl(this.l,this.j)},Hl.prototype.i=function(u){return function(){return u}}({});function Gl(u,g){lt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Gl,lt),t=Gl.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Vo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vo(this)),this.g&&(this.readyState=3,Vo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Fo(this):Vo(this),this.readyState==3&&Lv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Fo(this))},t.Qa=function(u){this.g&&(this.response=u,Fo(this))},t.ga=function(){this.g&&Fo(this)};function Fo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Vo(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=g.next();return u.join(`\r
`)};function Vo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mv(u){let g="";return N(u,function(x,D){g+=D,g+=":",g+=x,g+=`\r
`}),g}function kh(u,g,x){e:{for(D in x){var D=!1;break e}D=!0}D||(x=Mv(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):we(u,g,x))}function Pe(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Pe,lt);var IR=/^https?$/i,AR=["POST","PUT"];t=Pe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sh.g(),this.v=this.o?dv(this.o):dv(Sh),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(V){Fv(this,V);return}if(u=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var F in D)x.set(F,D[F]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const V of D.keys())x.set(V,D.get(V));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(V=>V.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AR,g,void 0))||D||F||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of x)this.g.setRequestHeader(V,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$v(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){Fv(this,V)}};function Fv(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Vv(u),Ql(u)}function Vv(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),Ql(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ql(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jv(this):this.bb())},t.bb=function(){jv(this)};function jv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||zn(u)!=4||u.Z()!=2)){if(u.u&&zn(u)==4)av(u.Ea,0,u);else if(yt(u,"readystatechange"),zn(u)==4){u.h=!1;try{const q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var D;if(D=q===0){var F=String(u.D).match(bv)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),D=!IR.test(F?F.toLowerCase():"")}x=D}if(x)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var V=2<zn(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",Vv(u)}}finally{Ql(u)}}}}function Ql(u,g){if(u.g){$v(u);const x=u.g,D=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||yt(u,"ready");try{x.onreadystatechange=D}catch{}}}function $v(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),sR(g)}};function Uv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function RR(u){const g={};u=(u.g&&2<=zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(_(u[D]))continue;var x=b(u[D]);const F=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const V=g[F]||[];g[F]=V,V.push(x)}S(g,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jo(u,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||g}function Bv(u){this.Aa=0,this.i=[],this.j=new No,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jo("baseRetryDelayMs",5e3,u),this.cb=jo("retryDelaySeedMs",1e4,u),this.Wa=jo("forwardChannelMaxRetries",2,u),this.wa=jo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Sv(u&&u.concurrentRequestLimit),this.Da=new CR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bv.prototype,t.la=8,t.G=1,t.connect=function(u,g,x,D){wt(0),this.W=u,this.H=g||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.I=Yv(this,null,this.W),Yl(this)};function Ph(u){if(zv(u),u.G==3){var g=u.U++,x=Bn(u.I);if(we(x,"SID",u.K),we(x,"RID",g),we(x,"TYPE","terminate"),$o(u,x),g=new vr(u,u.j,g),g.L=2,g.v=Kl(Bn(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=g.v,x=!0),x||(g.g=Jv(g.j,null),g.g.ea(g.v)),g.F=Date.now(),zl(g)}Xv(u)}function Xl(u){u.g&&(Oh(u),u.g.cancel(),u.g=null)}function zv(u){Xl(u),u.u&&(a.clearTimeout(u.u),u.u=null),Jl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Yl(u){if(!Cv(u.h)&&!u.s){u.s=!0;var g=u.Ga;Z||W(),M||(Z(),M=!0),j.add(g,u),u.B=0}}function bR(u,g){return xv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Po(f(u.Ga,u,g),Qv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new vr(this,this.j,u);let V=this.o;if(this.S&&(V?(V=y(V),p(V,this.S)):V=this.S),this.m!==null||this.O||(F.H=V,V=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(g+=D,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=qv(this,F,g),x=Bn(this.I),we(x,"RID",u),we(x,"CVER",22),this.D&&we(x,"X-HTTP-Session-Id",this.D),$o(this,x),V&&(this.O?g="headers="+encodeURIComponent(String(Mv(V)))+"&"+g:this.m&&kh(x,this.m,V)),bh(this.h,F),this.Ua&&we(x,"TYPE","init"),this.P?(we(x,"$req",g),we(x,"SID","null"),F.T=!0,xh(F,x,null)):xh(F,x,g),this.G=2}}else this.G==3&&(u?Wv(this,u):this.i.length==0||Cv(this.h)||Wv(this))};function Wv(u,g){var x;g?x=g.l:x=u.U++;const D=Bn(u.I);we(D,"SID",u.K),we(D,"RID",x),we(D,"AID",u.T),$o(u,D),u.m&&u.o&&kh(D,u.m,u.o),x=new vr(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),g&&(u.i=g.D.concat(u.i)),g=qv(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),bh(u.h,x),xh(x,D,g)}function $o(u,g){u.H&&N(u.H,function(x,D){we(g,D,x)}),u.l&&Rv({},function(x,D){we(g,D,x)})}function qv(u,g,x){x=Math.min(u.i.length,x);var D=u.l?f(u.l.Na,u.l,u):null;e:{var F=u.i;let V=-1;for(;;){const q=["count="+x];V==-1?0<x?(V=F[0].g,q.push("ofs="+V)):V=0:q.push("ofs="+V);let ve=!0;for(let Ye=0;Ye<x;Ye++){let fe=F[Ye].g;const ut=F[Ye].map;if(fe-=V,0>fe)V=Math.max(0,F[Ye].g-100),ve=!1;else try{xR(ut,q,"req"+fe+"_")}catch{D&&D(ut)}}if(ve){D=q.join("&");break e}}}return u=u.i.splice(0,x),g.D=u,D}function Kv(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Z||W(),M||(Z(),M=!0),j.add(g,u),u.v=0}}function Nh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Po(f(u.Fa,u),Qv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Hv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Po(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Xl(this),Hv(this))};function Oh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Hv(u){u.g=new vr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Bn(u.qa);we(g,"RID","rpc"),we(g,"SID",u.K),we(g,"AID",u.T),we(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&we(g,"TO",u.ja),we(g,"TYPE","xmlhttp"),$o(u,g),u.m&&u.o&&kh(g,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=Kl(Bn(g)),x.m=null,x.P=!0,wv(x,u)}t.Za=function(){this.C!=null&&(this.C=null,Xl(this),Nh(this),wt(19))};function Jl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Gv(u,g){var x=null;if(u.g==g){Jl(u),Oh(u),u.g=null;var D=2}else if(Rh(u.h,g))x=g.D,Iv(u.h,g),D=1;else return;if(u.G!=0){if(g.o)if(D==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var F=u.B;D=$l(),yt(D,new mv(D,x)),Yl(u)}else Kv(u);else if(F=g.s,F==3||F==0&&0<g.X||!(D==1&&bR(u,g)||D==2&&Nh(u)))switch(x&&0<x.length&&(g=u.h,g.i=g.i.concat(x)),F){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Qv(u,g){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*g}function mi(u,g){if(u.j.info("Error code "+g),g==2){var x=f(u.fb,u),D=u.Xa;const F=!D;D=new _i(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wl(D,"https"),Kl(D),F?TR(D.toString(),x):SR(D.toString(),x)}else wt(2);u.G=0,u.l&&u.l.sa(g),Xv(u),zv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Xv(u){if(u.G=0,u.ka=[],u.l){const g=Av(u.h);(g.length!=0||u.i.length!=0)&&(w(u.ka,g),w(u.ka,u.i),u.h.i.length=0,R(u.i),u.i.length=0),u.l.ra()}}function Yv(u,g,x){var D=x instanceof _i?Bn(x):new _i(x);if(D.g!="")g&&(D.g=g+"."+D.g),ql(D,D.s);else{var F=a.location;D=F.protocol,g=g?g+"."+F.hostname:F.hostname,F=+F.port;var V=new _i(null);D&&Wl(V,D),g&&(V.g=g),F&&ql(V,F),x&&(V.l=x),D=V}return x=u.D,g=u.ya,x&&g&&we(D,x,g),we(D,"VER",u.la),$o(u,D),D}function Jv(u,g,x){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Pe(new Hl({eb:x})):new Pe(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zv(){}t=Zv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zl(){}Zl.prototype.g=function(u,g){return new Lt(u,g)};function Lt(u,g){lt.call(this),this.g=new Bv(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!_(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!_(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new es(this)}A(Lt,lt),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Ph(this.g)},Lt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=yh(u),u=x);g.i.push(new hR(g.Ya++,u)),g.G==3&&Yl(g)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Ph(this.g),delete this.g,Lt.aa.N.call(this)};function ey(u){Eh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const x in g){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}A(ey,Eh);function ty(){Th.call(this),this.status=1}A(ty,Th);function es(u){this.g=u}A(es,Zv),es.prototype.ua=function(){yt(this.g,"a")},es.prototype.ta=function(u){yt(this.g,new ey(u))},es.prototype.sa=function(u){yt(this.g,new ty)},es.prototype.ra=function(){yt(this.g,"b")},Zl.prototype.createWebChannel=Zl.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,cI=function(){return new Zl},uI=function(){return $l()},lI=fi,u_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ul.NO_ERROR=0,Ul.TIMEOUT=8,Ul.HTTP_ERROR=6,nc=Ul,gv.COMPLETE="complete",aI=gv,hv.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",lt.prototype.listen=lt.prototype.K,la=hv,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,oI=Pe}).apply(typeof xu<"u"?xu:typeof self<"u"?self:typeof window<"u"?window:{});const Cw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Km("@firebase/firestore");function Xo(){return Vi.logLevel}function Q(t,...e){if(Vi.logLevel<=ue.DEBUG){const n=e.map(ng);Vi.debug(`Firestore (${To}): ${t}`,...n)}}function ur(t,...e){if(Vi.logLevel<=ue.ERROR){const n=e.map(ng);Vi.error(`Firestore (${To}): ${t}`,...n)}}function eo(t,...e){if(Vi.logLevel<=ue.WARN){const n=e.map(ng);Vi.warn(`Firestore (${To}): ${t}`,...n)}}function ng(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function he(t,e){t||te()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class h9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f9{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string"),new dI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new pt(e)}}class p9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new p9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){he(this.o===void 0);const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string"),this.R=n.token,new m9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=v9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new qe(0,0))}static max(){return new ne(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return el.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends el{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const y9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends el{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return y9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(ge.fromString(e))}static fromName(e){return new X(ge.fromString(e).popFirst(5))}static empty(){return new X(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new ge(e.slice()))}}function w9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new ni(i,X.empty(),e)}function E9(t){return new ni(t.readTime,t.key,-1)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(ne.min(),X.empty(),-1)}static max(){return new ni(ne.max(),X.empty(),-1)}}function T9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==S9)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function x9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}rg.oe=-1;function Rl(t){return t==null}function Gc(t){return t===0&&1/t==-1/0}function I9(t){return typeof t=="number"&&Number.isInteger(t)&&!Gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.comparator=e,this.root=n||et.EMPTY}insert(e,n){return new be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??et.RED,this.left=i??et.EMPTY,this.right=s??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new et(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iw(this.data.getIterator())}getIteratorFrom(e){return new Iw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Iw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new Ut([])}unionWith(e){let n=new it(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ut(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pI("Invalid base64 string: "+s):s}}(e);return new at(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const A9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if(he(!!t),typeof t=="string"){let e=0;const n=A9.exec(t);if(he(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ig(t){const e=t.mapValue.fields.__previous_value__;return qd(e)?ig(e):e}function tl(t){const e=ri(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au={mapValue:{}};function $i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qd(t)?4:k9(t)?9007199254740991:b9(t)?10:11:te()}function Mn(t,e){if(t===e)return!0;const n=$i(t);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tl(t).isEqual(tl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ri(i.timestampValue),a=ri(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ji(i.bytesValue).isEqual(ji(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return De(i.geoPointValue.latitude)===De(s.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return De(i.integerValue)===De(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=De(i.doubleValue),a=De(s.doubleValue);return o===a?Gc(o)===Gc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xw(o)!==xw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mn(o[l],a[l])))return!1;return!0}(t,e);default:return te()}}function rl(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=$i(t),r=$i(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=De(s.integerValue||s.doubleValue),l=De(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Aw(t.timestampValue,e.timestampValue);case 4:return Aw(tl(t),tl(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ji(s),l=ji(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=pe(a[c],l[c]);if(d!==0)return d}return pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=pe(De(s.latitude),De(o.latitude));return a!==0?a:pe(De(s.longitude),De(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},E=(a=h.value)===null||a===void 0?void 0:a.arrayValue,A=(l=f.value)===null||l===void 0?void 0:l.arrayValue,R=pe(((c=E==null?void 0:E.values)===null||c===void 0?void 0:c.length)||0,((d=A==null?void 0:A.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:Rw(E,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Au.mapValue&&o===Au.mapValue)return 0;if(s===Au.mapValue)return 1;if(o===Au.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=pe(l[h],d[h]);if(f!==0)return f;const E=no(a[l[h]],c[d[h]]);if(E!==0)return E}return pe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw te()}}function Aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=ri(t),r=ri(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Rw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=no(n[i],r[i]);if(s)return s}return pe(n.length,r.length)}function ro(t){return c_(t)}function c_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=c_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${c_(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function Qc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d_(t){return!!t&&"integerValue"in t}function sg(t){return!!t&&"arrayValue"in t}function bw(t){return!!t&&"nullValue"in t}function kw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rc(t){return!!t&&"mapValue"in t}function b9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ea(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.value=e}static empty(){return new Tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ea(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Tt(Ea(this.value))}}function _I(t){const e=[];return Gi(t.fields,(n,r)=>{const i=new tt([n]);if(rc(r)){const s=_I(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ut(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ge(e,0,ne.min(),ne.min(),ne.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ge(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new Ge(e,2,n,ne.min(),ne.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new Ge(e,3,n,ne.min(),ne.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.position=e,this.inclusive=n}}function Pw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=no(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n="asc"){this.field=e,this.dir=n}}function P9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{}class $e extends mI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new O9(e,n,r):n==="array-contains"?new M9(e,r):n==="in"?new F9(e,r):n==="not-in"?new V9(e,r):n==="array-contains-any"?new j9(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D9(e,r):new L9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends mI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new vn(e,n)}matches(e){return gI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gI(t){return t.op==="and"}function vI(t){return N9(t)&&gI(t)}function N9(t){for(const e of t.filters)if(e instanceof vn)return!1;return!0}function h_(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(vI(t))return t.filters.map(e=>h_(e)).join(",");{const e=t.filters.map(n=>h_(n)).join(",");return`${t.op}(${e})`}}function yI(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Mn(r.value,i.value)}(t,e):t instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&yI(o,i.filters[a]),!0):!1}(t,e):void te()}function wI(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(wI).join(" ,")+"}"}(t):"Filter"}class O9 extends $e{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class D9 extends $e{constructor(e,n){super(e,"in",n),this.keys=EI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L9 extends $e{constructor(e,n){super(e,"not-in",n),this.keys=EI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class M9 extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sg(n)&&rl(n.arrayValue,this.value)}}class F9 extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class V9 extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rl(this.value.arrayValue,n)}}class j9 extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Ow(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $9(t,e,n,r,i,s,o)}function og(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Rl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.ue=n}return e.ue}function ag(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!P9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nw(t.startAt,e.startAt)&&Nw(t.endAt,e.endAt)}function f_(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function U9(t,e,n,r,i,s,o,a){return new Qi(t,e,n,r,i,s,o,a)}function Kd(t){return new Qi(t)}function Dw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lg(t){return t.collectionGroup!==null}function $s(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new il(s,r))}),n.has(tt.keyField().canonicalString())||e.ce.push(new il(tt.keyField(),r))}return e.ce}function Nn(t){const e=ie(t);return e.le||(e.le=B9(e,$s(t))),e.le}function B9(t,e){if(t.limitType==="F")return Ow(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new il(i.field,s)});const n=t.endAt?new io(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new io(t.startAt.position,t.startAt.inclusive):null;return Ow(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function p_(t,e){const n=t.filters.concat([e]);return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xc(t,e,n){return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hd(t,e){return ag(Nn(t),Nn(e))&&t.limitType===e.limitType}function TI(t){return`${og(Nn(t))}|lt:${t.limitType}`}function ds(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wI(i)).join(", ")}]`),Rl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ro(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function Gd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of $s(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Pw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,$s(r),i)||r.endAt&&!function(o,a,l){const c=Pw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,$s(r),i))}(t,e)}function z9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SI(t){return(e,n)=>{let r=!1;for(const i of $s(t)){const s=W9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function W9(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?no(l,c):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return fI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new be(X.comparator);function cr(){return q9}const CI=new be(X.comparator);function ua(...t){let e=CI;for(const n of t)e=e.insert(n.key,n);return e}function xI(t){let e=CI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return Ta()}function II(){return Ta()}function Ta(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}const K9=new be(X.comparator),H9=new it(X.comparator);function le(...t){let e=H9;for(const n of t)e=e.add(n);return e}const G9=new it(pe);function Q9(){return G9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function AI(t){return{integerValue:""+t}}function X9(t,e){return I9(e)?AI(e):ug(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this._=void 0}}function Y9(t,e,n){return t instanceof sl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qd(s)&&(s=ig(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ol?bI(t,e):t instanceof al?kI(t,e):function(i,s){const o=RI(i,s),a=Lw(o)+Lw(i.Pe);return d_(o)&&d_(i.Pe)?AI(a):ug(i.serializer,a)}(t,e)}function J9(t,e,n){return t instanceof ol?bI(t,e):t instanceof al?kI(t,e):n}function RI(t,e){return t instanceof Yc?function(r){return d_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class sl extends Qd{}class ol extends Qd{constructor(e){super(),this.elements=e}}function bI(t,e){const n=PI(e);for(const r of t.elements)n.some(i=>Mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class al extends Qd{constructor(e){super(),this.elements=e}}function kI(t,e){let n=PI(e);for(const r of t.elements)n=n.filter(i=>!Mn(i,r));return{arrayValue:{values:n}}}class Yc extends Qd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Lw(t){return De(t.integerValue||t.doubleValue)}function PI(t){return sg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n){this.field=e,this.transform=n}}function ej(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ol&&i instanceof ol||r instanceof al&&i instanceof al?to(r.elements,i.elements,Mn):r instanceof Yc&&i instanceof Yc?Mn(r.Pe,i.Pe):r instanceof sl&&i instanceof sl}(t.transform,e.transform)}class tj{constructor(e,n){this.version=e,this.transformResults=n}}class nt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nt}static exists(e){return new nt(void 0,e)}static updateTime(e){return new nt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xd{}function NI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yd(t.key,nt.none()):new bl(t.key,t.data,nt.none());{const n=t.data,r=Tt.empty();let i=new it(tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new di(t.key,r,new Ut(i.toArray()),nt.none())}}function nj(t,e,n){t instanceof bl?function(i,s,o){const a=i.value.clone(),l=Fw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof di?function(i,s,o){if(!ic(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Fw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(OI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sa(t,e,n,r){return t instanceof bl?function(s,o,a,l){if(!ic(s.precondition,o))return a;const c=s.value.clone(),d=Vw(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(s,o,a,l){if(!ic(s.precondition,o))return a;const c=Vw(s.fieldTransforms,l,o),d=o.data;return d.setAll(OI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return ic(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RI(r.transform,i||null);s!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,s))}return n||null}function Mw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&to(r,i,(s,o)=>ej(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bl extends Xd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends Xd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fw(t,e,n){const r=new Map;he(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,J9(o,a,n[i]))}return r}function Vw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Y9(s,o,e))}return r}class Yd extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=II();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=NI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>Mw(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>Mw(n,r))}}class cg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){he(e.mutations.length===r.length);let i=function(){return K9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,ce;function LI(t){switch(t){default:return te();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function MI(t){if(t===void 0)return ur("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ve.OK:return $.OK;case Ve.CANCELLED:return $.CANCELLED;case Ve.UNKNOWN:return $.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return $.INTERNAL;case Ve.UNAVAILABLE:return $.UNAVAILABLE;case Ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ve.NOT_FOUND:return $.NOT_FOUND;case Ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ve.ABORTED:return $.ABORTED;case Ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ve.DATA_LOSS:return $.DATA_LOSS;default:return te()}}(ce=Ve||(Ve={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new bi([4294967295,4294967295],0);function jw(t){const e=aj().encode(t),n=new sI;return n.update(e),new Uint8Array(n.digest())}function $w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bi([n,r],0),new bi([i,s],0)]}class dg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ca(`Invalid padding: ${n}`);if(r<0)throw new ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ca(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=bi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(bi.fromNumber(r)));return i.compare(lj)===1&&(i=new bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=jw(e),[r,i]=$w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=jw(e),[r,i]=$w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jd(ne.min(),i,new be(pe),cr(),le())}}class kl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kl(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FI{constructor(e,n){this.targetId=e,this.me=n}}class VI{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Uw{constructor(){this.fe=0,this.ge=zw(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new kl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=zw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,he(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uj{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=Bw(),this.Qe=new be(pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(f_(s))if(r===0){const o=new X(s.path);this.Ue(n,o,Ge.newNoDocument(o,ne.min()))}else he(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ji(r).toUint8Array()}catch(l){if(l instanceof pI)return eo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dg(o,i,s)}catch(l){return eo(l instanceof ca?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&f_(a.target)){const l=new X(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ge.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jd(e,n,this.Qe,this.ke,r);return this.ke=cr(),this.qe=Bw(),this.Qe=new be(pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Uw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Uw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bw(){return new be(X.comparator)}function zw(){return new be(X.comparator)}const cj={asc:"ASCENDING",desc:"DESCENDING"},dj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hj={and:"AND",or:"OR"};class fj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function __(t,e){return t.useProto3Json||Rl(e)?e:{value:e}}function Jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pj(t,e){return Jc(t,e.toTimestamp())}function Wt(t){return he(!!t),ne.fromTimestamp(function(n){const r=ri(n);return new qe(r.seconds,r.nanos)}(t))}function hg(t,e){return m_(t,e).canonicalString()}function m_(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $I(t){const e=ge.fromString(t);return he(KI(e)),e}function Zc(t,e){return hg(t.databaseId,e.path)}function Ca(t,e){const n=$I(e);if(n.get(1)!==t.databaseId.projectId)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(BI(n))}function UI(t,e){return hg(t.databaseId,e)}function _j(t){const e=$I(t);return e.length===4?ge.emptyPath():BI(e)}function g_(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BI(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ww(t,e,n){return{name:Zc(t,e),fields:n.value.mapValue.fields}}function mj(t,e){return"found"in e?function(r,i){he(!!i.found),i.found.name,i.found.updateTime;const s=Ca(r,i.found.name),o=Wt(i.found.updateTime),a=i.found.createTime?Wt(i.found.createTime):ne.min(),l=new Tt({mapValue:{fields:i.found.fields}});return Ge.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){he(!!i.missing),he(!!i.readTime);const s=Ca(r,i.missing),o=Wt(i.readTime);return Ge.newNoDocument(s,o)}(t,e):te()}function gj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(he(d===void 0||typeof d=="string"),at.fromBase64String(d||"")):(he(d===void 0||d instanceof Buffer||d instanceof Uint8Array),at.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:MI(c.code);return new K(d,c.message||"")}(o);n=new VI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ca(t,r.document.name),s=Wt(r.document.updateTime),o=r.document.createTime?Wt(r.document.createTime):ne.min(),a=new Tt({mapValue:{fields:r.document.fields}}),l=Ge.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new sc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ca(t,r.document),s=r.readTime?Wt(r.readTime):ne.min(),o=Ge.newNoDocument(i,s),a=r.removedTargetIds||[];n=new sc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ca(t,r.document),s=r.removedTargetIds||[];n=new sc([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new oj(i,s),a=r.targetId;n=new FI(a,o)}}return n}function zI(t,e){let n;if(e instanceof bl)n={update:Ww(t,e.key,e.value)};else if(e instanceof Yd)n={delete:Zc(t,e.key)};else if(e instanceof di)n={update:Ww(t,e.key,e.data),updateMask:Ij(e.fieldMask)};else{if(!(e instanceof DI))return te();n={verify:Zc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof sl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function vj(t,e){return t&&t.length>0?(he(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Wt(i.updateTime):Wt(s);return o.isEqual(ne.min())&&(o=Wt(s)),new tj(o,i.transformResults||[])}(n,e))):[]}function yj(t,e){return{documents:[UI(t,e.path)]}}function wj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UI(t,i);const s=function(c){if(c.length!==0)return qI(vn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:hs(f.field),direction:Sj(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=__(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function Ej(t){let e=_j(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){he(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=WI(h);return f instanceof vn&&vI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(A){return new il(fs(A.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Rl(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,E=h.values||[];return new io(E,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,E=h.values||[];return new io(E,f)}(n.endAt)),U9(e,i,o,s,a,"F",l,c)}function Tj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fs(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fs(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fs(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fs(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(fs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(r=>WI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function Sj(t){return cj[t]}function Cj(t){return dj[t]}function xj(t){return hj[t]}function hs(t){return{fieldPath:t.canonicalString()}}function fs(t){return tt.fromServerFormat(t.fieldPath)}function qI(t){return t instanceof $e?function(n){if(n.op==="=="){if(kw(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NAN"}};if(bw(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kw(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NAN"}};if(bw(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(n.field),op:Cj(n.op),value:n.value}}}(t):t instanceof vn?function(n){const r=n.getFilters().map(i=>qI(i));return r.length===1?r[0]:{compositeFilter:{op:xj(n.op),filters:r}}}(t):te()}function Ij(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=at.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.ct=e}}function Rj(t){const e=Ej({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.un=new kj}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ni.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class kj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new so(0)}static kn(){return new so(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sa(r.mutation,i,Ut.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=Ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ua();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=cr();const o=Ta(),a=function(){return Ta()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof di)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Sa(d.mutation,c,d.mutation.getFieldMask(),qe.now())):o.set(c.key,Ut.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new Nj(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ta();let i=new be((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Ut.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=II();d.forEach(f=>{if(!s.has(f)){const E=NI(n.get(f),r.get(f));E!==null&&h.set(f,E),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ii());let a=-1,l=s;return o.next(c=>U.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,le())).next(d=>({batchId:a,changes:xI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ua();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(h,f){return new Qi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ge.newInvalidDocument(d)))});let a=ua();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Sa(d.mutation,c,Ut.empty(),qe.now()),Gd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wt(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Rj(i.bundledQuery),readTime:Wt(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this.overlays=new be(X.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ii();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ii(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new be((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ii(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ii(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sj(n,r));let s=this.Ir.get(n);s===void 0&&(s=le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Tr=new it(Ke.Er),this.dr=new it(Ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ke(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new X(new ge([])),r=new Ke(n,e),i=new Ke(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new X(new ge([])),r=new Ke(n,e),i=new Ke(n,e+1);let s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ke(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||pe(e.wr,n.wr)}static Ar(e,n){return pe(e.wr,n.wr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new it(Ke.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ij(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ke(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(pe);return n.forEach(i=>{const s=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new Ke(new X(s),0);let a=new it(pe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){he(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const s=new Ke(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ke(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.Mr=e,this.docs=function(){return new be(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ge.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cr();const o=n.path,a=new X(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||T9(E9(d),r)<=0||(i.has(d.key)||Gd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jj(this)}getSize(e){return U.resolve(this.size)}}class jj extends Pj{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.persistence=e,this.Nr=new So(n=>og(n),ag),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fg,this.targetCount=0,this.kr=so.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new so(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new rg(0),this.Kr=!1,this.Kr=!0,this.$r=new Mj,this.referenceDelegate=e(this),this.Ur=new $j(this),this.indexManager=new bj,this.remoteDocumentCache=function(i){return new Vj(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Aj(n),this.Gr=new Dj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Fj(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new Bj(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Bj extends C9{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Jr=new fg,this.Yr=null}static Zr(e){return new pg(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=X.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _g(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PM()?8:x9(vt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zj;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Xo()<=ue.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Xo()<=ue.DEBUG&&Q("QueryEngine","Query:",ds(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Xo()<=ue.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):U.resolve())}Yi(e,n){if(Dw(n))return U.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xc(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Xc(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Dw(n)||i.isEqual(ne.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(Xo()<=ue.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(n)),this.rs(e,o,n,w9(i,-1)).next(a=>a))})}ts(e,n){let r=new it(SI(e));return n.forEach((i,s)=>{Gd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Xo()<=ue.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ds(n)),this.Ji.getDocumentsMatchingQuery(e,n,ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new be(pe),this._s=new So(s=>og(s),ag),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Kj(t,e,n,r){return new qj(t,e,n,r)}async function HI(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=le();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Hj(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let E=U.resolve();return f.forEach(A=>{E=E.next(()=>d.getEntry(l,A)).next(R=>{const w=c.docVersions.get(A);he(w!==null),R.version.compareTo(w)<0&&(h.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),d.addEntry(R)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GI(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Gj(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let E=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?E=E.withResumeToken(at.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,r)),i=i.insert(h,E),function(R,w,m){return R.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,E,d)&&a.push(n.Ur.updateTargetData(s,E))});let l=cr(),c=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Qj(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ne.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function Qj(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Xj(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yj(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function v_(t,e,n){const r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Al(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function qw(t,e,n){const r=ie(t);let i=ne.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ie(l),f=h._s.get(d);return f!==void 0?U.resolve(h.os.get(f)):h.Ur.getTargetData(c,d)}(r,o,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:le())).next(a=>(Jj(r,z9(e),a),{documents:a,Ts:s})))}function Jj(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Kw{constructor(){this.activeTargetIds=Q9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zj{constructor(){this.so=new Kw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Kw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru=null;function Rf(){return Ru===null?Ru=function(){return 268435456+Math.round(2147483648*Math.random())}():Ru++,"0x"+Ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class r6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Rf(),l=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw eo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=t6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Rf();return new Promise((o,a)=>{const l=new oI;l.setWithCredentials(!0),l.listenOnce(aI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nc.NO_ERROR:const d=l.getResponseJson();Q(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case nc.TIMEOUT:Q(ft,`RPC '${e}' ${s} timed out`),a(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const h=l.getStatus();if(Q(ft,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const E=f==null?void 0:f.error;if(E&&E.status&&E.message){const A=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(m)>=0?m:$.UNKNOWN}(E.status);a(new K(A,E.message))}else a(new K($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K($.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{Q(ft,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Q(ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Rf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cI(),a=uI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Q(ft,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,E=!1;const A=new n6({Io:w=>{E?Q(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(Q(ft,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Q(ft,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},To:()=>h.close()}),R=(w,m,_)=>{w.listen(m,T=>{try{_(T)}catch(k){setTimeout(()=>{throw k},0)}})};return R(h,la.EventType.OPEN,()=>{E||(Q(ft,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),R(h,la.EventType.CLOSE,()=>{E||(E=!0,Q(ft,`RPC '${e}' stream ${i} transport closed`),A.So())}),R(h,la.EventType.ERROR,w=>{E||(E=!0,eo(ft,`RPC '${e}' stream ${i} transport errored:`,w),A.So(new K($.UNAVAILABLE,"The operation could not be completed")))}),R(h,la.EventType.MESSAGE,w=>{var m;if(!E){const _=w.data[0];he(!!_);const T=_,k=T.error||((m=T[0])===null||m===void 0?void 0:m.error);if(k){Q(ft,`RPC '${e}' stream ${i} received error:`,k);const L=k.status;let N=function(I){const p=Ve[I];if(p!==void 0)return MI(p)}(L),S=k.message;N===void 0&&(N=$.INTERNAL,S="Unknown error status: "+L+" with message "+k.message),E=!0,A.So(new K(N,S)),h.close()}else Q(ft,`RPC '${e}' stream ${i} received:`,_),A.bo(_)}}),R(a,lI.STAT_EVENT,w=>{w.stat===u_.PROXY?Q(ft,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===u_.NOPROXY&&Q(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return new fj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new mg(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new K($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i6 extends QI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gj(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Wt(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=g_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=f_(l)?{documents:yj(s,l)}:{query:wj(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=jI(s,o.resumeToken);const c=__(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Jc(s,o.snapshotVersion.toTimestamp());const c=__(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Tj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=g_(this.serializer),n.removeTarget=e,this.a_(n)}}class s6 extends QI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return he(!!e.streamToken),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vj(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=g_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zI(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,m_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,m_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class a6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ur(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Xi(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ie(l);c.L_.add(4),await Pl(c),c.q_.set("Unknown"),c.L_.delete(4),await eh(c)}(this))})}),this.q_=new a6(r,i)}}async function eh(t){if(Xi(t))for(const e of t.B_)await e(!0)}async function Pl(t){for(const e of t.B_)await e(!1)}function XI(t,e){const n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),wg(n)?yg(n):Co(n).r_()&&vg(n,e))}function gg(t,e){const n=ie(t),r=Co(n);n.N_.delete(e),r.r_()&&YI(n,e),n.N_.size===0&&(r.r_()?r.o_():Xi(n)&&n.q_.set("Unknown"))}function vg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(t).A_(e)}function YI(t,e){t.Q_.xe(e),Co(t).R_(e)}function yg(t){t.Q_=new uj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Co(t).start(),t.q_.v_()}function wg(t){return Xi(t)&&!Co(t).n_()&&t.N_.size>0}function Xi(t){return ie(t).L_.size===0}function JI(t){t.Q_=void 0}async function u6(t){t.q_.set("Online")}async function c6(t){t.N_.forEach((e,n)=>{vg(t,e)})}async function d6(t,e){JI(t),wg(t)?(t.q_.M_(e),yg(t)):t.q_.set("Unknown")}async function h6(t,e,n){if(t.q_.set("Online"),e instanceof VI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ed(t,r)}else if(e instanceof sc?t.Q_.Ke(e):e instanceof FI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{const r=await GI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(at.EMPTY_BYTE_STRING,d.snapshotVersion)),YI(s,l);const h=new Mr(d.target,l,c,d.sequenceNumber);vg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await ed(t,r)}}async function ed(t,e,n){if(!Al(e))throw e;t.L_.add(1),await Pl(t),t.q_.set("Offline"),n||(n=()=>GI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await eh(t)})}function ZI(t,e){return e().catch(n=>ed(t,n,e))}async function th(t){const e=ie(t),n=ii(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;f6(e);)try{const i=await Xj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,p6(e,i)}catch(i){await ed(e,i)}eA(e)&&tA(e)}function f6(t){return Xi(t)&&t.O_.length<10}function p6(t,e){t.O_.push(e);const n=ii(t);n.r_()&&n.V_&&n.m_(e.mutations)}function eA(t){return Xi(t)&&!ii(t).n_()&&t.O_.length>0}function tA(t){ii(t).start()}async function _6(t){ii(t).p_()}async function m6(t){const e=ii(t);for(const n of t.O_)e.m_(n.mutations)}async function g6(t,e,n){const r=t.O_.shift(),i=cg.from(r,e,n);await ZI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await th(t)}async function v6(t,e){e&&ii(t).V_&&await async function(r,i){if(function(o){return LI(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();ii(r).s_(),await ZI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await th(r)}}(t,e),eA(t)&&tA(t)}async function Gw(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Xi(n);n.L_.add(3),await Pl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await eh(n)}async function y6(t,e){const n=ie(t);e?(n.L_.delete(2),await eh(n)):e||(n.L_.add(2),await Pl(n),n.q_.set("Unknown"))}function Co(t){return t.K_||(t.K_=function(n,r,i){const s=ie(n);return s.w_(),new i6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:u6.bind(null,t),Ro:c6.bind(null,t),mo:d6.bind(null,t),d_:h6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),wg(t)?yg(t):t.q_.set("Unknown")):(await t.K_.stop(),JI(t))})),t.K_}function ii(t){return t.U_||(t.U_=function(n,r,i){const s=ie(n);return s.w_(),new s6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_6.bind(null,t),mo:v6.bind(null,t),f_:m6.bind(null,t),g_:g6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await th(t)):(await t.U_.stop(),t.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Eg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(t,e){if(ur("AsyncQueue",`${e}: ${t}`),Al(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=ua(),this.sortedSet=new be(this.comparator)}static emptySet(e){return new Us(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.W_=new be(X.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oo(e,n,Us.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class E6{constructor(){this.queries=Xw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=Xw(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new K($.ABORTED,"Firestore shutting down"))}}function Xw(){return new So(t=>TI(t),Hd)}async function Sg(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new w6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Tg(o,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&xg(n)}async function Cg(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function T6(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&xg(n)}function S6(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function xg(t){t.Y_.forEach(e=>{e.next()})}var y_,Yw;(Yw=y_||(y_={})).ea="default",Yw.Cache="cache";class Ig{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==y_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class C6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=SI(e),this.Ra=new Us(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Qw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),E=Gd(this.query,h)?h:null,A=!!f&&this.mutatedKeys.has(f.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let w=!1;f&&E?f.data.isEqual(E.data)?A!==R&&(r.track({type:3,doc:E}),w=!0):this.ga(f,E)||(r.track({type:2,doc:E}),w=!0,(l&&this.Aa(E,l)>0||c&&this.Aa(E,c)<0)&&(a=!0)):!f&&E?(r.track({type:0,doc:E}),w=!0):f&&!E&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(E?(o=o.add(E),s=R?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(E,A){const R=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return R(E)-R(A)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new oo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nA(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class x6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I6{constructor(e){this.key=e,this.va=!1}}class A6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new So(a=>TI(a),Hd),this.Ma=new Map,this.xa=new Set,this.Oa=new be(X.comparator),this.Na=new Map,this.La=new fg,this.Ba={},this.ka=new Map,this.qa=so.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function R6(t,e,n=!0){const r=uA(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await iA(r,e,n,!0),i}async function b6(t,e){const n=uA(t);await iA(n,e,!0,!1)}async function iA(t,e,n,r){const i=await Yj(t.localStore,Nn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await k6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&XI(t.remoteStore,i),a}async function k6(t,e,n,r,i){t.Ka=(h,f,E)=>async function(R,w,m,_){let T=w.view.ma(m);T.ns&&(T=await qw(R.localStore,w.query,!1).then(({documents:S})=>w.view.ma(S,T)));const k=_&&_.targetChanges.get(w.targetId),L=_&&_.targetMismatches.get(w.targetId)!=null,N=w.view.applyChanges(T,R.isPrimaryClient,k,L);return Zw(R,w.targetId,N.wa),N.snapshot}(t,h,f,E);const s=await qw(t.localStore,e,!0),o=new C6(e,s.Ts),a=o.ma(s.documents),l=kl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Zw(t,n,c.wa);const d=new x6(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function P6(t,e,n){const r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Hd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await v_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gg(r.remoteStore,i.targetId),w_(r,i.targetId)}).catch(Il)):(w_(r,i.targetId),await v_(r.localStore,i.targetId,!0))}async function N6(t,e){const n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gg(n.remoteStore,r.targetId))}async function O6(t,e,n){const r=$6(t);try{const i=await function(o,a){const l=ie(o),c=qe.now(),d=a.reduce((E,A)=>E.add(A.key),le());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=cr(),R=le();return l.cs.getEntries(E,d).next(w=>{A=w,A.forEach((m,_)=>{_.isValidDocument()||(R=R.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,A)).next(w=>{h=w;const m=[];for(const _ of a){const T=rj(_,h.get(_.key).overlayedDocument);T!=null&&m.push(new di(_.key,T,_I(T.value.mapValue),nt.exists(!0)))}return l.mutationQueue.addMutationBatch(E,c,m,a)}).next(w=>{f=w;const m=w.applyToLocalDocumentSet(h,R);return l.documentOverlayCache.saveOverlays(E,w.batchId,m)})}).then(()=>({batchId:f.batchId,changes:xI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new be(pe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Nl(r,i.changes),await th(r.remoteStore)}catch(i){const s=Tg(i,"Failed to persist write");n.reject(s)}}async function sA(t,e){const n=ie(t);try{const r=await Gj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(he(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?he(o.va):i.removedDocuments.size>0&&(he(o.va),o.va=!1))}),await Nl(n,r,e)}catch(r){await Il(r)}}function Jw(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&xg(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D6(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new be(X.comparator);o=o.insert(s,Ge.newNoDocument(s,ne.min()));const a=le().add(s),l=new Jd(ne.min(),new Map,new be(pe),o,a);await sA(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Ag(r)}else await v_(r.localStore,e,!1).then(()=>w_(r,e,n)).catch(Il)}async function L6(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await Hj(n.localStore,e);aA(n,r,null),oA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nl(n,i)}catch(i){await Il(i)}}async function M6(t,e,n){const r=ie(t);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(he(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);aA(r,e,n),oA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nl(r,i)}catch(i){await Il(i)}}function oA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function aA(t,e,n){const r=ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function w_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||lA(t,r)})}function lA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(gg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ag(t))}function Zw(t,e,n){for(const r of n)r instanceof nA?(t.La.addReference(r.key,e),F6(t,r)):r instanceof rA?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||lA(t,r.key)):te()}function F6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ag(t))}function Ag(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new X(ge.fromString(e)),r=t.qa.next();t.Na.set(r,new I6(n)),t.Oa=t.Oa.insert(n,r),XI(t.remoteStore,new Mr(Nn(Kd(n.path)),r,"TargetPurposeLimboResolution",rg.oe))}}async function Nl(t,e,n){const r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=_g.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,f=>U.forEach(f.$i,E=>d.persistence.referenceDelegate.addReference(h,f.targetId,E)).next(()=>U.forEach(f.Ui,E=>d.persistence.referenceDelegate.removeReference(h,f.targetId,E)))))}catch(h){if(!Al(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const E=d.os.get(f),A=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(A);d.os=d.os.insert(f,R)}}}(r.localStore,s))}async function V6(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await HI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new K($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nl(n,r.hs)}}function j6(t,e){const n=ie(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function uA(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D6.bind(null,e),e.Ca.d_=T6.bind(null,e.eventManager),e.Ca.$a=S6.bind(null,e.eventManager),e}function $6(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M6.bind(null,e),e}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Kj(this.persistence,new Wj,e.initialUser,this.serializer)}Ga(e){return new Uj(pg.Zr,this.serializer)}Wa(e){return new Zj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class E_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V6.bind(null,this.syncEngine),await y6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E6}()}createDatastore(e){const n=Zd(e.databaseInfo.databaseId),r=function(s){return new r6(s)}(e.databaseInfo);return function(s,o,a,l){return new o6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new l6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Jw(this.syncEngine,n,0),function(){return Hw.D()?new Hw:new e6}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new A6(i,s,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);Q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Pl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}E_.provider={build:()=>new E_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new K($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=ie(i),a={documents:s.map(h=>Zc(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,ge.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{const f=mj(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());he(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=X.fromPath(r);this.mutations.push(new DI(i,this.precondition(i)))}),await async function(r,i){const s=ie(r),o={writes:i.map(a=>zI(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,ge.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw te();n=ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new K($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ne.min())?nt.exists(!1):nt.updateTime(n):nt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ne.min()))throw new K($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nt.updateTime(n)}return nt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new mg(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new U6(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Rl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!LI(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=hI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kf(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W6(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Gw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Gw(e.remoteStore,i)),t._onlineComponents=e}async function W6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await kf(t,new td)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await kf(t,new td);return t._offlineComponents}async function bg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await eE(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await eE(t,new E_))),t._onlineComponents}function q6(t){return bg(t).then(e=>e.syncEngine)}function K6(t){return bg(t).then(e=>e.datastore)}async function nd(t){const e=await bg(t),n=e.eventManager;return n.onListen=R6.bind(null,e.syncEngine),n.onUnlisten=P6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N6.bind(null,e.syncEngine),n}function H6(t,e,n={}){const r=new Pn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Rg({next:f=>{d.Za(),o.enqueueAndForget(()=>Cg(s,h));const E=f.docs.has(a);!E&&f.fromCache?c.reject(new K($.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&f.fromCache&&l&&l.source==="server"?c.reject(new K($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Ig(Kd(a.path),d,{includeMetadataChanges:!0,_a:!0});return Sg(s,h)}(await nd(t),t.asyncQueue,e,n,r)),r.promise}function G6(t,e,n={}){const r=new Pn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Rg({next:f=>{d.Za(),o.enqueueAndForget(()=>Cg(s,h)),f.fromCache&&l.source==="server"?c.reject(new K($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Ig(a,d,{includeMetadataChanges:!0,_a:!0});return Sg(s,h)}(await nd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q6(t,e,n,r){if(e===!0&&r===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nE(t){if(!X.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rE(t){if(X.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function Ct(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nh(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function X6(t,e){if(e<=0)throw new K($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new d9;switch(r.type){case"firstParty":return new _9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tE.get(n);r&&(Q("ComponentProvider","Removing Datastore"),tE.delete(n),r.terminate())}(this),Promise.resolve()}}function Y6(t,e,n,r={}){var i;const s=(t=Ct(t,rh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=pt.MOCK_USER;else{a=CM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new K($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pt(c)}t._authCredentials=new h9(new dI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Un(this.firestore,e,this._query)}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}}class Yr extends Un{constructor(e,n,r){super(e,n,Kd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new X(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function hA(t,e,...n){if(t=Oe(t),dA("collection","path",e),t instanceof rh){const r=ge.fromString(e,...n);return rE(r),new Yr(t,null,r)}{if(!(t instanceof st||t instanceof Yr))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return rE(r),new Yr(t.firestore,null,r)}}function dr(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=hI.newId()),dA("doc","path",e),t instanceof rh){const r=ge.fromString(e,...n);return nE(r),new st(t,null,new X(r))}{if(!(t instanceof st||t instanceof Yr))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return nE(r),new st(t.firestore,t instanceof Yr?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new mg(this,"async_queue_retry"),this.Vu=()=>{const r=bf();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Pn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Al(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Eg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function oE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Fn extends rh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function J6(t,e){const n=typeof t=="object"?t:Tx(),r=typeof t=="string"?t:"(default)",i=Gm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TM("firestore");s&&Y6(i,...s)}return i}function Ol(t){if(t._terminated)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z6(t),t._firestoreClient}function Z6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new R9(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new z6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(at.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=/^__.*__$/;class t3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new bl(e,this.data,n,this.fieldTransforms)}}class fA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Ng{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pA(this.Cu)&&e3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class n3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zd(e)}Qu(e,n,r,i=!1){return new Ng({Cu:e,methodName:n,qu:r,path:tt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xo(t){const e=t._freezeSettings(),n=Zd(t._databaseId);return new n3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Og(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Lg("Data must be an object, but it was:",o,r);const a=vA(r,o);let l,c;if(s.merge)l=new Ut(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=T_(e,h,n);if(!o.contains(f))throw new K($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);wA(d,f)||d.push(f)}l=new Ut(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new t3(new Tt(a),l,c)}class sh extends ih{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sh}}class Dg extends ih{_toFieldTransform(e){return new Z9(e.path,new sl)}isEqual(e){return e instanceof Dg}}function _A(t,e,n,r){const i=t.Qu(1,e,n);Lg("Data must be an object, but it was:",i,r);const s=[],o=Tt.empty();Gi(r,(l,c)=>{const d=Mg(e,l,n);c=Oe(c);const h=i.Nu(d);if(c instanceof sh)s.push(d);else{const f=Ll(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Ut(s);return new fA(o,a,i.fieldTransforms)}function mA(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[T_(e,r,n)],l=[i];if(s.length%2!=0)throw new K($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(T_(e,s[f])),l.push(s[f+1]);const c=[],d=Tt.empty();for(let f=a.length-1;f>=0;--f)if(!wA(c,a[f])){const E=a[f];let A=l[f];A=Oe(A);const R=o.Nu(E);if(A instanceof sh)c.push(E);else{const w=Ll(A,R);w!=null&&(c.push(E),d.set(E,w))}}const h=new Ut(c);return new fA(d,h,o.fieldTransforms)}function gA(t,e,n,r=!1){return Ll(n,t.Qu(r?4:3,e))}function Ll(t,e){if(yA(t=Oe(t)))return Lg("Unsupported field value:",e,t),vA(t,e);if(t instanceof ih)return function(r,i){if(!pA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ll(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qe.fromDate(r);return{timestampValue:Jc(i.serializer,s)}}if(r instanceof qe){const s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jc(i.serializer,s)}}if(r instanceof kg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ui)return{bytesValue:jI(i.serializer,r._byteString)};if(r instanceof st){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return ug(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${nh(r)}`)}(t,e)}function vA(t,e){const n={};return fI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gi(t,(r,i)=>{const s=Ll(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof kg||t instanceof Ui||t instanceof st||t instanceof ih||t instanceof Pg)}function Lg(t,e,n){if(!yA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function T_(t,e,n){if((e=Oe(e))instanceof Dl)return e._internalPath;if(typeof e=="string")return Mg(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const r3=new RegExp("[~\\*/\\[\\]]");function Mg(t,e,n){if(e.search(r3)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dl(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K($.INVALID_ARGUMENT,a+t+l)}function wA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i3 extends ll{data(){return super.data()}}function oh(t,e){return typeof e=="string"?Mg(t,e):e instanceof Dl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fg{}class ah extends Fg{}function bu(t,e,...n){let r=[];e instanceof Fg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Vg).length,a=s.filter(l=>l instanceof lh).length;if(o>1||o>0&&a>0)throw new K($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lh extends ah{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lh(e,n,r)}_apply(e){const n=this._parse(e);return TA(e._query,n),new Un(e.firestore,e.converter,p_(e._query,n))}_parse(e){const n=xo(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){lE(h,d);const E=[];for(const A of h)E.push(aE(l,s,A));f={arrayValue:{values:E}}}else f=aE(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||lE(h,d),f=gA(a,o,h,d==="in"||d==="not-in");return $e.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function s3(t,e,n){const r=e,i=oh("where",t);return lh._create(i,r,n)}class Vg extends Fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)TA(o,l),o=p_(o,l)}(e._query,n),new Un(e.firestore,e.converter,p_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jg extends ah{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jg(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new il(s,o)}(e._query,this._field,this._direction);return new Un(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Qi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function o3(t,e="asc"){const n=e,r=oh("orderBy",t);return jg._create(r,n)}class $g extends ah{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $g(e,n,r)}_apply(e){return new Un(e.firestore,e.converter,Xc(e._query,this._limit,this._limitType))}}function a3(t){return X6("limit",t),$g._create("limit",t,"F")}class Ug extends ah{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ug(e,n,r)}_apply(e){const n=u3(e,this.type,this._docOrFields,this._inclusive);return new Un(e.firestore,e.converter,function(i,s){return new Qi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function l3(...t){return Ug._create("startAfter",t,!1)}function u3(t,e,n,r){if(n[0]=Oe(n[0]),n[0]instanceof ll)return function(s,o,a,l,c){if(!l)throw new K($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of $s(s))if(h.field.isKeyField())d.push(Qc(o,l.key));else{const f=l.data.field(h.field);if(qd(f))throw new K($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const E=h.field.canonicalString();throw new K($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}d.push(f)}return new io(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=xo(t.firestore);return function(o,a,l,c,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new K($.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let A=0;A<d.length;A++){const R=d[A];if(f[A].field.isKeyField()){if(typeof R!="string")throw new K($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof R}`);if(!lg(o)&&R.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${R}' contains a slash.`);const w=o.path.child(ge.fromString(R));if(!X.isDocumentKey(w))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const m=new X(w);E.push(Qc(a,m))}else{const w=gA(l,c,R);E.push(w)}}return new io(E,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function aE(t,e,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new K($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lg(e)&&n.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!X.isDocumentKey(r))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qc(t,new X(r))}if(n instanceof st)return Qc(t,n._key);throw new K($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(n)}.`)}function lE(t,e){if(!Array.isArray(t)||t.length===0)throw new K($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SA{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>De(o.doubleValue));return new Pg(s)}convertGeoPoint(e){return new kg(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ig(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const n=ri(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);he(KI(r));const i=new nl(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class c3 extends SA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zg extends ll{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class oc extends zg{data(e={}){return super.data(e)}}class CA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new As(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new oc(this._firestore,this._userDataWriter,r.key,r,new As(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new oc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new As(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new oc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new As(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:d3(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function d3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){t=Ct(t,st);const e=Ct(t.firestore,Fn);return H6(Ol(e),t._key).then(n=>IA(e,t,n))}class uh extends SA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function f3(t){t=Ct(t,Un);const e=Ct(t.firestore,Fn),n=Ol(e),r=new uh(e);return EA(t._query),G6(n,t._query).then(i=>new CA(e,r,t,i))}function p3(t,e,n){t=Ct(t,st);const r=Ct(t.firestore,Fn),i=Bg(t.converter,e,n);return ch(r,[Og(xo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nt.none())])}function xA(t,e,n,...r){t=Ct(t,st);const i=Ct(t.firestore,Fn),s=xo(i);let o;return o=typeof(e=Oe(e))=="string"||e instanceof Dl?mA(s,"updateDoc",t._key,e,n,r):_A(s,"updateDoc",t._key,e),ch(i,[o.toMutation(t._key,nt.exists(!0))])}function _3(t){return ch(Ct(t.firestore,Fn),[new Yd(t._key,nt.none())])}function m3(t,e){const n=Ct(t.firestore,Fn),r=dr(t),i=Bg(t.converter,e);return ch(n,[Og(xo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nt.exists(!1))]).then(()=>r)}function g3(t,...e){var n,r,i;t=Oe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||oE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(oE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof st)c=Ct(t.firestore,Fn),d=Kd(t._key.path),l={next:h=>{e[o]&&e[o](IA(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Ct(t,Un);c=Ct(h.firestore,Fn),d=h._query;const f=new uh(c);l={next:E=>{e[o]&&e[o](new CA(c,f,h,E))},error:e[o+1],complete:e[o+2]},EA(t._query)}return function(f,E,A,R){const w=new Rg(R),m=new Ig(E,w,A);return f.asyncQueue.enqueueAndForget(async()=>Sg(await nd(f),m)),()=>{w.Za(),f.asyncQueue.enqueueAndForget(async()=>Cg(await nd(f),m))}}(Ol(c),d,a,l)}function ch(t,e){return function(r,i){const s=new Pn;return r.asyncQueue.enqueueAndForget(async()=>O6(await q6(r),i,s)),s.promise}(Ol(t),e)}function IA(t,e,n){const r=n.docs.get(e._key),i=new uh(t);return new zg(t,i,e._key,r,new As(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={maxAttempts:5};function Yo(t,e){if((t=Oe(t)).firestore!==e)throw new K($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=xo(n)}get(n){const r=Yo(n,this._firestore),i=new c3(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return te();const o=s[0];if(o.isFoundDocument())return new ll(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new ll(this._firestore,i,r._key,null,r.converter);throw te()})}set(n,r,i){const s=Yo(n,this._firestore),o=Bg(s.converter,r,i),a=Og(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Yo(n,this._firestore);let a;return a=typeof(r=Oe(r))=="string"||r instanceof Dl?mA(this._dataReader,"Transaction.update",o._key,r,i,s):_A(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Yo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Yo(e,this._firestore),r=new uh(this._firestore);return super.get(e).then(i=>new zg(this._firestore,r,n._key,i._document,new As(!1,!1),n.converter))}}function w3(t,e,n){t=Ct(t,Fn);const r=Object.assign(Object.assign({},v3),n);return function(s){if(s.maxAttempts<1)throw new K($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Pn;return s.asyncQueue.enqueueAndForget(async()=>{const c=await K6(s);new B6(s.asyncQueue,c,a,o,l).au()}),l.promise}(Ol(t),i=>e(new y3(t,i)),r)}function er(){return new Dg("serverTimestamp")}(function(e,n=!0){(function(i){To=i})(yo),Js(new Mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Fn(new f9(r.getProvider("auth-internal")),new g9(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qr(Cw,"4.7.3",e),Qr(Cw,"4.7.3","esm2017")})();const Rs={apiKey:"AIzaSyDg8GoWAqFRRMvRdEC3U2gxadVkJx5QSy0",authDomain:"do-snippets-app.firebaseapp.com",projectId:"do-snippets-app",storageBucket:"do-snippets-app.firebasestorage.app",messagingSenderId:"826096392259",appId:"1:826096392259:web:6c30991b6dbe4cdcf51cf6",measurementId:"G-5V64B8531R"},E3=["apiKey","authDomain","projectId"],uE=E3.filter(t=>!Rs[t]);if(uE.length>0)throw new Error(`Missing required Firebase configuration: ${uE.join(", ")}`);const AA=Ex(Rs);console.log("Firebase Config:",{projectId:Rs.projectId,authDomain:Rs.authDomain,apiKey:Rs.apiKey?`${Rs.apiKey.substring(0,10)}...`:"MISSING",isDev:!1});console.log("Raw env vars:",{VITE_FIREBASE_API_KEY:"SET",VITE_FIREBASE_PROJECT_ID:"do-snippets-app"});const ao=a9(AA),hn=J6(AA),Vt={NETWORK:"network",AUTHENTICATION:"authentication",PERMISSION:"permission",VALIDATION:"validation",NOT_FOUND:"not_found",RATE_LIMIT:"rate_limit",UNKNOWN:"unknown"},T3=t=>{const e=typeof t=="string"?t:(t==null?void 0:t.message)||"",n=(t==null?void 0:t.code)||"";return e.includes("network")||e.includes("fetch")||e.includes("connection")||n==="network-request-failed"?Vt.NETWORK:e.includes("auth")||e.includes("authentication")||e.includes("unauthorized")||n.startsWith("auth/")?Vt.AUTHENTICATION:e.includes("permission")||e.includes("forbidden")||e.includes("access denied")||n==="permission-denied"?Vt.PERMISSION:e.includes("validation")||e.includes("invalid")||e.includes("required")||n==="invalid-argument"?Vt.VALIDATION:e.includes("not found")||e.includes("not-found")||n==="not-found"?Vt.NOT_FOUND:e.includes("rate limit")||e.includes("too many requests")||n==="too-many-requests"?Vt.RATE_LIMIT:Vt.UNKNOWN},Wg=(t,e="",n={})=>{T3(t),new Date().toISOString(),{error:typeof t=="string"||(t.message,t.code,t.stack),...n}},id=(t,e="",n=Vt.UNKNOWN,r={})=>{const i=new Error(t);return i.code=e,i.type=n,i.metadata=r,i},S3={url:window.location.origin,handleCodeInApp:!0},C3=async t=>{try{return await qF(ao,t,S3),localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){throw Wg(e,"sendMagicLink",{email:t}),id(RA(e.code),e.code,Vt.AUTHENTICATION,{originalError:e,email:t})}},x3=async(t,e)=>{try{if(!Gx(ao,e))throw id("Invalid sign-in link","invalid-sign-in-link",Vt.AUTHENTICATION,{email:t,emailLink:e});const n=await KF(ao,t,e);return localStorage.removeItem("emailForSignIn"),n.user}catch(n){throw Wg(n,"signInWithMagicLink",{email:t}),n.type===Vt.AUTHENTICATION?n:id(RA(n.code),n.code,Vt.AUTHENTICATION,{originalError:n,email:t})}},I3=()=>Gx(ao,window.location.href),A3=()=>localStorage.getItem("emailForSignIn"),R3=async()=>{try{await XF(ao),localStorage.removeItem("emailForSignIn")}catch(t){throw Wg(t,"signOut"),id("Failed to sign out. Please try again.",t.code||"sign-out-failed",Vt.AUTHENTICATION,{originalError:t})}},b3=t=>QF(ao,t),RA=t=>{switch(t){case"auth/invalid-email":return"Please enter a valid email address";case"auth/user-disabled":return"This account has been disabled";case"auth/too-many-requests":return"Too many requests. Please try again later";case"auth/network-request-failed":return"Network error. Please check your connection";case"auth/invalid-action-code":return"Invalid or expired sign-in link";case"auth/expired-action-code":return"Sign-in link has expired. Please request a new one";case"invalid-sign-in-link":return"Invalid sign-in link";default:return"An error occurred during authentication"}};class qg{constructor({id:e,email:n,displayName:r=null,createdAt:i=null,lastLoginAt:s=null}){this.id=e,this.email=n,this.displayName=r,this.createdAt=i,this.lastLoginAt=s}static fromFirestore(e,n){return new qg({id:e,email:n.email,displayName:n.displayName||null,createdAt:n.createdAt,lastLoginAt:n.lastLoginAt})}toFirestore(){return{email:this.email,displayName:this.displayName,createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}validate(){const e=[];return!this.email||typeof this.email!="string"?e.push("Email is required and must be a string"):this.isValidEmail(this.email)||e.push("Email must be a valid email address"),this.displayName!==null&&typeof this.displayName!="string"&&e.push("Display name must be a string or null"),{isValid:e.length===0,errors:e}}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}}class Io{constructor({id:e,title:n,htmlContent:r,authorId:i,authorEmail:s,createdAt:o=null,updatedAt:a=null,voteCount:l=0,tags:c=[]}){this.id=e,this.title=n,this.htmlContent=r,this.authorId=i,this.authorEmail=s,this.createdAt=o,this.updatedAt=a,this.voteCount=l,this.tags=c}static fromFirestore(e,n){return new Io({id:e,title:n.title,htmlContent:n.htmlContent,authorId:n.authorId,authorEmail:n.authorEmail,createdAt:n.createdAt,updatedAt:n.updatedAt,voteCount:n.voteCount||0,tags:n.tags||[]})}toFirestore(){return{title:this.title,htmlContent:this.htmlContent,authorId:this.authorId,authorEmail:this.authorEmail,createdAt:this.createdAt,updatedAt:this.updatedAt,voteCount:this.voteCount,tags:this.tags}}validate(){const e=[];return!this.title||typeof this.title!="string"?e.push("Title is required and must be a string"):this.title.trim().length===0?e.push("Title cannot be empty"):this.title.length>200&&e.push("Title must be 200 characters or less"),!this.htmlContent||typeof this.htmlContent!="string"?e.push("HTML content is required and must be a string"):this.htmlContent.trim().length===0&&e.push("HTML content cannot be empty"),(!this.authorId||typeof this.authorId!="string")&&e.push("Author ID is required and must be a string"),!this.authorEmail||typeof this.authorEmail!="string"?e.push("Author email is required and must be a string"):this.isValidEmail(this.authorEmail)||e.push("Author email must be a valid email address"),typeof this.voteCount!="number"&&e.push("Vote count must be a number"),Array.isArray(this.tags)?this.tags.some(n=>typeof n!="string")&&e.push("All tags must be strings"):e.push("Tags must be an array"),{isValid:e.length===0,errors:e}}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}getSanitizedHtml(){return this.htmlContent.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/\s*on\w+\s*=\s*"[^"]*"/gi,"").replace(/\s*on\w+\s*=\s*'[^']*'/gi,"").replace(/javascript:/gi,"").replace(/\s+/g," ").replace(/\s+>/g,">")}}class dh{constructor({id:e,snippetId:n,userId:r,createdAt:i=null}){this.id=e,this.snippetId=n,this.userId=r,this.createdAt=i}static fromFirestore(e,n){return new dh({id:e,snippetId:n.snippetId,userId:n.userId,createdAt:n.createdAt})}toFirestore(){return{snippetId:this.snippetId,userId:this.userId,createdAt:this.createdAt}}validate(){const e=[];return(!this.snippetId||typeof this.snippetId!="string")&&e.push("Snippet ID is required and must be a string"),(!this.userId||typeof this.userId!="string")&&e.push("User ID is required and must be a string"),{isValid:e.length===0,errors:e}}getCompositeId(){return`${this.userId}_${this.snippetId}`}}const bA=t=>t?t instanceof Date?t:t&&typeof t.toDate=="function"?t.toDate():null:null,kA=(t,e={})=>{const n=bA(t);if(!n)return"Unknown date";const i={...{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},...e};try{return n.toLocaleDateString("en-US",i)}catch{return n.toISOString().split("T")[0]}},k3=t=>{const e=bA(t);if(!e)return"Unknown time";const r=new Date().getTime()-e.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24);return i<60?"Just now":s<60?`${s} minute${s!==1?"s":""} ago`:o<24?`${o} hour${o!==1?"s":""} ago`:a<7?`${a} day${a!==1?"s":""} ago`:kA(e,{year:"numeric",month:"short",day:"numeric"})},PA=t=>{if(!t||typeof t!="string")return"Anonymous";const e=t.split("@")[0];return e.charAt(0).toUpperCase()+e.slice(1)},cE=(t,e=100,n="...")=>{if(!t||typeof t!="string")return"";if(t.length<=e)return t;const r=e-n.length;return t.substring(0,r)+n},Kg=t=>!t||typeof t!="string"?"":t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),Hg=t=>Array.isArray(t)?t.filter(e=>e&&typeof e=="string").map(e=>Kg(e.trim())).filter(e=>e.length>0):[],yn={USERS:"users",SNIPPETS:"snippets",VOTES:"votes"},P3=async(t,e)=>(await m3(hA(hn,t),{...e,createdAt:er(),updatedAt:er()})).id,NA=async(t,e)=>{const n=dr(hn,t,e),r=await h3(n);return r.exists()?{id:r.id,...r.data()}:null},N3=async(t,e,n)=>{const r=dr(hn,t,e);await xA(r,{...n,updatedAt:er()})},O3=async(t,e)=>{const n=dr(hn,t,e);await _3(n)},D3=async(t,e={})=>{const{whereConditions:n=[],orderByField:r=null,orderDirection:i="asc",limitCount:s=null,startAfterDoc:o=null}=e;let a=hA(hn,t);return n.forEach(c=>{a=bu(a,s3(c.field,c.operator,c.value))}),r&&(a=bu(a,o3(r,i))),o&&(a=bu(a,l3(o))),s&&(a=bu(a,a3(s))),(await f3(a)).docs.map(c=>({id:c.id,...c.data()}))},L3=async t=>{const e=t.validate();if(!e.isValid)throw new Error(`Invalid user data: ${e.errors.join(", ")}`);try{const n=dr(hn,yn.USERS,t.id),r=t.toFirestore();return await xA(n,{...r,lastLoginAt:er()}),t.id}catch(n){if(n.code==="not-found"){const r=t.toFirestore();r.createdAt=er(),r.lastLoginAt=er();const i=dr(hn,yn.USERS,t.id);return await p3(i,r),t.id}throw n}},M3=async t=>{const e=t.validate();if(!e.isValid)throw new Error(`Invalid snippet data: ${e.errors.join(", ")}`);const n=t.toFirestore();return n.tags&&(n.tags=Hg(n.tags)),await P3(yn.SNIPPETS,n)},F3=async t=>{const e=await NA(yn.SNIPPETS,t);return e?Io.fromFirestore(e.id,e):null},V3=async(t,e)=>{e.tags&&(e={...e,tags:Hg(e.tags)}),await N3(yn.SNIPPETS,t,e)},j3=async t=>{await O3(yn.SNIPPETS,t)},sd=async(t={})=>(await D3(yn.SNIPPETS,t)).map(n=>Io.fromFirestore(n.id,n)),$3=async(t=10)=>await sd({orderByField:"voteCount",orderDirection:"desc",limitCount:t}),U3=async()=>(await sd()).reduce((n,r)=>(r.tags&&Array.isArray(r.tags)&&r.tags.forEach(i=>{if(i){const s=Hg([i])[0];s&&!n.includes(s)&&n.push(s)}}),n),[]).sort(),B3=async t=>{const e=t.validate();if(!e.isValid)throw new Error(`Invalid vote data: ${e.errors.join(", ")}`);return await w3(hn,async n=>{const r=t.getCompositeId(),i=dr(hn,yn.VOTES,r),s=dr(hn,yn.SNIPPETS,t.snippetId),o=await n.get(i),a=await n.get(s);if(!a.exists())throw new Error("Snippet not found");const l=a.data().voteCount||0;return o.exists()?(n.delete(i),n.update(s,{voteCount:l-1,updatedAt:er()}),{action:"removed",voteId:r}):(n.set(i,{...t.toFirestore(),createdAt:er()}),n.update(s,{voteCount:l+1,updatedAt:er()}),{action:"added",voteId:r})})},z3=async(t,e)=>{const n=`${t}_${e}`,r=await NA(yn.VOTES,n);return r?dh.fromFirestore(r.id,r):null},W3=(t,e)=>{const n=dr(hn,yn.SNIPPETS,t);return g3(n,r=>{if(r.exists()){const i=Io.fromFirestore(r.id,r.data());e(i)}else e(null)})},OA=v.createContext(),mr=()=>{const t=v.useContext(OA);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},q3=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(!0),[s,o]=v.useState(null);v.useEffect(()=>{const h=b3(async E=>{if(E)try{const A=new qg({id:E.uid,email:E.email,displayName:E.displayName});await L3(A),n({...E,id:E.uid})}catch(A){console.error("Error creating/updating user document:",A),o("Failed to create user profile")}else n(null);i(!1)});return(async()=>{if(I3())try{let E=A3();E||(E=window.prompt("Please provide your email for confirmation")),E&&(await x3(E,window.location.href),window.history.replaceState({},document.title,window.location.pathname))}catch(E){console.error("Error completing sign-in:",E),o(E.message),i(!1)}})(),()=>h()},[]);const d={user:e,loading:r,error:s,login:async h=>{try{o(null),i(!0);const f=await C3(h);return i(!1),f}catch(f){throw o(f.message),i(!1),f}},logout:async()=>{try{o(null),await R3()}catch(h){throw o(h.message),h}},clearError:()=>{o(null)},isAuthenticated:!!e};return C.jsx(OA.Provider,{value:d,children:t})};function Ue(){return Ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ue.apply(null,arguments)}function xa(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function K3(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function DA(...t){return e=>t.forEach(n=>K3(n,e))}function Gg(...t){return v.useCallback(DA(...t),t)}function H3(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:E,...A}=h,R=(f==null?void 0:f[t][l])||a,w=v.useMemo(()=>A,Object.values(A));return v.createElement(R.Provider,{value:w},E)}function d(h,f){const E=(f==null?void 0:f[t][l])||a,A=v.useContext(E);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,G3(i,...e)]}function G3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const Q3=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},X3=cd.useId||(()=>{});let Y3=0;function Qg(t){const[e,n]=v.useState(X3());return Q3(()=>{n(r=>r??String(Y3++))},[t]),e?`radix-${e}`:""}function J3(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Z3(...t){return e=>t.forEach(n=>J3(n,e))}const LA=v.forwardRef((t,e)=>{const{children:n,...r}=t,i=v.Children.toArray(n),s=i.find(t5);if(s){const o=s.props.children,a=i.map(l=>l===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return v.createElement(S_,Ue({},r,{ref:e}),v.isValidElement(o)?v.cloneElement(o,void 0,a):null)}return v.createElement(S_,Ue({},r,{ref:e}),n)});LA.displayName="Slot";const S_=v.forwardRef((t,e)=>{const{children:n,...r}=t;return v.isValidElement(n)?v.cloneElement(n,{...n5(r,n.props),ref:e?Z3(e,n.ref):n.ref}):v.Children.count(n)>1?v.Children.only(null):null});S_.displayName="SlotClone";const e5=({children:t})=>v.createElement(v.Fragment,null,t);function t5(t){return v.isValidElement(t)&&t.type===e5}function n5(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const r5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],i5=r5.reduce((t,e)=>{const n=v.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?LA:e;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(a,Ue({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),s5=v.forwardRef((t,e)=>v.createElement(i5.label,Ue({},t,{ref:e,onMouseDown:n=>{var r;(r=t.onMouseDown)===null||r===void 0||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),MA=v.forwardRef((t,e)=>{const{children:n,...r}=t,i=v.Children.toArray(n),s=i.find(a5);if(s){const o=s.props.children,a=i.map(l=>l===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return v.createElement(C_,Ue({},r,{ref:e}),v.isValidElement(o)?v.cloneElement(o,void 0,a):null)}return v.createElement(C_,Ue({},r,{ref:e}),n)});MA.displayName="Slot";const C_=v.forwardRef((t,e)=>{const{children:n,...r}=t;return v.isValidElement(n)?v.cloneElement(n,{...l5(r,n.props),ref:e?DA(e,n.ref):n.ref}):v.Children.count(n)>1?v.Children.only(null):null});C_.displayName="SlotClone";const o5=({children:t})=>v.createElement(v.Fragment,null,t);function a5(t){return v.isValidElement(t)&&t.type===o5}function l5(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const u5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ml=u5.reduce((t,e)=>{const n=v.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?MA:e;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(a,Ue({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),[Xg,F$]=H3("Form"),FA="Form",[c5,Fl]=Xg(FA),[d5,VA]=Xg(FA),h5=v.forwardRef((t,e)=>{const{__scopeForm:n,onClearServerErrors:r=()=>{},...i}=t,s=v.useRef(null),o=Gg(e,s),[a,l]=v.useState({}),c=v.useCallback(p=>a[p],[a]),d=v.useCallback((p,b)=>l(P=>{var O;return{...P,[p]:{...(O=P[p])!==null&&O!==void 0?O:{},...b}}}),[]),h=v.useCallback(p=>{l(b=>({...b,[p]:void 0})),_(b=>({...b,[p]:{}}))},[]),[f,E]=v.useState({}),A=v.useCallback(p=>{var b;return(b=f[p])!==null&&b!==void 0?b:[]},[f]),R=v.useCallback((p,b)=>{E(P=>{var O;return{...P,[p]:[...(O=P[p])!==null&&O!==void 0?O:[],b]}})},[]),w=v.useCallback((p,b)=>{E(P=>{var O;return{...P,[p]:((O=P[p])!==null&&O!==void 0?O:[]).filter(B=>B.id!==b)}})},[]),[m,_]=v.useState({}),T=v.useCallback(p=>{var b;return(b=m[p])!==null&&b!==void 0?b:{}},[m]),k=v.useCallback((p,b)=>{_(P=>{var O;return{...P,[p]:{...(O=P[p])!==null&&O!==void 0?O:{},...b}}})},[]),[L,N]=v.useState({}),S=v.useCallback((p,b)=>{N(P=>{const O=new Set(P[p]).add(b);return{...P,[p]:O}})},[]),y=v.useCallback((p,b)=>{N(P=>{const O=new Set(P[p]);return O.delete(b),{...P,[p]:O}})},[]),I=v.useCallback(p=>{var b;return Array.from((b=L[p])!==null&&b!==void 0?b:[]).join(" ")||void 0},[L]);return v.createElement(c5,{scope:n,getFieldValidity:c,onFieldValidityChange:d,getFieldCustomMatcherEntries:A,onFieldCustomMatcherEntryAdd:R,onFieldCustomMatcherEntryRemove:w,getFieldCustomErrors:T,onFieldCustomErrorsChange:k,onFieldValiditionClear:h},v.createElement(d5,{scope:n,onFieldMessageIdAdd:S,onFieldMessageIdRemove:y,getFieldDescription:I},v.createElement(Ml.form,Ue({},i,{ref:o,onInvalid:xa(t.onInvalid,p=>{const b=$A(p.currentTarget);b===p.target&&b.focus(),p.preventDefault()}),onSubmit:xa(t.onSubmit,r,{checkForDefaultPrevented:!1}),onReset:xa(t.onReset,r)}))))}),jA="FormField",[f5,Yg]=Xg(jA),p5=v.forwardRef((t,e)=>{const{__scopeForm:n,name:r,serverInvalid:i=!1,...s}=t,a=Fl(jA,n).getFieldValidity(r),l=Qg();return v.createElement(f5,{scope:n,id:l,name:r,serverInvalid:i},v.createElement(Ml.div,Ue({"data-valid":Zg(a,i),"data-invalid":ev(a,i)},s,{ref:e})))}),dE="FormLabel",_5=v.forwardRef((t,e)=>{const{__scopeForm:n,...r}=t,i=Fl(dE,n),s=Yg(dE,n),o=r.htmlFor||s.id,a=i.getFieldValidity(s.name);return v.createElement(s5,Ue({"data-valid":Zg(a,s.serverInvalid),"data-invalid":ev(a,s.serverInvalid)},r,{ref:e,htmlFor:o}))}),Pf="FormControl",m5=v.forwardRef((t,e)=>{const{__scopeForm:n,...r}=t,i=Fl(Pf,n),s=Yg(Pf,n),o=VA(Pf,n),a=v.useRef(null),l=Gg(e,a),c=r.name||s.name,d=r.id||s.id,h=i.getFieldCustomMatcherEntries(c),{onFieldValidityChange:f,onFieldCustomErrorsChange:E,onFieldValiditionClear:A}=i,R=v.useCallback(async _=>{if(UA(_.validity)){const P=Nf(_.validity);f(c,P);return}const T=_.form?new FormData(_.form):new FormData,k=[_.value,T],L=[],N=[];h.forEach(P=>{x5(P,k)?N.push(P):I5(P)&&L.push(P)});const S=L.map(({id:P,match:O})=>[P,O(...k)]),y=Object.fromEntries(S),I=Object.values(y).some(Boolean),p=I;_.setCustomValidity(p?ul:"");const b=Nf(_.validity);if(f(c,b),E(c,y),!I&&N.length>0){const P=N.map(({id:M,match:j})=>j(...k).then(W=>[M,W])),O=await Promise.all(P),B=Object.fromEntries(O),H=Object.values(B).some(Boolean);_.setCustomValidity(H?ul:"");const Z=Nf(_.validity);f(c,Z),E(c,B)}},[h,c,E,f]);v.useEffect(()=>{const _=a.current;if(_){const T=()=>R(_);return _.addEventListener("change",T),()=>_.removeEventListener("change",T)}},[R]);const w=v.useCallback(()=>{const _=a.current;_&&(_.setCustomValidity(""),A(c))},[c,A]);v.useEffect(()=>{var _;const T=(_=a.current)===null||_===void 0?void 0:_.form;if(T)return T.addEventListener("reset",w),()=>T.removeEventListener("reset",w)},[w]),v.useEffect(()=>{const _=a.current,T=_==null?void 0:_.closest("form");if(T&&s.serverInvalid){const k=$A(T);k===_&&k.focus()}},[s.serverInvalid]);const m=i.getFieldValidity(c);return v.createElement(Ml.input,Ue({"data-valid":Zg(m,s.serverInvalid),"data-invalid":ev(m,s.serverInvalid),"aria-invalid":s.serverInvalid?!0:void 0,"aria-describedby":o.getFieldDescription(c),title:""},r,{ref:l,id:d,name:c,onInvalid:xa(t.onInvalid,_=>{const T=_.currentTarget;R(T)}),onChange:xa(t.onChange,_=>{w()})}))}),ul="This value is not valid",g5={badInput:ul,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},hh="FormMessage",v5=v.forwardRef((t,e)=>{const{match:n,name:r,...i}=t,s=Yg(hh,t.__scopeForm),o=r??s.name;return n===void 0?v.createElement(Jg,Ue({},i,{ref:e,name:o}),t.children||ul):typeof n=="function"?v.createElement(w5,Ue({match:n},i,{ref:e,name:o})):v.createElement(y5,Ue({match:n},i,{ref:e,name:o}))}),y5=v.forwardRef((t,e)=>{const{match:n,forceMatch:r=!1,name:i,children:s,...o}=t,l=Fl(hh,o.__scopeForm).getFieldValidity(i);return r||(l==null?void 0:l[n])?v.createElement(Jg,Ue({ref:e},o,{name:i}),s??g5[n]):null}),w5=v.forwardRef((t,e)=>{const{match:n,forceMatch:r=!1,name:i,id:s,children:o,...a}=t,l=Fl(hh,a.__scopeForm),c=v.useRef(null),d=Gg(e,c),h=Qg(),f=s??h,E=v.useMemo(()=>({id:f,match:n}),[f,n]),{onFieldCustomMatcherEntryAdd:A,onFieldCustomMatcherEntryRemove:R}=l;v.useEffect(()=>(A(i,E),()=>R(i,E.id)),[E,i,A,R]);const w=l.getFieldValidity(i),_=l.getFieldCustomErrors(i)[f];return r||w&&!UA(w)&&_?v.createElement(Jg,Ue({id:f,ref:d},a,{name:i}),o??ul):null}),Jg=v.forwardRef((t,e)=>{const{__scopeForm:n,id:r,name:i,...s}=t,o=VA(hh,n),a=Qg(),l=r??a,{onFieldMessageIdAdd:c,onFieldMessageIdRemove:d}=o;return v.useEffect(()=>(c(i,l),()=>d(i,l)),[i,l,c,d]),v.createElement(Ml.span,Ue({id:l},s,{ref:e}))}),E5=v.forwardRef((t,e)=>{const{__scopeForm:n,...r}=t;return v.createElement(Ml.button,Ue({type:"submit"},r,{ref:e}))});function Nf(t){const e={};for(const n in t)e[n]=t[n];return e}function T5(t){return t instanceof HTMLElement}function S5(t){return"validity"in t}function C5(t){return S5(t)&&(t.validity.valid===!1||t.getAttribute("aria-invalid")==="true")}function $A(t){const e=t.elements,[n]=Array.from(e).filter(T5).filter(C5);return n}function x5(t,e){return t.match.constructor.name==="AsyncFunction"||A5(t.match,e)}function I5(t){return t.match.constructor.name==="Function"}function A5(t,e){return t(...e)instanceof Promise}function UA(t){let e=!1;for(const n in t){const r=n;if(r!=="valid"&&r!=="customError"&&t[r]){e=!0;break}}return e}function Zg(t,e){if((t==null?void 0:t.valid)===!0&&!e)return!0}function ev(t,e){if((t==null?void 0:t.valid)===!1||e)return!0}const R5=h5,b5=p5,k5=_5,P5=m5,hE=v5,N5=E5,O5=({onSuccess:t})=>{const[e,n]=v.useState(""),[r,i]=v.useState(!1),[s,o]=v.useState(!1),{login:a,error:l,clearError:c}=mr(),d=async f=>{if(f.preventDefault(),!!e.trim()){i(!0),c();try{await a(e.trim()),o(!0),t&&t()}catch(E){console.error("Login error:",E)}finally{i(!1)}}},h=f=>{n(f.target.value),l&&c()};return s?C.jsx(Fc,{className:"login-card",style:{maxWidth:"600px",margin:"0 auto",padding:"24px"},children:C.jsxs(qr,{direction:"column",gap:"4",align:"center",children:[C.jsx(an,{size:"5",weight:"bold",align:"center",children:"Check Your Email"}),C.jsxs(an,{size:"3",align:"center",color:"gray",children:["We've sent a magic link to ",C.jsx("strong",{children:e}),". Click the link in your email to sign in."]}),C.jsx(Ga,{variant:"soft",onClick:()=>{o(!1),n("")},children:"Send Another Link"})]})}):C.jsx(Fc,{className:"login-card",style:{maxWidth:"600px",margin:"0 auto",padding:"24px"},children:C.jsx(R5,{onSubmit:d,children:C.jsxs(qr,{direction:"column",gap:"4",children:[C.jsx(an,{size:"5",weight:"bold",align:"center",children:"Sign In"}),C.jsx(an,{size:"3",align:"center",color:"gray",children:"Enter your email to receive a magic link"}),C.jsx(b5,{name:"email",children:C.jsxs(qr,{direction:"column",gap:"2",children:[C.jsx(k5,{children:C.jsx(an,{size:"2",weight:"medium",children:"Email"})}),C.jsx(P5,{asChild:!0,children:C.jsx(kO.Input,{type:"email",placeholder:"Enter your email",value:e,onChange:h,required:!0,disabled:r})}),C.jsx(hE,{match:"valueMissing",children:C.jsx(an,{size:"2",color:"red",children:"Please enter your email"})}),C.jsx(hE,{match:"typeMismatch",children:C.jsx(an,{size:"2",color:"red",children:"Please enter a valid email"})})]})}),l&&C.jsx(an,{size:"2",color:"red",align:"center",children:l}),C.jsx(N5,{asChild:!0,children:C.jsx(Jn,{size:"large",loading:r,loadingText:"Sending...",disabled:!e.trim(),variant:"primary",children:"Send Magic Link"})})]})})})},D5=({children:t,fallback:e="/login"})=>{const{user:n,loading:r}=mr(),i=ui();return r?C.jsx(qr,{direction:"column",align:"center",justify:"center",gap:"3",style:{minHeight:"200px"},children:C.jsx(an,{size:"3",color:"gray",children:"Loading..."})}):n?t:C.jsx(tM,{to:e,state:{from:i},replace:!0})},L5=()=>{const{user:t,logout:e}=mr(),[n,r]=v.useState(!1),i=fr(),s=async()=>{r(!0);try{await e(),i("/")}catch(a){console.error("Logout error:",a)}finally{r(!1)}};if(!t)return null;const o=a=>a.charAt(0).toUpperCase();return C.jsxs(qC,{children:[C.jsx(KC,{asChild:!0,children:C.jsx(Ga,{variant:"ghost",className:"user-profile-trigger",children:C.jsx(aL,{className:"user-profile-avatar",children:C.jsx(lL,{children:o(t.email)})})})}),C.jsx(HC,{children:C.jsxs(GC,{align:"end",sideOffset:8,className:"user-profile-dropdown",children:[C.jsxs("div",{className:"user-profile-info",children:[C.jsx("div",{className:"user-profile-label",children:"Signed in as"}),C.jsx("div",{className:"user-profile-email",children:t.email})]}),C.jsx("hr",{className:"user-profile-separator"}),C.jsx(UD,{asChild:!0,children:C.jsx("button",{className:"user-profile-logout",onClick:s,disabled:n,children:n?"Signing out...":"Sign out"})})]})})]})},BA=({text:t,className:e="",disabled:n=!1,size:r="medium",onCopySuccess:i,onCopyError:s})=>{const[o,a]=v.useState("idle"),l=async()=>{if(o==="copying"||n||!t)return a("copying");try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(t):await c(t),a("success"),i&&i(t),setTimeout(()=>a("idle"),2e3)}catch(f){console.error("Failed to copy text:",f),a("error"),s&&s(f),setTimeout(()=>a("idle"),3e3)}},c=f=>new Promise((E,A)=>{const R=document.createElement("textarea");R.value=f,R.style.top="0",R.style.left="0",R.style.position="fixed",R.style.opacity="0",document.body.appendChild(R),R.focus(),R.select();try{const w=document.execCommand("copy");document.body.removeChild(R),w?E():A(new Error("Copy command failed"))}catch(w){document.body.removeChild(R),A(w)}}),d=()=>{switch(o){case"copying":return"Copying...";case"success":return"Copied!";case"error":return"Failed";default:return"Copy"}},h=()=>{const f=`copy-button copy-button--${r}`,E=o!=="idle"?`copy-button--${o}`:"";return`${f} ${E} ${n?"copy-button--disabled":""} ${e}`.trim()};return C.jsxs("button",{className:h(),onClick:l,disabled:n||o==="copying"||!t,title:`Copy ${t?"to clipboard":"(no content)"}`,"aria-label":`Copy text to clipboard. Status: ${o}`,children:[C.jsx("span",{className:"copy-button__icon","aria-hidden":"true",children:C.jsx("svg",{width:"22",height:"22",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}),C.jsx("span",{className:"copy-button__text",children:d()})]})},zA=({snippetId:t,initialVoteCount:e=0,onVoteChange:n,className:r=""})=>{const{user:i,isAuthenticated:s}=mr(),[o,a]=v.useState(e),[l,c]=v.useState(!1),[d,h]=v.useState(!1),[f,E]=v.useState(null);v.useEffect(()=>{(async()=>{if(!s||!(i!=null&&i.id)){c(!1);return}try{const m=await z3(i.id,t);c(!!m)}catch(m){console.error("Error checking user vote:",m)}})()},[s,i==null?void 0:i.id,t]),v.useEffect(()=>{const w=W3(t,m=>{if(m){const _=m.voteCount||0;a(_),n&&n(_)}});return()=>w()},[t,n]);const A=async()=>{if(!s){E("Please log in to vote");return}if(!(i!=null&&i.id)){E("User information not available");return}h(!0),E(null);try{const w=new dh({id:`${i.id}_${t}`,snippetId:t,userId:i.id}),m=await B3(w);m.action==="added"?c(!0):m.action==="removed"&&c(!1),E(null)}catch(w){console.error("Error toggling vote:",w),E("Failed to update vote. Please try again.")}finally{h(!1)}},R=()=>{E(null)};return C.jsxs("div",{className:`vote-button ${r}`,children:[C.jsxs("button",{onClick:A,disabled:d||!s,className:`vote-btn ${l?"voted":""} ${d?"loading":""}`,title:s?l?"Remove vote":"Upvote this snippet":"Please log in to vote","aria-label":l?`Remove vote (current count: ${o})`:`Upvote snippet (current count: ${o})`,children:[C.jsx("svg",{className:"vote-icon",viewBox:"0 0 15 15",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"15",height:"15",children:C.jsx("path",{d:"M7.22303 0.665992C7.32551 0.419604 7.67454 0.419604 7.77702 0.665992L9.41343 4.60039C9.45663 4.70426 9.55432 4.77523 9.66645 4.78422L13.914 5.12475C14.18 5.14607 14.2878 5.47802 14.0852 5.65162L10.849 8.42374C10.7636 8.49692 10.7263 8.61176 10.7524 8.72118L11.7411 12.866C11.803 13.1256 11.5206 13.3308 11.2929 13.1917L7.6564 10.9705C7.5604 10.9119 7.43965 10.9119 7.34365 10.9705L3.70718 13.1917C3.47945 13.3308 3.19708 13.1256 3.25899 12.866L4.24769 8.72118C4.2738 8.61176 4.23648 8.49692 4.15105 8.42374L0.914889 5.65162C0.712228 5.47802 0.820086 5.14607 1.08608 5.12475L5.3336 4.78422C5.44573 4.77523 5.54342 4.70426 5.58662 4.60039L7.22303 0.665992Z",fill:"currentColor"})}),C.jsx("span",{className:"vote-count",children:o})]}),f&&C.jsxs("div",{className:"vote-error",role:"alert",children:[C.jsx("span",{className:"error-message",children:f}),C.jsx("button",{onClick:R,className:"error-dismiss","aria-label":"Dismiss error",children:"×"})]})]})},M5=()=>C.jsx("div",{className:"approved-button",children:C.jsxs("button",{disabled:!0,className:"approved-btn",title:"approved",children:[C.jsx("svg",{width:"18",height:"18",viewBox:"0 0 15 15",fill:"none",children:C.jsx("path",{d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),C.jsx("span",{className:"approved-text",children:"Approved"})]})}),F5=`
<script src="https://code.jquery.com/jquery-3.7.1.min.js"><\/script>
<link rel="preload" href="/preview/fontawesome-webfont.woff2" as="font" type="font/woff2" crossorigin />
<link rel="stylesheet" href="/preview/bootstrap.min.css" />
<link rel="stylesheet" href="/preview/main.css" />
<link rel="stylesheet" href="/preview/extend.css" />
<link rel="stylesheet" href="/preview/layout.css" />
<link rel="stylesheet" href="/preview/common.css" />
<link rel="stylesheet" href="/preview/menu.css" />
<link rel="stylesheet" href="/preview/header.css" />
<link rel="stylesheet" href="/preview/font-awesome.min.css" />
<link rel="stylesheet" href="/preview/fonts.css" />
<style>
body {  margin: 0; padding: 16px; font-family: system-ui, -apple-system, sans-serif; background: #f2eef5; } }
* { box-sizing: border-box; }
a {text-decoration: none; }
.btn-lg { padding: 12px 16px; }
:root {
    --cta-background-color: #888;
    --cta-font-color: #fff;
    --cta-hover-color: #999;
    --main-color: #555;
}
.btn-primary {
  background-color: var(--cta-background-color);
  border-color: var(--cta-background-color);
}
.btn-primary:hover {
  background-color:  var(--cta-hover-color);
  border-color:  var(--cta-hover-color);
}
</style>
`,V5=`
<script src="https://code.jquery.com/jquery-3.7.1.min.js"><\/script>
<script src="/preview/ua-parser.min.js"><\/script>
<script src="/preview/dealeron.js"><\/script>
<script src="/preview/dealeron.static.min.js"><\/script>
<script src="/preview/bootstrap.min.js"><\/script>
<script src="/preview/modernizr.min.js"><\/script>
<script src="/preview/jquery.validate.min.js"><\/script>
<script>
// Prevent link navigation while preserving other interactions
document.addEventListener('DOMContentLoaded', function() {
  // Disable all link navigation
  document.addEventListener('click', function(e) {
    if (e.target.tagName === 'A' || e.target.closest('a')) {
      e.preventDefault();
      return false;
    }
  }, true);
  
  // Also prevent form submissions that might navigate
  document.addEventListener('submit', function(e) {
    e.preventDefault();
    return false;
  }, true);
});
<\/script>
`,WA=({htmlContent:t,className:e="",height:n=300})=>{const r=v.useRef(null),[i,s]=v.useState(!0),[o,a]=v.useState(!1);v.useEffect(()=>{if(!(!r.current||!t)){s(!0),a(!1);try{const d=r.current,h=d.contentDocument||d.contentWindow.document,f=`<!DOCTYPE html>
        <html lang="en">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Snippet Preview</title>
          ${F5}
        </head>
        <body>
          ${t}
          ${V5}
        </body>
        </html>
      `;h.open(),h.write(f),h.close(),s(!1)}catch(d){console.error("Error rendering snippet preview:",d),a(!0),s(!1)}}},[t]);const l=()=>{s(!1)},c=()=>{a(!0),s(!1)};return t?C.jsxs("div",{className:`snippet-preview ${e}`,children:[C.jsxs("div",{className:"preview-header",children:[C.jsx("span",{className:"preview-label",children:"Live Preview"}),i&&C.jsx("span",{className:"preview-status loading",children:"Loading..."}),o&&C.jsx("span",{className:"preview-status error",children:"Error loading preview"})]}),C.jsx("div",{className:"preview-container",style:{height:n},children:C.jsx("iframe",{ref:r,className:"preview-iframe",title:"HTML Snippet Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-modals allow-pointer-lock",onLoad:l,onError:c})})]}):C.jsx("div",{className:`snippet-preview empty ${e}`,style:{height:n},children:C.jsx("div",{className:"preview-placeholder",children:C.jsx("p",{children:"No HTML content to preview"})})})},qA=({snippet:t,onClick:e,onCopy:n,className:r="",livePreview:i=!1,showVoteCount:s=!0})=>{if(!t)return null;const o=A=>{A.target.closest(".copy-button")||A.target.closest(".vote-button")||e&&e(t)},a=A=>{(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),o(A))},l=A=>{n&&n(A)},c=A=>{console.error("Copy failed:",A)},d=PA(t.authorEmail),h=k3(t.createdAt),f=cE(t.title,60),E=cE(t.htmlContent.replace(/<[^>]*>/g,""),120);return C.jsxs("div",{className:`snippet-card ${r}`,onClick:o,onKeyDown:a,tabIndex:0,role:"button","aria-label":`View snippet: ${t.title}`,children:[C.jsxs("div",{className:"snippet-card-header",children:[C.jsx("h3",{className:"snippet-card-title",title:t.title,children:f}),C.jsxs("div",{className:"snippet-card-actions",children:[C.jsx(M5,{snippetId:t.id,className:"snippet-card-approved"}),C.jsx(zA,{snippetId:t.id,initialVoteCount:t.voteCount||0,className:"snippet-card-vote-button"}),C.jsx(BA,{text:t.htmlContent,size:"small",onCopySuccess:l,onCopyError:c,className:"snippet-card-copy-button"})]})]}),C.jsx("div",{className:"snippet-card-content",children:i?C.jsx(WA,{htmlContent:t.htmlContent,height:120,className:"snippet-card-preview-component"}):C.jsx("p",{className:"snippet-card-preview",title:t.htmlContent,children:E})}),C.jsxs("div",{className:"snippet-card-footer",children:[C.jsxs("div",{className:"snippet-card-author",children:[C.jsx("span",{className:"author-label",children:"by"}),C.jsx("span",{className:"author-name",children:d})]}),t.tags&&t.tags.length>0&&C.jsx("div",{className:"snippet-card-tags",children:t.tags.join(" ")}),C.jsx("div",{className:"snippet-card-date",children:h})]})]})};var KA={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,o={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function _(T){return T instanceof l?new l(T.type,_(T.content),T.alias):Array.isArray(T)?T.map(_):T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(_){return Object.prototype.toString.call(_).slice(8,-1)},objId:function(_){return _.__id||Object.defineProperty(_,"__id",{value:++s}),_.__id},clone:function _(T,k){k=k||{};var L,N;switch(a.util.type(T)){case"Object":if(N=a.util.objId(T),k[N])return k[N];L={},k[N]=L;for(var S in T)T.hasOwnProperty(S)&&(L[S]=_(T[S],k));return L;case"Array":return N=a.util.objId(T),k[N]?k[N]:(L=[],k[N]=L,T.forEach(function(y,I){L[I]=_(y,k)}),L);default:return T}},getLanguage:function(_){for(;_;){var T=i.exec(_.className);if(T)return T[1].toLowerCase();_=_.parentElement}return"none"},setLanguage:function(_,T){_.className=_.className.replace(RegExp(i,"gi"),""),_.classList.add("language-"+T)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(L){var _=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(L.stack)||[])[1];if(_){var T=document.getElementsByTagName("script");for(var k in T)if(T[k].src==_)return T[k]}return null}},isActive:function(_,T,k){for(var L="no-"+T;_;){var N=_.classList;if(N.contains(T))return!0;if(N.contains(L))return!1;_=_.parentElement}return!!k}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(_,T){var k=a.util.clone(a.languages[_]);for(var L in T)k[L]=T[L];return k},insertBefore:function(_,T,k,L){L=L||a.languages;var N=L[_],S={};for(var y in N)if(N.hasOwnProperty(y)){if(y==T)for(var I in k)k.hasOwnProperty(I)&&(S[I]=k[I]);k.hasOwnProperty(y)||(S[y]=N[y])}var p=L[_];return L[_]=S,a.languages.DFS(a.languages,function(b,P){P===p&&b!=_&&(this[b]=S)}),S},DFS:function _(T,k,L,N){N=N||{};var S=a.util.objId;for(var y in T)if(T.hasOwnProperty(y)){k.call(T,y,T[y],L||y);var I=T[y],p=a.util.type(I);p==="Object"&&!N[S(I)]?(N[S(I)]=!0,_(I,k,null,N)):p==="Array"&&!N[S(I)]&&(N[S(I)]=!0,_(I,k,y,N))}}},plugins:{},highlightAll:function(_,T){a.highlightAllUnder(document,_,T)},highlightAllUnder:function(_,T,k){var L={callback:k,container:_,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",L),L.elements=Array.prototype.slice.apply(L.container.querySelectorAll(L.selector)),a.hooks.run("before-all-elements-highlight",L);for(var N=0,S;S=L.elements[N++];)a.highlightElement(S,T===!0,L.callback)},highlightElement:function(_,T,k){var L=a.util.getLanguage(_),N=a.languages[L];a.util.setLanguage(_,L);var S=_.parentElement;S&&S.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(S,L);var y=_.textContent,I={element:_,language:L,grammar:N,code:y};function p(P){I.highlightedCode=P,a.hooks.run("before-insert",I),I.element.innerHTML=I.highlightedCode,a.hooks.run("after-highlight",I),a.hooks.run("complete",I),k&&k.call(I.element)}if(a.hooks.run("before-sanity-check",I),S=I.element.parentElement,S&&S.nodeName.toLowerCase()==="pre"&&!S.hasAttribute("tabindex")&&S.setAttribute("tabindex","0"),!I.code){a.hooks.run("complete",I),k&&k.call(I.element);return}if(a.hooks.run("before-highlight",I),!I.grammar){p(a.util.encode(I.code));return}if(T&&r.Worker){var b=new Worker(a.filename);b.onmessage=function(P){p(P.data)},b.postMessage(JSON.stringify({language:I.language,code:I.code,immediateClose:!0}))}else p(a.highlight(I.code,I.grammar,I.language))},highlight:function(_,T,k){var L={code:_,grammar:T,language:k};if(a.hooks.run("before-tokenize",L),!L.grammar)throw new Error('The language "'+L.language+'" has no grammar.');return L.tokens=a.tokenize(L.code,L.grammar),a.hooks.run("after-tokenize",L),l.stringify(a.util.encode(L.tokens),L.language)},tokenize:function(_,T){var k=T.rest;if(k){for(var L in k)T[L]=k[L];delete T.rest}var N=new h;return f(N,N.head,_),d(_,N,T,N.head,0),A(N)},hooks:{all:{},add:function(_,T){var k=a.hooks.all;k[_]=k[_]||[],k[_].push(T)},run:function(_,T){var k=a.hooks.all[_];if(!(!k||!k.length))for(var L=0,N;N=k[L++];)N(T)}},Token:l};r.Prism=a;function l(_,T,k,L){this.type=_,this.content=T,this.alias=k,this.length=(L||"").length|0}l.stringify=function _(T,k){if(typeof T=="string")return T;if(Array.isArray(T)){var L="";return T.forEach(function(p){L+=_(p,k)}),L}var N={type:T.type,content:_(T.content,k),tag:"span",classes:["token",T.type],attributes:{},language:k},S=T.alias;S&&(Array.isArray(S)?Array.prototype.push.apply(N.classes,S):N.classes.push(S)),a.hooks.run("wrap",N);var y="";for(var I in N.attributes)y+=" "+I+'="'+(N.attributes[I]||"").replace(/"/g,"&quot;")+'"';return"<"+N.tag+' class="'+N.classes.join(" ")+'"'+y+">"+N.content+"</"+N.tag+">"};function c(_,T,k,L){_.lastIndex=T;var N=_.exec(k);if(N&&L&&N[1]){var S=N[1].length;N.index+=S,N[0]=N[0].slice(S)}return N}function d(_,T,k,L,N,S){for(var y in k)if(!(!k.hasOwnProperty(y)||!k[y])){var I=k[y];I=Array.isArray(I)?I:[I];for(var p=0;p<I.length;++p){if(S&&S.cause==y+","+p)return;var b=I[p],P=b.inside,O=!!b.lookbehind,B=!!b.greedy,Y=b.alias;if(B&&!b.pattern.global){var H=b.pattern.toString().match(/[imsuy]*$/)[0];b.pattern=RegExp(b.pattern.source,H+"g")}for(var Z=b.pattern||b,M=L.next,j=N;M!==T.tail&&!(S&&j>=S.reach);j+=M.value.length,M=M.next){var W=M.value;if(T.length>_.length)return;if(!(W instanceof l)){var re=1,ee;if(B){if(ee=c(Z,j,_,O),!ee||ee.index>=_.length)break;var ke=ee.index,_e=ee.index+ee[0].length,Se=j;for(Se+=M.value.length;ke>=Se;)M=M.next,Se+=M.value.length;if(Se-=M.value.length,j=Se,M.value instanceof l)continue;for(var Fe=M;Fe!==T.tail&&(Se<_e||typeof Fe.value=="string");Fe=Fe.next)re++,Se+=Fe.value.length;re--,W=_.slice(j,Se),ee.index-=j}else if(ee=c(Z,0,W,O),!ee)continue;var ke=ee.index,Ce=ee[0],nn=W.slice(0,ke),Xe=W.slice(ke+Ce.length),Rt=j+W.length;S&&Rt>S.reach&&(S.reach=Rt);var Gt=M.prev;nn&&(Gt=f(T,Gt,nn),j+=nn.length),E(T,Gt,re);var gr=new l(y,P?a.tokenize(Ce,P):Ce,Y,Ce);if(M=f(T,Gt,gr),Xe&&f(T,M,Xe),re>1){var Dt={cause:y+","+p,reach:Rt};d(_,T,k,M.prev,j,Dt),S&&Dt.reach>S.reach&&(S.reach=Dt.reach)}}}}}}function h(){var _={value:null,prev:null,next:null},T={value:null,prev:_,next:null};_.next=T,this.head=_,this.tail=T,this.length=0}function f(_,T,k){var L=T.next,N={value:k,prev:T,next:L};return T.next=N,L.prev=N,_.length++,N}function E(_,T,k){for(var L=T.next,N=0;N<k&&L!==_.tail;N++)L=L.next;T.next=L,L.prev=T,_.length-=N}function A(_){for(var T=[],k=_.head.next;k!==_.tail;)T.push(k.value),k=k.next;return T}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(_){var T=JSON.parse(_.data),k=T.language,L=T.code,N=T.immediateClose;r.postMessage(a.highlight(L,a.languages[k],k)),N&&r.close()},!1)),a;var R=a.util.currentScript();R&&(a.filename=R.src,R.hasAttribute("data-manual")&&(a.manual=!0));function w(){a.manual||a.highlightAll()}if(!a.manual){var m=document.readyState;m==="loading"||m==="interactive"&&R&&R.defer?document.addEventListener("DOMContentLoaded",w):window.requestAnimationFrame?window.requestAnimationFrame(w):window.setTimeout(w,16)}return a}(e);t.exports&&(t.exports=n),typeof ny<"u"&&(ny.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(i,s){var o={};o["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[s]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};a["language-"+s]={pattern:/[\s\S]+/,inside:n.languages[s]};var l={};l[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:a},n.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,i){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:n.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(R,w){return"✖ Error "+R+" while fetching file: "+w},s="✖ Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",c="loaded",d="failed",h="pre[data-src]:not(["+a+'="'+c+'"]):not(['+a+'="'+l+'"])';function f(R,w,m){var _=new XMLHttpRequest;_.open("GET",R,!0),_.onreadystatechange=function(){_.readyState==4&&(_.status<400&&_.responseText?w(_.responseText):_.status>=400?m(i(_.status,_.statusText)):m(s))},_.send(null)}function E(R){var w=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(R||"");if(w){var m=Number(w[1]),_=w[2],T=w[3];return _?T?[m,Number(T)]:[m,void 0]:[m,m]}}n.hooks.add("before-highlightall",function(R){R.selector+=", "+h}),n.hooks.add("before-sanity-check",function(R){var w=R.element;if(w.matches(h)){R.code="",w.setAttribute(a,l);var m=w.appendChild(document.createElement("CODE"));m.textContent=r;var _=w.getAttribute("data-src"),T=R.language;if(T==="none"){var k=(/\.(\w+)$/.exec(_)||[,"none"])[1];T=o[k]||k}n.util.setLanguage(m,T),n.util.setLanguage(w,T);var L=n.plugins.autoloader;L&&L.loadLanguages(T),f(_,function(N){w.setAttribute(a,c);var S=E(w.getAttribute("data-range"));if(S){var y=N.split(/\r\n?|\n/g),I=S[0],p=S[1]==null?y.length:S[1];I<0&&(I+=y.length),I=Math.max(0,Math.min(I-1,y.length)),p<0&&(p+=y.length),p=Math.max(0,Math.min(p,y.length)),N=y.slice(I,p).join(`
`),w.hasAttribute("data-start")||w.setAttribute("data-start",String(I+1))}m.textContent=N,n.highlightElement(m)},function(N){w.setAttribute(a,d),m.textContent=N})}}),n.plugins.fileHighlight={highlight:function(w){for(var m=(w||document).querySelectorAll(h),_=0,T;T=m[_++];)n.highlightElement(T)}};var A=!1;n.fileHighlight=function(){A||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),A=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(KA);var j5=KA.exports;const $5=ld(j5);var HA={exports:{}},Jo={},ku={exports:{}},Of={},Df={},fE;function tv(){if(fE)return Df;fE=1;function t(r){this.__parent=r,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}t.prototype.clone_empty=function(){var r=new t(this.__parent);return r.set_indent(this.__indent_count,this.__alignment_count),r},t.prototype.item=function(r){return r<0?this.__items[this.__items.length+r]:this.__items[r]},t.prototype.has_match=function(r){for(var i=this.__items.length-1;i>=0;i--)if(this.__items[i].match(r))return!0;return!1},t.prototype.set_indent=function(r,i){this.is_empty()&&(this.__indent_count=r||0,this.__alignment_count=i||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var r=this.__parent.current_line;return r.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),r.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),r.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,r.__items[0]===" "&&(r.__items.splice(0,1),r.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return this.__items.length===0},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(r){this.__items.push(r);var i=r.lastIndexOf(`
`);i!==-1?this.__character_count=r.length-i:this.__character_count+=r.length},t.prototype.pop=function(){var r=null;return this.is_empty()||(r=this.__items.pop(),this.__character_count-=r.length),r},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var r="";return this.is_empty()?this.__parent.indent_empty_lines&&(r=this.__parent.get_indent_string(this.__indent_count)):(r=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),r+=this.__items.join("")),r};function e(r,i){this.__cache=[""],this.__indent_size=r.indent_size,this.__indent_string=r.indent_char,r.indent_with_tabs||(this.__indent_string=new Array(r.indent_size+1).join(r.indent_char)),i=i||"",r.indent_level>0&&(i=new Array(r.indent_level+1).join(this.__indent_string)),this.__base_string=i,this.__base_string_length=i.length}e.prototype.get_indent_size=function(r,i){var s=this.__base_string_length;return i=i||0,r<0&&(s=0),s+=r*this.__indent_size,s+=i,s},e.prototype.get_indent_string=function(r,i){var s=this.__base_string;return i=i||0,r<0&&(r=0,s=""),i+=r*this.__indent_size,this.__ensure_cache(i),s+=this.__cache[i],s},e.prototype.__ensure_cache=function(r){for(;r>=this.__cache.length;)this.__add_column()},e.prototype.__add_column=function(){var r=this.__cache.length,i=0,s="";this.__indent_size&&r>=this.__indent_size&&(i=Math.floor(r/this.__indent_size),r-=i*this.__indent_size,s=new Array(i+1).join(this.__indent_string)),r&&(s+=new Array(r+1).join(" ")),this.__cache.push(s)};function n(r,i){this.__indent_cache=new e(r,i),this.raw=!1,this._end_with_newline=r.end_with_newline,this.indent_size=r.indent_size,this.wrap_line_length=r.wrap_line_length,this.indent_empty_lines=r.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return n.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},n.prototype.get_line_number=function(){return this.__lines.length},n.prototype.get_indent_string=function(r,i){return this.__indent_cache.get_indent_string(r,i)},n.prototype.get_indent_size=function(r,i){return this.__indent_cache.get_indent_size(r,i)},n.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},n.prototype.add_new_line=function(r){return this.is_empty()||!r&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},n.prototype.get_code=function(r){this.trim(!0);var i=this.current_line.pop();i&&(i[i.length-1]===`
`&&(i=i.replace(/\n+$/g,"")),this.current_line.push(i)),this._end_with_newline&&this.__add_outputline();var s=this.__lines.join(`
`);return r!==`
`&&(s=s.replace(/[\n]/g,r)),s},n.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},n.prototype.set_indent=function(r,i){return r=r||0,i=i||0,this.next_line.set_indent(r,i),this.__lines.length>1?(this.current_line.set_indent(r,i),!0):(this.current_line.set_indent(),!1)},n.prototype.add_raw_token=function(r){for(var i=0;i<r.newlines;i++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(r.whitespace_before),this.current_line.push(r.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},n.prototype.add_token=function(r){this.__add_space_before_token(),this.current_line.push(r),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},n.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},n.prototype.remove_indent=function(r){for(var i=this.__lines.length;r<i;)this.__lines[r]._remove_indent(),r++;this.current_line._remove_wrap_indent()},n.prototype.trim=function(r){for(r=r===void 0?!1:r,this.current_line.trim();r&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},n.prototype.just_added_newline=function(){return this.current_line.is_empty()},n.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},n.prototype.ensure_empty_line_above=function(r,i){for(var s=this.__lines.length-2;s>=0;){var o=this.__lines[s];if(o.is_empty())break;if(o.item(0).indexOf(r)!==0&&o.item(-1)!==i){this.__lines.splice(s+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}s--}},Df.Output=n,Df}var Lf={},pE;function GA(){if(pE)return Lf;pE=1;function t(e,n,r,i){this.type=e,this.text=n,this.comments_before=null,this.newlines=r||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return Lf.Token=t,Lf}var Mf={},_E;function QA(){return _E||(_E=1,function(t){var e="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",s="\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}",o="(?:"+s+"|["+e+r+"])",a="(?:"+s+"|["+n+r+i+"])*";t.identifier=new RegExp(o+a,"g"),t.identifierStart=new RegExp(o),t.identifierMatch=new RegExp("(?:"+s+"|["+n+r+i+"])+"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp(`\r
|`+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")}(Mf)),Mf}var Ff={},Zo={},mE;function nv(){if(mE)return Zo;mE=1;function t(r,i){this.raw_options=e(r,i),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}t.prototype._get_array=function(r,i){var s=this.raw_options[r],o=i||[];return typeof s=="object"?s!==null&&typeof s.concat=="function"&&(o=s.concat()):typeof s=="string"&&(o=s.split(/[^a-zA-Z0-9_\/\-]+/)),o},t.prototype._get_boolean=function(r,i){var s=this.raw_options[r],o=s===void 0?!!i:!!s;return o},t.prototype._get_characters=function(r,i){var s=this.raw_options[r],o=i||"";return typeof s=="string"&&(o=s.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),o},t.prototype._get_number=function(r,i){var s=this.raw_options[r];i=parseInt(i,10),isNaN(i)&&(i=0);var o=parseInt(s,10);return isNaN(o)&&(o=i),o},t.prototype._get_selection=function(r,i,s){var o=this._get_selection_list(r,i,s);if(o.length!==1)throw new Error("Invalid Option Value: The option '"+r+`' can only be one of the following values:
`+i+`
You passed in: '`+this.raw_options[r]+"'");return o[0]},t.prototype._get_selection_list=function(r,i,s){if(!i||i.length===0)throw new Error("Selection list cannot be empty.");if(s=s||[i[0]],!this._is_valid_selection(s,i))throw new Error("Invalid Default Value!");var o=this._get_array(r,s);if(!this._is_valid_selection(o,i))throw new Error("Invalid Option Value: The option '"+r+`' can contain only the following values:
`+i+`
You passed in: '`+this.raw_options[r]+"'");return o},t.prototype._is_valid_selection=function(r,i){return r.length&&i.length&&!r.some(function(s){return i.indexOf(s)===-1})};function e(r,i){var s={};r=n(r);var o;for(o in r)o!==i&&(s[o]=r[o]);if(i&&r[i])for(o in r[i])s[o]=r[i][o];return s}function n(r){var i={},s;for(s in r){var o=s.replace(/-/g,"_");i[o]=r[s]}return i}return Zo.Options=t,Zo.normalizeOpts=n,Zo.mergeOpts=e,Zo}var gE;function XA(){if(gE)return Ff;gE=1;var t=nv().Options,e=["before-newline","after-newline","preserve-newline"];function n(r){t.call(this,r,"js");var i=this.raw_options.brace_style||null;i==="expand-strict"?this.raw_options.brace_style="expand":i==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<s.length;o++)s[o]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=s[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",e),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return n.prototype=new t,Ff.Options=n,Ff}var us={},Vf={},vE;function rv(){if(vE)return Vf;vE=1;var t=RegExp.prototype.hasOwnProperty("sticky");function e(n){this.__input=n||"",this.__input_length=this.__input.length,this.__position=0}return e.prototype.restart=function(){this.__position=0},e.prototype.back=function(){this.__position>0&&(this.__position-=1)},e.prototype.hasNext=function(){return this.__position<this.__input_length},e.prototype.next=function(){var n=null;return this.hasNext()&&(n=this.__input.charAt(this.__position),this.__position+=1),n},e.prototype.peek=function(n){var r=null;return n=n||0,n+=this.__position,n>=0&&n<this.__input_length&&(r=this.__input.charAt(n)),r},e.prototype.__match=function(n,r){n.lastIndex=r;var i=n.exec(this.__input);return i&&!(t&&n.sticky)&&i.index!==r&&(i=null),i},e.prototype.test=function(n,r){return r=r||0,r+=this.__position,r>=0&&r<this.__input_length?!!this.__match(n,r):!1},e.prototype.testChar=function(n,r){var i=this.peek(r);return n.lastIndex=0,i!==null&&n.test(i)},e.prototype.match=function(n){var r=this.__match(n,this.__position);return r?this.__position+=r[0].length:r=null,r},e.prototype.read=function(n,r,i){var s="",o;return n&&(o=this.match(n),o&&(s+=o[0])),r&&(o||!n)&&(s+=this.readUntil(r,i)),s},e.prototype.readUntil=function(n,r){var i="",s=this.__position;n.lastIndex=this.__position;var o=n.exec(this.__input);return o?(s=o.index,r&&(s+=o[0].length)):s=this.__input_length,i=this.__input.substring(this.__position,s),this.__position=s,i},e.prototype.readUntilAfter=function(n){return this.readUntil(n,!0)},e.prototype.get_regexp=function(n,r){var i=null,s="g";return r&&t&&(s="y"),typeof n=="string"&&n!==""?i=new RegExp(n,s):n&&(i=new RegExp(n.source,s)),i},e.prototype.get_literal_regexp=function(n){return RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},e.prototype.peekUntilAfter=function(n){var r=this.__position,i=this.readUntilAfter(n);return this.__position=r,i},e.prototype.lookBack=function(n){var r=this.__position-1;return r>=n.length&&this.__input.substring(r-n.length,r).toLowerCase()===n},Vf.InputScanner=e,Vf}var Pu={},jf={},yE;function U5(){if(yE)return jf;yE=1;function t(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}return t.prototype.restart=function(){this.__position=0},t.prototype.isEmpty=function(){return this.__tokens_length===0},t.prototype.hasNext=function(){return this.__position<this.__tokens_length},t.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},t.prototype.peek=function(e){var n=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(n=this.__tokens[e]),n},t.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},jf.TokenStream=t,jf}var $f={},Uf={},wE;function fh(){if(wE)return Uf;wE=1;function t(e,n){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,n&&(this._starting_pattern=this._input.get_regexp(n._starting_pattern,!0),this._match_pattern=this._input.get_regexp(n._match_pattern,!0),this._until_pattern=this._input.get_regexp(n._until_pattern),this._until_after=n._until_after)}return t.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},t.prototype.read_match=function(){return this._input.match(this._match_pattern)},t.prototype.until_after=function(e){var n=this._create();return n._until_after=!0,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.until=function(e){var n=this._create();return n._until_after=!1,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.starting_with=function(e){var n=this._create();return n._starting_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype.matching=function(e){var n=this._create();return n._match_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype._create=function(){return new t(this._input,this)},t.prototype._update=function(){},Uf.Pattern=t,Uf}var EE;function B5(){if(EE)return $f;EE=1;var t=fh().Pattern;function e(n,r){t.call(this,n,r),r?this._line_regexp=this._input.get_regexp(r._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return e.prototype=new t,e.prototype.__set_whitespace_patterns=function(n,r){n+="\\t ",r+="\\n\\r",this._match_pattern=this._input.get_regexp("["+n+r+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+r+"]")},e.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var n=this._input.read(this._match_pattern);if(n===" ")this.whitespace_before_token=" ";else if(n){var r=this.__split(this._newline_regexp,n);this.newline_count=r.length-1,this.whitespace_before_token=r[this.newline_count]}return n},e.prototype.matching=function(n,r){var i=this._create();return i.__set_whitespace_patterns(n,r),i._update(),i},e.prototype._create=function(){return new e(this._input,this)},e.prototype.__split=function(n,r){n.lastIndex=0;for(var i=0,s=[],o=n.exec(r);o;)s.push(r.substring(i,o.index)),i=o.index+o[0].length,o=n.exec(r);return i<r.length?s.push(r.substring(i,r.length)):s.push(""),s},$f.WhitespacePattern=e,$f}var TE;function od(){if(TE)return Pu;TE=1;var t=rv().InputScanner,e=GA().Token,n=U5().TokenStream,r=B5().WhitespacePattern,i={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},s=function(o,a){this._input=new t(o),this._options=a||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new r(this._input)};return s.prototype.tokenize=function(){this._input.restart(),this.__tokens=new n,this._reset();for(var o,a=new e(i.START,""),l=null,c=[],d=new n;a.type!==i.EOF;){for(o=this._get_next_token(a,l);this._is_comment(o);)d.add(o),o=this._get_next_token(a,l);d.isEmpty()||(o.comments_before=d,d=new n),o.parent=l,this._is_opening(o)?(c.push(l),l=o):l&&this._is_closing(o,l)&&(o.opened=l,l.closed=o,l=c.pop(),o.parent=l),o.previous=a,a.next=o,this.__tokens.add(o),a=o}return this.__tokens},s.prototype._is_first_token=function(){return this.__tokens.isEmpty()},s.prototype._reset=function(){},s.prototype._get_next_token=function(o,a){this._readWhitespace();var l=this._input.read(/.+/g);return l?this._create_token(i.RAW,l):this._create_token(i.EOF,"")},s.prototype._is_comment=function(o){return!1},s.prototype._is_opening=function(o){return!1},s.prototype._is_closing=function(o,a){return!1},s.prototype._create_token=function(o,a){var l=new e(o,a,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return l},s.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},Pu.Tokenizer=s,Pu.TOKEN=i,Pu}var Bf={},SE;function iv(){if(SE)return Bf;SE=1;function t(e,n){e=typeof e=="string"?e:e.source,n=typeof n=="string"?n:n.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+n,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+n,"g")}return t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var n={};this.__directive_pattern.lastIndex=0;for(var r=this.__directive_pattern.exec(e);r;)n[r[1]]=r[2],r=this.__directive_pattern.exec(e);return n},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},Bf.Directives=t,Bf}var zf={},CE;function YA(){if(CE)return zf;CE=1;var t=fh().Pattern,e={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function n(r,i){t.call(this,r,i),this.__template_pattern=null,this._disabled=Object.assign({},e),this._excluded=Object.assign({},e),i&&(this.__template_pattern=this._input.get_regexp(i.__template_pattern),this._excluded=Object.assign(this._excluded,i._excluded),this._disabled=Object.assign(this._disabled,i._disabled));var s=new t(r);this.__patterns={handlebars_comment:s.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:s.starting_with(/{{{/).until_after(/}}}/),handlebars:s.starting_with(/{{/).until_after(/}}/),php:s.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:s.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:s.starting_with(/{%/).until_after(/%}/),django_value:s.starting_with(/{{/).until_after(/}}/),django_comment:s.starting_with(/{#/).until_after(/#}/),smarty:s.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:s.starting_with(/{\*/).until_after(/\*}/),smarty_literal:s.starting_with(/{literal}/).until_after(/{\/literal}/)}}return n.prototype=new t,n.prototype._create=function(){return new n(this._input,this)},n.prototype._update=function(){this.__set_templated_pattern()},n.prototype.disable=function(r){var i=this._create();return i._disabled[r]=!0,i._update(),i},n.prototype.read_options=function(r){var i=this._create();for(var s in e)i._disabled[s]=r.templating.indexOf(s)===-1;return i._update(),i},n.prototype.exclude=function(r){var i=this._create();return i._excluded[r]=!0,i._update(),i},n.prototype.read=function(){var r="";this._match_pattern?r=this._input.read(this._starting_pattern):r=this._input.read(this._starting_pattern,this.__template_pattern);for(var i=this._read_template();i;)this._match_pattern?i+=this._input.read(this._match_pattern):i+=this._input.readUntil(this.__template_pattern),r+=i,i=this._read_template();return this._until_after&&(r+=this._input.readUntilAfter(this._until_pattern)),r},n.prototype.__set_templated_pattern=function(){var r=[];this._disabled.php||r.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||r.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.angular||r.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||r.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(r.push(this.__patterns.django._starting_pattern.source),r.push(this.__patterns.django_value._starting_pattern.source),r.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||r.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&r.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+r.join("|")+")")},n.prototype._read_template=function(){var r="",i=this._input.peek();if(i==="<"){var s=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&s==="?"&&(r=r||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&s==="%"&&(r=r||this.__patterns.erb.read())}else i==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(r=r||this.__patterns.handlebars_comment.read(),r=r||this.__patterns.handlebars_unescaped.read(),r=r||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(r=r||this.__patterns.django_value.read()),this._excluded.django||(r=r||this.__patterns.django_comment.read(),r=r||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(r=r||this.__patterns.smarty_comment.read(),r=r||this.__patterns.smarty_literal.read(),r=r||this.__patterns.smarty.read()));return r},zf.TemplatablePattern=n,zf}var xE;function Nu(){if(xE)return us;xE=1;var t=rv().InputScanner,e=od().Tokenizer,n=od().TOKEN,r=iv().Directives,i=QA(),s=fh().Pattern,o=YA().TemplatablePattern;function a(N,S){return S.indexOf(N)!==-1}var l={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:n.START,RAW:n.RAW,EOF:n.EOF},c=new r(/\/\*/,/\*\//),d=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,h=/[0-9]/,f=/[^\d\.]/,E=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),A=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";A=A.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),A="\\?\\.(?!\\d) "+A,A=A.replace(/ /g,"|");var R=new RegExp(A),w="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),m=w.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),_=new RegExp("^(?:"+m.join("|")+")$"),T,k=function(N,S){e.call(this,N,S),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var y=new s(this._input),I=new o(this._input).read_options(this._options);this.__patterns={template:I,identifier:I.starting_with(i.identifier).matching(i.identifierMatch),number:y.matching(d),punct:y.matching(R),comment:y.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:y.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:y.matching(/<!--/),html_comment_end:y.matching(/-->/),include:y.starting_with(/#include/).until_after(i.lineBreak),shebang:y.starting_with(/#!/).until_after(i.lineBreak),xml:y.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:I.until(/['\\\n\r\u2028\u2029]/),double_quote:I.until(/["\\\n\r\u2028\u2029]/),template_text:I.until(/[`\\$]/),template_expression:I.until(/[`}\\]/)}};k.prototype=new e,k.prototype._is_comment=function(N){return N.type===l.COMMENT||N.type===l.BLOCK_COMMENT||N.type===l.UNKNOWN},k.prototype._is_opening=function(N){return N.type===l.START_BLOCK||N.type===l.START_EXPR},k.prototype._is_closing=function(N,S){return(N.type===l.END_BLOCK||N.type===l.END_EXPR)&&S&&(N.text==="]"&&S.text==="["||N.text===")"&&S.text==="("||N.text==="}"&&S.text==="{")},k.prototype._reset=function(){T=!1},k.prototype._get_next_token=function(N,S){var y=null;this._readWhitespace();var I=this._input.peek();return I===null?this._create_token(l.EOF,""):(y=y||this._read_non_javascript(I),y=y||this._read_string(I),y=y||this._read_pair(I,this._input.peek(1)),y=y||this._read_word(N),y=y||this._read_singles(I),y=y||this._read_comment(I),y=y||this._read_regexp(I,N),y=y||this._read_xml(I,N),y=y||this._read_punctuation(),y=y||this._create_token(l.UNKNOWN,this._input.next()),y)},k.prototype._read_word=function(N){var S;if(S=this.__patterns.identifier.read(),S!=="")return S=S.replace(i.allLineBreaks,`
`),!(N.type===l.DOT||N.type===l.RESERVED&&(N.text==="set"||N.text==="get"))&&_.test(S)?(S==="in"||S==="of")&&(N.type===l.WORD||N.type===l.STRING)?this._create_token(l.OPERATOR,S):this._create_token(l.RESERVED,S):this._create_token(l.WORD,S);if(S=this.__patterns.number.read(),S!=="")return this._create_token(l.WORD,S)},k.prototype._read_singles=function(N){var S=null;return N==="("||N==="["?S=this._create_token(l.START_EXPR,N):N===")"||N==="]"?S=this._create_token(l.END_EXPR,N):N==="{"?S=this._create_token(l.START_BLOCK,N):N==="}"?S=this._create_token(l.END_BLOCK,N):N===";"?S=this._create_token(l.SEMICOLON,N):N==="."&&f.test(this._input.peek(1))?S=this._create_token(l.DOT,N):N===","&&(S=this._create_token(l.COMMA,N)),S&&this._input.next(),S},k.prototype._read_pair=function(N,S){var y=null;return N==="#"&&S==="{"&&(y=this._create_token(l.START_BLOCK,N+S)),y&&(this._input.next(),this._input.next()),y},k.prototype._read_punctuation=function(){var N=this.__patterns.punct.read();if(N!=="")return N==="="?this._create_token(l.EQUALS,N):N==="?."?this._create_token(l.DOT,N):this._create_token(l.OPERATOR,N)},k.prototype._read_non_javascript=function(N){var S="";if(N==="#"){if(this._is_first_token()&&(S=this.__patterns.shebang.read(),S))return this._create_token(l.UNKNOWN,S.trim()+`
`);if(S=this.__patterns.include.read(),S)return this._create_token(l.UNKNOWN,S.trim()+`
`);N=this._input.next();var y="#";if(this._input.hasNext()&&this._input.testChar(h)){do N=this._input.next(),y+=N;while(this._input.hasNext()&&N!=="#"&&N!=="=");return N==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(y+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(y+="{}",this._input.next(),this._input.next())),this._create_token(l.WORD,y)}this._input.back()}else if(N==="<"&&this._is_first_token()){if(S=this.__patterns.html_comment_start.read(),S){for(;this._input.hasNext()&&!this._input.testChar(i.newline);)S+=this._input.next();return T=!0,this._create_token(l.COMMENT,S)}}else if(T&&N==="-"&&(S=this.__patterns.html_comment_end.read(),S))return T=!1,this._create_token(l.COMMENT,S);return null},k.prototype._read_comment=function(N){var S=null;if(N==="/"){var y="";if(this._input.peek(1)==="*"){y=this.__patterns.block_comment.read();var I=c.get_directives(y);I&&I.ignore==="start"&&(y+=c.readIgnored(this._input)),y=y.replace(i.allLineBreaks,`
`),S=this._create_token(l.BLOCK_COMMENT,y),S.directives=I}else this._input.peek(1)==="/"&&(y=this.__patterns.comment.read(),S=this._create_token(l.COMMENT,y))}return S},k.prototype._read_string=function(N){if(N==="`"||N==="'"||N==='"'){var S=this._input.next();return this.has_char_escapes=!1,N==="`"?S+=this._read_string_recursive("`",!0,"${"):S+=this._read_string_recursive(N),this.has_char_escapes&&this._options.unescape_strings&&(S=L(S)),this._input.peek()===N&&(S+=this._input.next()),S=S.replace(i.allLineBreaks,`
`),this._create_token(l.STRING,S)}return null},k.prototype._allow_regexp_or_xml=function(N){return N.type===l.RESERVED&&a(N.text,["return","case","throw","else","do","typeof","yield"])||N.type===l.END_EXPR&&N.text===")"&&N.opened.previous.type===l.RESERVED&&a(N.opened.previous.text,["if","while","for"])||a(N.type,[l.COMMENT,l.START_EXPR,l.START_BLOCK,l.START,l.END_BLOCK,l.OPERATOR,l.EQUALS,l.EOF,l.SEMICOLON,l.COMMA])},k.prototype._read_regexp=function(N,S){if(N==="/"&&this._allow_regexp_or_xml(S)){for(var y=this._input.next(),I=!1,p=!1;this._input.hasNext()&&(I||p||this._input.peek()!==N)&&!this._input.testChar(i.newline);)y+=this._input.peek(),I?I=!1:(I=this._input.peek()==="\\",this._input.peek()==="["?p=!0:this._input.peek()==="]"&&(p=!1)),this._input.next();return this._input.peek()===N&&(y+=this._input.next(),y+=this._input.read(i.identifier)),this._create_token(l.STRING,y)}return null},k.prototype._read_xml=function(N,S){if(this._options.e4x&&N==="<"&&this._allow_regexp_or_xml(S)){var y="",I=this.__patterns.xml.read_match();if(I){for(var p=I[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),b=p.indexOf("{")===0,P=0;I;){var O=!!I[1],B=I[2],Y=!!I[I.length-1]||B.slice(0,8)==="![CDATA[";if(!Y&&(B===p||b&&B.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(O?--P:++P),y+=I[0],P<=0)break;I=this.__patterns.xml.read_match()}return I||(y+=this._input.match(/[\s\S]*/g)[0]),y=y.replace(i.allLineBreaks,`
`),this._create_token(l.STRING,y)}}return null};function L(N){for(var S="",y=0,I=new t(N),p=null;I.hasNext();)if(p=I.match(/([\s]|[^\\]|\\\\)+/g),p&&(S+=p[0]),I.peek()==="\\"){if(I.next(),I.peek()==="x")p=I.match(/x([0-9A-Fa-f]{2})/g);else if(I.peek()==="u")p=I.match(/u([0-9A-Fa-f]{4})/g),p||(p=I.match(/u\{([0-9A-Fa-f]+)\}/g));else{S+="\\",I.hasNext()&&(S+=I.next());continue}if(!p||(y=parseInt(p[1],16),y>126&&y<=255&&p[0].indexOf("x")===0))return N;y>=0&&y<32||y>1114111?S+="\\"+p[0]:y===34||y===39||y===92?S+="\\"+String.fromCharCode(y):S+=String.fromCharCode(y)}return S}return k.prototype._read_string_recursive=function(N,S,y){var I,p;N==="'"?p=this.__patterns.single_quote:N==='"'?p=this.__patterns.double_quote:N==="`"?p=this.__patterns.template_text:N==="}"&&(p=this.__patterns.template_expression);for(var b=p.read(),P="";this._input.hasNext();){if(P=this._input.next(),P===N||!S&&i.newline.test(P)){this._input.back();break}else P==="\\"&&this._input.hasNext()?(I=this._input.peek(),I==="x"||I==="u"?this.has_char_escapes=!0:I==="\r"&&this._input.peek(1)===`
`&&this._input.next(),P+=this._input.next()):y&&(y==="${"&&P==="$"&&this._input.peek()==="{"&&(P+=this._input.next()),y===P&&(N==="`"?P+=this._read_string_recursive("}",S,"`"):P+=this._read_string_recursive("`",S,"${"),this._input.hasNext()&&(P+=this._input.next())));P+=p.read(),b+=P}return b},us.Tokenizer=k,us.TOKEN=l,us.positionable_operators=E.slice(),us.line_starters=w.slice(),us}var IE;function z5(){if(IE)return Of;IE=1;var t=tv().Output,e=GA().Token,n=QA(),r=XA().Options,i=Nu().Tokenizer,s=Nu().line_starters,o=Nu().positionable_operators,a=Nu().TOKEN;function l(p,b){return b.indexOf(p)!==-1}function c(p){return p.replace(/^\s+/g,"")}function d(p){for(var b={},P=0;P<p.length;P++)b[p[P].replace(/-/g,"_")]=p[P];return b}function h(p,b){return p&&p.type===a.RESERVED&&p.text===b}function f(p,b){return p&&p.type===a.RESERVED&&l(p.text,b)}var E=["case","return","do","if","throw","else","await","break","continue","async"],A=["before-newline","after-newline","preserve-newline"],R=d(A),w=[R.before_newline,R.preserve_newline],m={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function _(p,b){b.multiline_frame||b.mode===m.ForInitializer||b.mode===m.Conditional||p.remove_indent(b.start_line_index)}function T(p){p=p.replace(n.allLineBreaks,`
`);for(var b=[],P=p.indexOf(`
`);P!==-1;)b.push(p.substring(0,P)),p=p.substring(P+1),P=p.indexOf(`
`);return p.length&&b.push(p),b}function k(p){return p===m.ArrayLiteral}function L(p){return l(p,[m.Expression,m.ForInitializer,m.Conditional])}function N(p,b){for(var P=0;P<p.length;P++){var O=p[P].trim();if(O.charAt(0)!==b)return!1}return!0}function S(p,b){for(var P=0,O=p.length,B;P<O;P++)if(B=p[P],B&&B.indexOf(b)!==0)return!1;return!0}function y(p,b){b=b||{},this._source_text=p||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new r(b)}y.prototype.create_flags=function(p,b){var P=0;p&&(P=p.indentation_level,!this._output.just_added_newline()&&p.line_indent_level>P&&(P=p.line_indent_level));var O={mode:b,parent:p,last_token:p?p.last_token:new e(a.START_BLOCK,""),last_word:p?p.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:P,alignment:0,line_indent_level:p?p.line_indent_level:P,start_line_index:this._output.get_line_number(),ternary_depth:0};return O},y.prototype._reset=function(p){var b=p.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new t(this._options,b),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(m.BlockStatement);var P=new i(p,this._options);return this._tokens=P.tokenize(),p},y.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var p,b=this._reset(this._source_text),P=this._options.eol;this._options.eol==="auto"&&(P=`
`,b&&n.lineBreak.test(b||"")&&(P=b.match(n.lineBreak)[0]));for(var O=this._tokens.next();O;)this.handle_token(O),this._last_last_text=this._flags.last_token.text,this._flags.last_token=O,O=this._tokens.next();return p=this._output.get_code(P),p},y.prototype.handle_token=function(p,b){p.type===a.START_EXPR?this.handle_start_expr(p):p.type===a.END_EXPR?this.handle_end_expr(p):p.type===a.START_BLOCK?this.handle_start_block(p):p.type===a.END_BLOCK?this.handle_end_block(p):p.type===a.WORD?this.handle_word(p):p.type===a.RESERVED?this.handle_word(p):p.type===a.SEMICOLON?this.handle_semicolon(p):p.type===a.STRING?this.handle_string(p):p.type===a.EQUALS?this.handle_equals(p):p.type===a.OPERATOR?this.handle_operator(p):p.type===a.COMMA?this.handle_comma(p):p.type===a.BLOCK_COMMENT?this.handle_block_comment(p,b):p.type===a.COMMENT?this.handle_comment(p,b):p.type===a.DOT?this.handle_dot(p):p.type===a.EOF?this.handle_eof(p):p.type===a.UNKNOWN?this.handle_unknown(p,b):this.handle_unknown(p,b)},y.prototype.handle_whitespace_and_comments=function(p,b){var P=p.newlines,O=this._options.keep_array_indentation&&k(this._flags.mode);if(p.comments_before)for(var B=p.comments_before.next();B;)this.handle_whitespace_and_comments(B,b),this.handle_token(B,b),B=p.comments_before.next();if(O)for(var Y=0;Y<P;Y+=1)this.print_newline(Y>0,b);else if(this._options.max_preserve_newlines&&P>this._options.max_preserve_newlines&&(P=this._options.max_preserve_newlines),this._options.preserve_newlines&&P>1){this.print_newline(!1,b);for(var H=1;H<P;H+=1)this.print_newline(!0,b)}};var I=["async","break","continue","return","throw","yield"];return y.prototype.allow_wrap_or_preserved_newline=function(p,b){if(b=b===void 0?!1:b,!this._output.just_added_newline()){var P=this._options.preserve_newlines&&p.newlines||b,O=l(this._flags.last_token.text,o)||l(p.text,o);if(O){var B=l(this._flags.last_token.text,o)&&l(this._options.operator_position,w)||l(p.text,o);P=P&&B}if(P)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(f(this._flags.last_token,I))return;this._output.set_wrap_point()}}},y.prototype.print_newline=function(p,b){if(!b&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==a.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var P=this._tokens.peek();this._flags.mode===m.Statement&&!(this._flags.if_block&&h(P,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(p)&&(this._flags.multiline_frame=!0)},y.prototype.print_token_line_indentation=function(p){this._output.just_added_newline()&&(this._options.keep_array_indentation&&p.newlines&&(p.text==="["||k(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(p.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},y.prototype.print_token=function(p){if(this._output.raw){this._output.add_raw_token(p);return}if(this._options.comma_first&&p.previous&&p.previous.type===a.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var b=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(b),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(p),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(p),this._output.non_breaking_space=!0,this._output.add_token(p.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},y.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},y.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},y.prototype.set_mode=function(p){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,p),this._flags=this.create_flags(this._previous_flags,p),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},y.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===m.Statement&&_(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},y.prototype.start_of_object_property=function(){return this._flags.parent.mode===m.ObjectLiteral&&this._flags.mode===m.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||f(this._flags.last_token,["get","set"]))},y.prototype.start_of_statement=function(p){var b=!1;return b=b||f(this._flags.last_token,["var","let","const"])&&p.type===a.WORD,b=b||h(this._flags.last_token,"do"),b=b||!(this._flags.parent.mode===m.ObjectLiteral&&this._flags.mode===m.Statement)&&f(this._flags.last_token,I)&&!p.newlines,b=b||h(this._flags.last_token,"else")&&!(h(p,"if")&&!p.comments_before),b=b||this._flags.last_token.type===a.END_EXPR&&(this._previous_flags.mode===m.ForInitializer||this._previous_flags.mode===m.Conditional),b=b||this._flags.last_token.type===a.WORD&&this._flags.mode===m.BlockStatement&&!this._flags.in_case&&!(p.text==="--"||p.text==="++")&&this._last_last_text!=="function"&&p.type!==a.WORD&&p.type!==a.RESERVED,b=b||this._flags.mode===m.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||f(this._flags.last_token,["get","set"])),b?(this.set_mode(m.Statement),this.indent(),this.handle_whitespace_and_comments(p,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(p,f(p,["do","for","if","while"])),!0):!1},y.prototype.handle_start_expr=function(p){this.start_of_statement(p)||this.handle_whitespace_and_comments(p);var b=m.Expression;if(p.text==="["){if(this._flags.last_token.type===a.WORD||this._flags.last_token.text===")"){f(this._flags.last_token,s)&&(this._output.space_before_token=!0),this.print_token(p),this.set_mode(b),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}b=m.ArrayLiteral,k(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),l(this._flags.last_token.type,[a.START_EXPR,a.END_EXPR,a.WORD,a.OPERATOR,a.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===a.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,b=m.ForInitializer):l(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,b=m.Conditional):l(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&p.whitespace_before===""?this._output.space_before_token=!1:(l(this._flags.last_token.text,s)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===a.EQUALS||this._flags.last_token.type===a.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(p);else if(this._flags.last_token.type===a.WORD){this._output.space_before_token=!1;var P=this._tokens.peek(-3);if(this._options.space_after_named_function&&P){var O=this._tokens.peek(-4);f(P,["async","function"])||P.text==="*"&&f(O,["async","function"])?this._output.space_before_token=!0:this._flags.mode===m.ObjectLiteral?(P.text==="{"||P.text===","||P.text==="*"&&(O.text==="{"||O.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(p);(this._flags.last_token.type===a.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(l(this._last_last_text,["function","yield"])||this._flags.mode===m.ObjectLiteral&&l(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===a.START_BLOCK?this.print_newline():(this._flags.last_token.type===a.END_EXPR||this._flags.last_token.type===a.START_EXPR||this._flags.last_token.type===a.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===a.COMMA)&&this.allow_wrap_or_preserved_newline(p,p.newlines),this.print_token(p),this.set_mode(b),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},y.prototype.handle_end_expr=function(p){for(;this._flags.mode===m.Statement;)this.restore_mode();this.handle_whitespace_and_comments(p),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(p,p.text==="]"&&k(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===a.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(p),this.restore_mode(),_(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===m.Conditional&&(this._previous_flags.mode=m.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},y.prototype.handle_start_block=function(p){this.handle_whitespace_and_comments(p);var b=this._tokens.peek(),P=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===a.END_EXPR?(this.set_mode(m.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(m.BlockStatement):P&&(l(P.text,[":",","])&&l(b.type,[a.STRING,a.WORD,a.RESERVED])||l(b.text,["get","set","..."])&&l(P.type,[a.WORD,a.RESERVED]))?l(this._last_last_text,["class","interface"])&&!l(P.text,[":",","])?this.set_mode(m.BlockStatement):this.set_mode(m.ObjectLiteral):this._flags.last_token.type===a.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(m.BlockStatement):l(this._flags.last_token.type,[a.EQUALS,a.START_EXPR,a.COMMA,a.OPERATOR])||f(this._flags.last_token,["return","throw","import","default"])?this.set_mode(m.ObjectLiteral):this.set_mode(m.BlockStatement),this._flags.last_token&&f(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var O=!b.comments_before&&b.text==="}",B=O&&this._flags.last_word==="function"&&this._flags.last_token.type===a.END_EXPR;if(this._options.brace_preserve_inline){var Y=0,H=null;this._flags.inline_frame=!0;do if(Y+=1,H=this._tokens.peek(Y-1),H.newlines){this._flags.inline_frame=!1;break}while(H.type!==a.EOF&&!(H.type===a.END_BLOCK&&H.opened===p))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&p.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==a.OPERATOR&&(B||this._flags.last_token.type===a.EQUALS||f(this._flags.last_token,E)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(k(this._previous_flags.mode)&&(this._flags.last_token.type===a.START_EXPR||this._flags.last_token.type===a.COMMA)&&((this._flags.last_token.type===a.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===a.COMMA||this._flags.last_token.type===a.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(p),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==a.OPERATOR&&this._flags.last_token.type!==a.START_EXPR&&(l(this._flags.last_token.type,[a.START_BLOCK,a.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(p),this.indent(),!O&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},y.prototype.handle_end_block=function(p){for(this.handle_whitespace_and_comments(p);this._flags.mode===m.Statement;)this.restore_mode();var b=this._flags.last_token.type===a.START_BLOCK;this._flags.inline_frame&&!b?this._output.space_before_token=!0:this._options.brace_style==="expand"?b||this.print_newline():b||(k(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(p)},y.prototype.handle_word=function(p){if(p.type===a.RESERVED){if(l(p.text,["set","get"])&&this._flags.mode!==m.ObjectLiteral)p.type=a.WORD;else if(p.text==="import"&&l(this._tokens.peek().text,["(","."]))p.type=a.WORD;else if(l(p.text,["as","from"])&&!this._flags.import_block)p.type=a.WORD;else if(this._flags.mode===m.ObjectLiteral){var b=this._tokens.peek();b.text===":"&&(p.type=a.WORD)}}if(this.start_of_statement(p)?f(this._flags.last_token,["var","let","const"])&&p.type===a.WORD&&(this._flags.declaration_statement=!0):p.newlines&&!L(this._flags.mode)&&(this._flags.last_token.type!==a.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==a.EQUALS&&(this._options.preserve_newlines||!f(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(p),this.print_newline()):this.handle_whitespace_and_comments(p),this._flags.do_block&&!this._flags.do_while)if(h(p,"while")){this._output.space_before_token=!0,this.print_token(p),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&h(p,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===m.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&f(p,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(p),this._flags.in_case=!0;return}if((this._flags.last_token.type===a.COMMA||this._flags.last_token.type===a.START_EXPR||this._flags.last_token.type===a.EQUALS||this._flags.last_token.type===a.OPERATOR)&&!this.start_of_object_property()&&!(l(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===m.ObjectLiteral)&&this.allow_wrap_or_preserved_newline(p),h(p,"function")){(l(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(l(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===a.OPERATOR))&&!this._output.just_added_blankline()&&!p.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===a.RESERVED||this._flags.last_token.type===a.WORD?f(this._flags.last_token,["get","set","new","export"])||f(this._flags.last_token,I)?this._output.space_before_token=!0:h(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===a.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(L(this._flags.mode)||k(this._flags.mode))||this.print_newline(),this.print_token(p),this._flags.last_word=p.text;return}var P="NONE";if(this._flags.last_token.type===a.END_BLOCK?this._previous_flags.inline_frame?P="SPACE":f(p,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&p.newlines?P="NEWLINE":(P="SPACE",this._output.space_before_token=!0):P="NEWLINE":this._flags.last_token.type===a.SEMICOLON&&this._flags.mode===m.BlockStatement?P="NEWLINE":this._flags.last_token.type===a.SEMICOLON&&L(this._flags.mode)?P="SPACE":this._flags.last_token.type===a.STRING?P="NEWLINE":this._flags.last_token.type===a.RESERVED||this._flags.last_token.type===a.WORD||this._flags.last_token.text==="*"&&(l(this._last_last_text,["function","yield"])||this._flags.mode===m.ObjectLiteral&&l(this._last_last_text,["{",","]))?P="SPACE":this._flags.last_token.type===a.START_BLOCK?this._flags.inline_frame?P="SPACE":P="NEWLINE":this._flags.last_token.type===a.END_EXPR&&(this._output.space_before_token=!0,P="NEWLINE"),f(p,s)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?P="SPACE":P="NEWLINE"),f(p,["else","catch","finally"]))if((!(this._flags.last_token.type===a.END_BLOCK&&this._previous_flags.mode===m.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&p.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var O=this._output.current_line;O.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else P==="NEWLINE"?f(this._flags.last_token,E)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&f(p,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==a.END_EXPR?(this._flags.last_token.type!==a.START_EXPR||!f(p,["var","let","const"]))&&this._flags.last_token.text!==":"&&(h(p,"if")&&h(p.previous,"else")?this._output.space_before_token=!0:this.print_newline()):f(p,s)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&k(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():P==="SPACE"&&(this._output.space_before_token=!0);p.previous&&(p.previous.type===a.WORD||p.previous.type===a.RESERVED)&&(this._output.space_before_token=!0),this.print_token(p),this._flags.last_word=p.text,p.type===a.RESERVED&&(p.text==="do"?this._flags.do_block=!0:p.text==="if"?this._flags.if_block=!0:p.text==="import"?this._flags.import_block=!0:this._flags.import_block&&h(p,"from")&&(this._flags.import_block=!1))},y.prototype.handle_semicolon=function(p){this.start_of_statement(p)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(p);for(var b=this._tokens.peek();this._flags.mode===m.Statement&&!(this._flags.if_block&&h(b,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(p)},y.prototype.handle_string=function(p){p.text.startsWith("`")&&p.newlines===0&&p.whitespace_before===""&&(p.previous.text===")"||this._flags.last_token.type===a.WORD)||(this.start_of_statement(p)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(p),this._flags.last_token.type===a.RESERVED||this._flags.last_token.type===a.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===a.COMMA||this._flags.last_token.type===a.START_EXPR||this._flags.last_token.type===a.EQUALS||this._flags.last_token.type===a.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(p):p.text.startsWith("`")&&this._flags.last_token.type===a.END_EXPR&&(p.previous.text==="]"||p.previous.text===")")&&p.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(p)},y.prototype.handle_equals=function(p){this.start_of_statement(p)||this.handle_whitespace_and_comments(p),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(p),this._output.space_before_token=!0},y.prototype.handle_comma=function(p){this.handle_whitespace_and_comments(p,!0),this.print_token(p),this._output.space_before_token=!0,this._flags.declaration_statement?(L(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(p)):this._flags.mode===m.ObjectLiteral||this._flags.mode===m.Statement&&this._flags.parent.mode===m.ObjectLiteral?(this._flags.mode===m.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(p)},y.prototype.handle_operator=function(p){var b=p.text==="*"&&(f(this._flags.last_token,["function","yield"])||l(this._flags.last_token.type,[a.START_BLOCK,a.COMMA,a.END_BLOCK,a.SEMICOLON])),P=l(p.text,["-","+"])&&(l(this._flags.last_token.type,[a.START_BLOCK,a.START_EXPR,a.EQUALS,a.OPERATOR])||l(this._flags.last_token.text,s)||this._flags.last_token.text===",");if(!this.start_of_statement(p)){var O=!b;this.handle_whitespace_and_comments(p,O)}if(p.text==="*"&&this._flags.last_token.type===a.DOT){this.print_token(p);return}if(p.text==="::"){this.print_token(p);return}if(l(p.text,["-","+"])&&this.start_of_object_property()){this.print_token(p);return}if(this._flags.last_token.type===a.OPERATOR&&l(this._options.operator_position,w)&&this.allow_wrap_or_preserved_newline(p),p.text===":"&&this._flags.in_case){this.print_token(p),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==a.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var B=!0,Y=!0,H=!1;if(p.text===":"?this._flags.ternary_depth===0?B=!1:(this._flags.ternary_depth-=1,H=!0):p.text==="?"&&(this._flags.ternary_depth+=1),!P&&!b&&this._options.preserve_newlines&&l(p.text,o)){var Z=p.text===":",M=Z&&H,j=Z&&!H;switch(this._options.operator_position){case R.before_newline:this._output.space_before_token=!j,this.print_token(p),(!Z||M)&&this.allow_wrap_or_preserved_newline(p),this._output.space_before_token=!0;return;case R.after_newline:this._output.space_before_token=!0,!Z||M?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(p):this._output.space_before_token=!1,this.print_token(p),this._output.space_before_token=!0;return;case R.preserve_newline:j||this.allow_wrap_or_preserved_newline(p),B=!(this._output.just_added_newline()||j),this._output.space_before_token=B,this.print_token(p),this._output.space_before_token=!0;return}}if(b){this.allow_wrap_or_preserved_newline(p),B=!1;var W=this._tokens.peek();Y=W&&l(W.type,[a.WORD,a.RESERVED])}else if(p.text==="...")this.allow_wrap_or_preserved_newline(p),B=this._flags.last_token.type===a.START_BLOCK,Y=!1;else if(l(p.text,["--","++","!","~"])||P){if((this._flags.last_token.type===a.COMMA||this._flags.last_token.type===a.START_EXPR)&&this.allow_wrap_or_preserved_newline(p),B=!1,Y=!1,p.newlines&&(p.text==="--"||p.text==="++"||p.text==="~")){var re=f(this._flags.last_token,E)&&p.newlines;re&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(re,!0)}this._flags.last_token.text===";"&&L(this._flags.mode)&&(B=!0),this._flags.last_token.type===a.RESERVED?B=!0:this._flags.last_token.type===a.END_EXPR?B=!(this._flags.last_token.text==="]"&&(p.text==="--"||p.text==="++")):this._flags.last_token.type===a.OPERATOR&&(B=l(p.text,["--","-","++","+"])&&l(this._flags.last_token.text,["--","-","++","+"]),l(p.text,["+","-"])&&l(this._flags.last_token.text,["--","++"])&&(Y=!0)),(this._flags.mode===m.BlockStatement&&!this._flags.inline_frame||this._flags.mode===m.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||B,this.print_token(p),this._output.space_before_token=Y},y.prototype.handle_block_comment=function(p,b){if(this._output.raw){this._output.add_raw_token(p),p.directives&&p.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(p.directives){this.print_newline(!1,b),this.print_token(p),p.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!n.newline.test(p.text)&&!p.newlines){this._output.space_before_token=!0,this.print_token(p),this._output.space_before_token=!0;return}else this.print_block_commment(p,b)},y.prototype.print_block_commment=function(p,b){var P=T(p.text),O,B=!1,Y=!1,H=p.whitespace_before,Z=H.length;if(this.print_newline(!1,b),this.print_token_line_indentation(p),this._output.add_token(P[0]),this.print_newline(!1,b),P.length>1){for(P=P.slice(1),B=N(P,"*"),Y=S(P,H),B&&(this._flags.alignment=1),O=0;O<P.length;O++)B?(this.print_token_line_indentation(p),this._output.add_token(c(P[O]))):Y&&P[O]?(this.print_token_line_indentation(p),this._output.add_token(P[O].substring(Z))):(this._output.current_line.set_indent(-1),this._output.add_token(P[O])),this.print_newline(!1,b);this._flags.alignment=0}},y.prototype.handle_comment=function(p,b){p.newlines?this.print_newline(!1,b):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(p),this.print_newline(!1,b)},y.prototype.handle_dot=function(p){this.start_of_statement(p)||this.handle_whitespace_and_comments(p,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),f(this._flags.last_token,E)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(p,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(p)},y.prototype.handle_unknown=function(p,b){this.print_token(p),p.text[p.text.length-1]===`
`&&this.print_newline(!1,b)},y.prototype.handle_eof=function(p){for(;this._flags.mode===m.Statement;)this.restore_mode();this.handle_whitespace_and_comments(p)},Of.Beautifier=y,Of}var AE;function W5(){if(AE)return ku.exports;AE=1;var t=z5().Beautifier,e=XA().Options;function n(r,i){var s=new t(r,i);return s.beautify()}return ku.exports=n,ku.exports.defaultOptions=function(){return new e},ku.exports}var Ou={exports:{}},Wf={},qf={},RE;function JA(){if(RE)return qf;RE=1;var t=nv().Options;function e(n){t.call(this,n,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var r=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||r;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var s=0;s<i.length;s++)i[s]!=="expand"?this.brace_style="collapse":this.brace_style=i[s]}return e.prototype=new t,qf.Options=e,qf}var bE;function q5(){if(bE)return Wf;bE=1;var t=JA().Options,e=tv().Output,n=rv().InputScanner,r=iv().Directives,i=new r(/\/\*/,/\*\//),s=/\r\n|[\r\n]/,o=/\r\n|[\r\n]/g,a=/\s/,l=/(?:\s|\n)+/g,c=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,d=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function h(f,E){this._source_text=f||"",this._options=new t(E),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return h.prototype.eatString=function(f){var E="";for(this._ch=this._input.next();this._ch;){if(E+=this._ch,this._ch==="\\")E+=this._input.next();else if(f.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return E},h.prototype.eatWhitespace=function(f){for(var E=a.test(this._input.peek()),A=0;a.test(this._input.peek());)this._ch=this._input.next(),f&&this._ch===`
`&&(A===0||A<this._options.max_preserve_newlines)&&(A++,this._output.add_new_line(!0));return E},h.prototype.foundNestedPseudoClass=function(){for(var f=0,E=1,A=this._input.peek(E);A;){if(A==="{")return!0;if(A==="(")f+=1;else if(A===")"){if(f===0)return!1;f-=1}else if(A===";"||A==="}")return!1;E++,A=this._input.peek(E)}return!1},h.prototype.print_string=function(f){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(f)},h.prototype.preserveSingleSpace=function(f){f&&(this._output.space_before_token=!0)},h.prototype.indent=function(){this._indentLevel++},h.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},h.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var f=this._source_text,E=this._options.eol;E==="auto"&&(E=`
`,f&&s.test(f||"")&&(E=f.match(s)[0])),f=f.replace(o,`
`);var A=f.match(/^[\t ]*/)[0];this._output=new e(this._options,A),this._input=new n(f),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var R=0,w=!1,m=!1,_=!1,T=!1,k=!1,L=this._ch,N=!1,S,y,I;S=this._input.read(l),y=S!=="",I=L,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),L=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var p=this._input.read(c),b=i.get_directives(p);b&&b.ignore==="start"&&(p+=i.readIgnored(this._input)),this.print_string(p),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(d)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(y),this.print_string(this._ch);var P=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);P.match(/[ :]$/)&&(P=this.eatString(": ").replace(/\s+$/,""),this.print_string(P),this._output.space_before_token=!0),R===0&&P.indexOf(":")!==-1&&(m=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(y),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var O=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);O.match(/[ :]$/)&&(O=this.eatString(": ").replace(/\s+$/,""),this.print_string(O),this._output.space_before_token=!0),R===0&&O.indexOf(":")!==-1?(m=!0,this.indent()):O in this.NESTED_AT_RULE?(this._nestedLevel+=1,O in this.CONDITIONAL_GROUP_RULE&&(_=!0)):R===0&&!m&&(T=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(y),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")m&&(m=!1,this.outdent()),T=!1,_?(_=!1,w=this._indentLevel>=this._nestedLevel):w=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&w&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(I==="("?this._output.space_before_token=!1:I!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),I==="{"&&this._output.trim(!0),m&&(this.outdent(),m=!1),this.print_string(this._ch),w=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var B=0;B<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;B++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[B])){N=!0;break}(w||_)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!T&&R===0?(this.print_string(":"),m||(m=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var Y=I==='"'||I==="'";this.preserveSingleSpace(Y||y),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")N=!1,R===0?(m&&(this.outdent(),m=!1),T=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),R++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),R&&(R--,this.outdent()));else{var H=!1;this._input.lookBack("with")&&(H=!0),this.preserveSingleSpace(y||H),this.print_string(this._ch),m&&I==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),k=!0):(this.eatWhitespace(),R++,this.indent())}else if(this._ch===")")R&&(R--,this.outdent()),k&&this._input.peek()===";"&&this._options.selector_separator_newline&&(k=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!m||k)&&R===0&&!T?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!m&&R===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&a.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(y),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),a.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var Z=I==='"'||I==="'";this.preserveSingleSpace(Z||y),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&N&&this._output.add_new_line()}var M=this._output.get_code(E);return M},Wf.Beautifier=h,Wf}var kE;function K5(){if(kE)return Ou.exports;kE=1;var t=q5().Beautifier,e=JA().Options;function n(r,i){var s=new t(r,i);return s.beautify()}return Ou.exports=n,Ou.exports.defaultOptions=function(){return new e},Ou.exports}var Du={exports:{}},Kf={},Hf={},PE;function ZA(){if(PE)return Hf;PE=1;var t=nv().Options;function e(n){t.call(this,n,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return e.prototype=new t,Hf.Options=e,Hf}var Lu={},NE;function OE(){if(NE)return Lu;NE=1;var t=od().Tokenizer,e=od().TOKEN,n=iv().Directives,r=YA().TemplatablePattern,i=fh().Pattern,s={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:e.START,RAW:e.RAW,EOF:e.EOF},o=new n(/<\!--/,/-->/),a=function(l,c){t.call(this,l,c),this._current_tag_name="";var d=new r(this._input).read_options(this._options),h=new i(this._input);if(this.__patterns={word:d.until(/[\n\r\t <]/),word_control_flow_close_excluded:d.until(/[\n\r\t <}]/),single_quote:d.until_after(/'/),double_quote:d.until_after(/"/),attribute:d.until(/[\n\r\t =>]|\/>/),element_name:d.until(/[\n\r\t >\/]/),angular_control_flow_start:h.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:h.starting_with(/{{!--/).until_after(/--}}/),handlebars:h.starting_with(/{{/).until_after(/}}/),handlebars_open:h.until(/[\n\r\t }]/),handlebars_raw_close:h.until(/}}/),comment:h.starting_with(/<!--/).until_after(/-->/),cdata:h.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:h.starting_with(/<!\[/).until_after(/]>/),processing:h.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var f=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=h.matching(f).until_after(f)}};return a.prototype=new t,a.prototype._is_comment=function(l){return!1},a.prototype._is_opening=function(l){return l.type===s.TAG_OPEN||l.type===s.CONTROL_FLOW_OPEN},a.prototype._is_closing=function(l,c){return l.type===s.TAG_CLOSE&&c&&((l.text===">"||l.text==="/>")&&c.text[0]==="<"||l.text==="}}"&&c.text[0]==="{"&&c.text[1]==="{")||l.type===s.CONTROL_FLOW_CLOSE&&l.text==="}"&&c.text.endsWith("{")},a.prototype._reset=function(){this._current_tag_name=""},a.prototype._get_next_token=function(l,c){var d=null;this._readWhitespace();var h=this._input.peek();return h===null?this._create_token(s.EOF,""):(d=d||this._read_open_handlebars(h,c),d=d||this._read_attribute(h,l,c),d=d||this._read_close(h,c),d=d||this._read_script_and_style(h,l),d=d||this._read_control_flows(h,c),d=d||this._read_raw_content(h,l,c),d=d||this._read_content_word(h,c),d=d||this._read_comment_or_cdata(h),d=d||this._read_processing(h),d=d||this._read_open(h,c),d=d||this._create_token(s.UNKNOWN,this._input.next()),d)},a.prototype._read_comment_or_cdata=function(l){var c=null,d=null,h=null;if(l==="<"){var f=this._input.peek(1);f==="!"&&(d=this.__patterns.comment.read(),d?(h=o.get_directives(d),h&&h.ignore==="start"&&(d+=o.readIgnored(this._input))):d=this.__patterns.cdata.read()),d&&(c=this._create_token(s.COMMENT,d),c.directives=h)}return c},a.prototype._read_processing=function(l){var c=null,d=null,h=null;if(l==="<"){var f=this._input.peek(1);(f==="!"||f==="?")&&(d=this.__patterns.conditional_comment.read(),d=d||this.__patterns.processing.read()),d&&(c=this._create_token(s.COMMENT,d),c.directives=h)}return c},a.prototype._read_open=function(l,c){var d=null,h=null;return(!c||c.type===s.CONTROL_FLOW_OPEN)&&l==="<"&&(d=this._input.next(),this._input.peek()==="/"&&(d+=this._input.next()),d+=this.__patterns.element_name.read(),h=this._create_token(s.TAG_OPEN,d)),h},a.prototype._read_open_handlebars=function(l,c){var d=null,h=null;return(!c||c.type===s.CONTROL_FLOW_OPEN)&&(this._options.templating.includes("angular")||this._options.indent_handlebars)&&l==="{"&&this._input.peek(1)==="{"&&(this._options.indent_handlebars&&this._input.peek(2)==="!"?(d=this.__patterns.handlebars_comment.read(),d=d||this.__patterns.handlebars.read(),h=this._create_token(s.COMMENT,d)):(d=this.__patterns.handlebars_open.read(),h=this._create_token(s.TAG_OPEN,d))),h},a.prototype._read_control_flows=function(l,c){var d="",h=null;if(!this._options.templating.includes("angular"))return h;if(l==="@"){if(d=this.__patterns.angular_control_flow_start.read(),d==="")return h;for(var f=d.endsWith("(")?1:0,E=0;!(d.endsWith("{")&&f===E);){var A=this._input.next();if(A===null)break;A==="("?f++:A===")"&&E++,d+=A}h=this._create_token(s.CONTROL_FLOW_OPEN,d)}else l==="}"&&c&&c.type===s.CONTROL_FLOW_OPEN&&(d=this._input.next(),h=this._create_token(s.CONTROL_FLOW_CLOSE,d));return h},a.prototype._read_close=function(l,c){var d=null,h=null;return c&&c.type===s.TAG_OPEN&&(c.text[0]==="<"&&(l===">"||l==="/"&&this._input.peek(1)===">")?(d=this._input.next(),l==="/"&&(d+=this._input.next()),h=this._create_token(s.TAG_CLOSE,d)):c.text[0]==="{"&&l==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),h=this._create_token(s.TAG_CLOSE,"}}"))),h},a.prototype._read_attribute=function(l,c,d){var h=null,f="";if(d&&d.text[0]==="<")if(l==="=")h=this._create_token(s.EQUALS,this._input.next());else if(l==='"'||l==="'"){var E=this._input.next();l==='"'?E+=this.__patterns.double_quote.read():E+=this.__patterns.single_quote.read(),h=this._create_token(s.VALUE,E)}else f=this.__patterns.attribute.read(),f&&(c.type===s.EQUALS?h=this._create_token(s.VALUE,f):h=this._create_token(s.ATTRIBUTE,f));return h},a.prototype._is_content_unformatted=function(l){return this._options.void_elements.indexOf(l)===-1&&(this._options.content_unformatted.indexOf(l)!==-1||this._options.unformatted.indexOf(l)!==-1)},a.prototype._read_raw_content=function(l,c,d){var h="";if(d&&d.text[0]==="{")h=this.__patterns.handlebars_raw_close.read();else if(c.type===s.TAG_CLOSE&&c.opened.text[0]==="<"&&c.text[0]!=="/"){var f=c.opened.text.substr(1).toLowerCase();this._is_content_unformatted(f)&&(h=this._input.readUntil(new RegExp("</"+f+"[\\n\\r\\t ]*?>","ig")))}return h?this._create_token(s.TEXT,h):null},a.prototype._read_script_and_style=function(l,c){if(c.type===s.TAG_CLOSE&&c.opened.text[0]==="<"&&c.text[0]!=="/"){var d=c.opened.text.substr(1).toLowerCase();if(d==="script"||d==="style"){var h=this._read_comment_or_cdata(l);if(h)return h.type=s.TEXT,h;var f=this._input.readUntil(new RegExp("</"+d+"[\\n\\r\\t ]*?>","ig"));if(f)return this._create_token(s.TEXT,f)}}return null},a.prototype._read_content_word=function(l,c){var d="";return this._options.unformatted_content_delimiter&&l===this._options.unformatted_content_delimiter[0]&&(d=this.__patterns.unformatted_content_delimiter.read()),d||(d=c&&c.type===s.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),d?this._create_token(s.TEXT,d):null},Lu.Tokenizer=a,Lu.TOKEN=s,Lu}var DE;function H5(){if(DE)return Kf;DE=1;var t=ZA().Options,e=tv().Output,n=OE().Tokenizer,r=OE().TOKEN,i=/\r\n|[\r\n]/,s=/\r\n|[\r\n]/g,o=function(w,m){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=w.max_preserve_newlines,this.preserve_newlines=w.preserve_newlines,this._output=new e(w,m)};o.prototype.current_line_has_match=function(w){return this._output.current_line.has_match(w)},o.prototype.set_space_before_token=function(w,m){this._output.space_before_token=w,this._output.non_breaking_space=m},o.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},o.prototype.add_raw_token=function(w){this._output.add_raw_token(w)},o.prototype.print_preserved_newlines=function(w){var m=0;w.type!==r.TEXT&&w.previous.type!==r.TEXT&&(m=w.newlines?1:0),this.preserve_newlines&&(m=w.newlines<this.max_preserve_newlines+1?w.newlines:this.max_preserve_newlines+1);for(var _=0;_<m;_++)this.print_newline(_>0);return m!==0},o.prototype.traverse_whitespace=function(w){return w.whitespace_before||w.newlines?(this.print_preserved_newlines(w)||(this._output.space_before_token=!0),!0):!1},o.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},o.prototype.print_newline=function(w){this._output.add_new_line(w)},o.prototype.print_token=function(w){w.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(w.text))},o.prototype.indent=function(){this.indent_level++},o.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},o.prototype.get_full_indent=function(w){return w=this.indent_level+(w||0),w<1?"":this._output.get_indent_string(w)};var a=function(w){for(var m=null,_=w.next;_.type!==r.EOF&&w.closed!==_;){if(_.type===r.ATTRIBUTE&&_.text==="type"){_.next&&_.next.type===r.EQUALS&&_.next.next&&_.next.next.type===r.VALUE&&(m=_.next.next.text);break}_=_.next}return m},l=function(w,m){var _=null,T=null;return m.closed?(w==="script"?_="text/javascript":w==="style"&&(_="text/css"),_=a(m)||_,_.search("text/css")>-1?T="css":_.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?T="javascript":_.search(/(text|application|dojo)\/(x-)?(html)/)>-1?T="html":_.search(/test\/null/)>-1&&(T="null"),T):null};function c(w,m){return m.indexOf(w)!==-1}function d(w,m,_){this.parent=w||null,this.tag=m?m.tag_name:"",this.indent_level=_||0,this.parser_token=m||null}function h(w){this._printer=w,this._current_frame=null}h.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},h.prototype.record_tag=function(w){var m=new d(this._current_frame,w,this._printer.indent_level);this._current_frame=m},h.prototype._try_pop_frame=function(w){var m=null;return w&&(m=w.parser_token,this._printer.indent_level=w.indent_level,this._current_frame=w.parent),m},h.prototype._get_frame=function(w,m){for(var _=this._current_frame;_&&w.indexOf(_.tag)===-1;){if(m&&m.indexOf(_.tag)!==-1){_=null;break}_=_.parent}return _},h.prototype.try_pop=function(w,m){var _=this._get_frame([w],m);return this._try_pop_frame(_)},h.prototype.indent_to_tag=function(w){var m=this._get_frame(w);m&&(this._printer.indent_level=m.indent_level)};function f(w,m,_,T){this._source_text=w||"",m=m||{},this._js_beautify=_,this._css_beautify=T,this._tag_stack=null;var k=new t(m,"html");this._options=k,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var w=this._source_text,m=this._options.eol;this._options.eol==="auto"&&(m=`
`,w&&i.test(w)&&(m=w.match(i)[0])),w=w.replace(s,`
`);var _=w.match(/^[\t ]*/)[0],T={text:"",type:""},k=new E(this._options),L=new o(this._options,_),N=new n(w,this._options).tokenize();this._tag_stack=new h(L);for(var S=null,y=N.next();y.type!==r.EOF;)y.type===r.TAG_OPEN||y.type===r.COMMENT?(S=this._handle_tag_open(L,y,k,T,N),k=S):y.type===r.ATTRIBUTE||y.type===r.EQUALS||y.type===r.VALUE||y.type===r.TEXT&&!k.tag_complete?S=this._handle_inside_tag(L,y,k,T):y.type===r.TAG_CLOSE?S=this._handle_tag_close(L,y,k):y.type===r.TEXT?S=this._handle_text(L,y,k):y.type===r.CONTROL_FLOW_OPEN?S=this._handle_control_flow_open(L,y):y.type===r.CONTROL_FLOW_CLOSE?S=this._handle_control_flow_close(L,y):L.add_raw_token(y),T=S,y=N.next();var I=L._output.get_code(m);return I},f.prototype._handle_control_flow_open=function(w,m){var _={text:m.text,type:m.type};return w.set_space_before_token(m.newlines||m.whitespace_before!=="",!0),m.newlines?w.print_preserved_newlines(m):w.set_space_before_token(m.newlines||m.whitespace_before!=="",!0),w.print_token(m),w.indent(),_},f.prototype._handle_control_flow_close=function(w,m){var _={text:m.text,type:m.type};return w.deindent(),m.newlines?w.print_preserved_newlines(m):w.set_space_before_token(m.newlines||m.whitespace_before!=="",!0),w.print_token(m),_},f.prototype._handle_tag_close=function(w,m,_){var T={text:m.text,type:m.type};return w.alignment_size=0,_.tag_complete=!0,w.set_space_before_token(m.newlines||m.whitespace_before!=="",!0),_.is_unformatted?w.add_raw_token(m):(_.tag_start_char==="<"&&(w.set_space_before_token(m.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&_.has_wrapped_attrs&&w.print_newline(!1)),w.print_token(m)),_.indent_content&&!(_.is_unformatted||_.is_content_unformatted)&&(w.indent(),_.indent_content=!1),!_.is_inline_element&&!(_.is_unformatted||_.is_content_unformatted)&&w.set_wrap_point(),T},f.prototype._handle_inside_tag=function(w,m,_,T){var k=_.has_wrapped_attrs,L={text:m.text,type:m.type};return w.set_space_before_token(m.newlines||m.whitespace_before!=="",!0),_.is_unformatted?w.add_raw_token(m):_.tag_start_char==="{"&&m.type===r.TEXT?w.print_preserved_newlines(m)?(m.newlines=0,w.add_raw_token(m)):w.print_token(m):(m.type===r.ATTRIBUTE?w.set_space_before_token(!0):(m.type===r.EQUALS||m.type===r.VALUE&&m.previous.type===r.EQUALS)&&w.set_space_before_token(!1),m.type===r.ATTRIBUTE&&_.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(w.traverse_whitespace(m),k=k||m.newlines!==0),this._is_wrap_attributes_force&&_.attr_count>=this._options.wrap_attributes_min_attrs&&(T.type!==r.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(w.print_newline(!1),k=!0)),w.print_token(m),k=k||w.previous_token_wrapped(),_.has_wrapped_attrs=k),L},f.prototype._handle_text=function(w,m,_){var T={text:m.text,type:"TK_CONTENT"};return _.custom_beautifier_name?this._print_custom_beatifier_text(w,m,_):_.is_unformatted||_.is_content_unformatted?w.add_raw_token(m):(w.traverse_whitespace(m),w.print_token(m)),T},f.prototype._print_custom_beatifier_text=function(w,m,_){var T=this;if(m.text!==""){var k=m.text,L,N=1,S="",y="";_.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?L=this._js_beautify:_.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?L=this._css_beautify:_.custom_beautifier_name==="html"&&(L=function(B,Y){var H=new f(B,Y,T._js_beautify,T._css_beautify);return H.beautify()}),this._options.indent_scripts==="keep"?N=0:this._options.indent_scripts==="separate"&&(N=-w.indent_level);var I=w.get_full_indent(N);if(k=k.replace(/\n[ \t]*$/,""),_.custom_beautifier_name!=="html"&&k[0]==="<"&&k.match(/^(<!--|<!\[CDATA\[)/)){var p=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(k);if(!p){w.add_raw_token(m);return}S=I+p[1]+`
`,k=p[4],p[5]&&(y=I+p[5]),k=k.replace(/\n[ \t]*$/,""),(p[2]||p[3].indexOf(`
`)!==-1)&&(p=p[3].match(/[ \t]+$/),p&&(m.whitespace_before=p[0]))}if(k)if(L){var b=function(){this.eol=`
`};b.prototype=this._options.raw_options;var P=new b;k=L(I+k,P)}else{var O=m.whitespace_before;O&&(k=k.replace(new RegExp(`
(`+O+")?","g"),`
`)),k=I+k.replace(/\n/g,`
`+I)}S&&(k?k=S+k+`
`+y:k=S+y),w.print_newline(!1),k&&(m.text=k,m.whitespace_before="",m.newlines=0,w.add_raw_token(m),w.print_newline(!0))}},f.prototype._handle_tag_open=function(w,m,_,T,k){var L=this._get_tag_open_token(m);if((_.is_unformatted||_.is_content_unformatted)&&!_.is_empty_element&&m.type===r.TAG_OPEN&&!L.is_start_tag?(w.add_raw_token(m),L.start_tag_token=this._tag_stack.try_pop(L.tag_name)):(w.traverse_whitespace(m),this._set_tag_position(w,m,L,_,T),L.is_inline_element||w.set_wrap_point(),w.print_token(m)),L.is_start_tag&&this._is_wrap_attributes_force){var N=0,S;do S=k.peek(N),S.type===r.ATTRIBUTE&&(L.attr_count+=1),N+=1;while(S.type!==r.EOF&&S.type!==r.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(L.alignment_size=m.text.length+1),!L.tag_complete&&!L.is_unformatted&&(w.alignment_size=L.alignment_size),L};var E=function(w,m,_){if(this.parent=m||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!_)this.tag_complete=!0;else{var T;this.tag_start_char=_.text[0],this.text=_.text,this.tag_start_char==="<"?(T=_.text.match(/^<([^\s>]*)/),this.tag_check=T?T[1]:""):(T=_.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=T?T[1]:"",(_.text.startsWith("{{#>")||_.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&_.next!==null?this.tag_check=_.next.text.split(" ")[0]:this.tag_check=_.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),_.type===r.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||_.closed&&_.closed.text==="/>";var k=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(k=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(!w.indent_handlebars||this.text.length<3||/[^#\^]/.test(this.text.charAt(k)))}};f.prototype._get_tag_open_token=function(w){var m=new E(this._options,this._tag_stack.get_parser_token(),w);return m.alignment_size=this._options.wrap_attributes_indent_size,m.is_end_tag=m.is_end_tag||c(m.tag_check,this._options.void_elements),m.is_empty_element=m.tag_complete||m.is_start_tag&&m.is_end_tag,m.is_unformatted=!m.tag_complete&&c(m.tag_check,this._options.unformatted),m.is_content_unformatted=!m.is_empty_element&&c(m.tag_check,this._options.content_unformatted),m.is_inline_element=c(m.tag_name,this._options.inline)||this._options.inline_custom_elements&&m.tag_name.includes("-")||m.tag_start_char==="{",m},f.prototype._set_tag_position=function(w,m,_,T,k){if(_.is_empty_element||(_.is_end_tag?_.start_tag_token=this._tag_stack.try_pop(_.tag_name):(this._do_optional_end_element(_)&&(_.is_inline_element||w.print_newline(!1)),this._tag_stack.record_tag(_),(_.tag_name==="script"||_.tag_name==="style")&&!(_.is_unformatted||_.is_content_unformatted)&&(_.custom_beautifier_name=l(_.tag_check,m)))),c(_.tag_check,this._options.extra_liners)&&(w.print_newline(!1),w._output.just_added_blankline()||w.print_newline(!0)),_.is_empty_element){if(_.tag_start_char==="{"&&_.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),_.indent_content=!0;var L=w.current_line_has_match(/{{#if/);L||w.print_newline(!1)}_.tag_name==="!--"&&k.type===r.TAG_CLOSE&&T.is_end_tag&&_.text.indexOf(`
`)===-1||(_.is_inline_element||_.is_unformatted||w.print_newline(!1),this._calcluate_parent_multiline(w,_))}else if(_.is_end_tag){var N=!1;N=_.start_tag_token&&_.start_tag_token.multiline_content,N=N||!_.is_inline_element&&!(T.is_inline_element||T.is_unformatted)&&!(k.type===r.TAG_CLOSE&&_.start_tag_token===T)&&k.type!=="TK_CONTENT",(_.is_content_unformatted||_.is_unformatted)&&(N=!1),N&&w.print_newline(!1)}else _.indent_content=!_.custom_beautifier_name,_.tag_start_char==="<"&&(_.tag_name==="html"?_.indent_content=this._options.indent_inner_html:_.tag_name==="head"?_.indent_content=this._options.indent_head_inner_html:_.tag_name==="body"&&(_.indent_content=this._options.indent_body_inner_html)),!(_.is_inline_element||_.is_unformatted)&&(k.type!=="TK_CONTENT"||_.is_content_unformatted)&&w.print_newline(!1),this._calcluate_parent_multiline(w,_)},f.prototype._calcluate_parent_multiline=function(w,m){m.parent&&w._output.just_added_newline()&&!((m.is_inline_element||m.is_unformatted)&&m.parent.is_inline_element)&&(m.parent.multiline_content=!0)};var A=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],R=["a","audio","del","ins","map","noscript","video"];return f.prototype._do_optional_end_element=function(w){var m=null;if(!(w.is_empty_element||!w.is_start_tag||!w.parent)){if(w.tag_name==="body")m=m||this._tag_stack.try_pop("head");else if(w.tag_name==="li")m=m||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(w.tag_name==="dd"||w.tag_name==="dt")m=m||this._tag_stack.try_pop("dt",["dl"]),m=m||this._tag_stack.try_pop("dd",["dl"]);else if(w.parent.tag_name==="p"&&A.indexOf(w.tag_name)!==-1){var _=w.parent.parent;(!_||R.indexOf(_.tag_name)===-1)&&(m=m||this._tag_stack.try_pop("p"))}else w.tag_name==="rp"||w.tag_name==="rt"?(m=m||this._tag_stack.try_pop("rt",["ruby","rtc"]),m=m||this._tag_stack.try_pop("rp",["ruby","rtc"])):w.tag_name==="optgroup"?m=m||this._tag_stack.try_pop("optgroup",["select"]):w.tag_name==="option"?m=m||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):w.tag_name==="colgroup"?m=m||this._tag_stack.try_pop("caption",["table"]):w.tag_name==="thead"?(m=m||this._tag_stack.try_pop("caption",["table"]),m=m||this._tag_stack.try_pop("colgroup",["table"])):w.tag_name==="tbody"||w.tag_name==="tfoot"?(m=m||this._tag_stack.try_pop("caption",["table"]),m=m||this._tag_stack.try_pop("colgroup",["table"]),m=m||this._tag_stack.try_pop("thead",["table"]),m=m||this._tag_stack.try_pop("tbody",["table"])):w.tag_name==="tr"?(m=m||this._tag_stack.try_pop("caption",["table"]),m=m||this._tag_stack.try_pop("colgroup",["table"]),m=m||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(w.tag_name==="th"||w.tag_name==="td")&&(m=m||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),m=m||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return w.parent=this._tag_stack.get_parser_token(),m}},Kf.Beautifier=f,Kf}var LE;function G5(){if(LE)return Du.exports;LE=1;var t=H5().Beautifier,e=ZA().Options;function n(r,i,s,o){var a=new t(r,i,s,o);return a.beautify()}return Du.exports=n,Du.exports.defaultOptions=function(){return new e},Du.exports}var ME;function Q5(){if(ME)return Jo;ME=1;var t=W5(),e=K5(),n=G5();function r(i,s,o,a){return o=o||t,a=a||e,n(i,s,o,a)}return r.defaultOptions=n.defaultOptions,Jo.js=t,Jo.css=e,Jo.html=r,Jo}(function(t){function e(n,r,i){var s=function(o,a){return n.js_beautify(o,a)};return s.js=n.js_beautify,s.css=r.css_beautify,s.html=i.html_beautify,s.js_beautify=n.js_beautify,s.css_beautify=r.css_beautify,s.html_beautify=i.html_beautify,s}(function(n){var r=Q5();r.js_beautify=r.js,r.css_beautify=r.css,r.html_beautify=r.html,n.exports=e(r,r,r)})(t)})(HA);var X5=HA.exports;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:Prism.languages[n]};var s={};s[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",s)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const Y5=({code:t,language:e="markup",formatCode:n=!0,className:r=""})=>{const i=v.useRef(null),o=((a,l)=>{if(!n)return a;try{return l==="markup"||l==="html"?X5.html(a,{indent_size:2,indent_char:" ",max_preserve_newlines:1,preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:180,indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1}):a}catch(c){return console.warn("Failed to format code with js-beautify:",c),a}})(t,e);return v.useEffect(()=>{i.current&&$5.highlightElement(i.current)},[o,e]),C.jsx("div",{className:`syntax-highlighter ${r}`,children:C.jsx("pre",{className:`language-${e}`,children:C.jsx("code",{ref:i,className:`language-${e}`,children:o})})})},J5=({snippet:t,onCopy:e,onUpdate:n,onDelete:r,className:i=""})=>{const{user:s}=mr(),[o,a]=v.useState("preview"),[l,c]=v.useState(!1),[d,h]=v.useState((t==null?void 0:t.htmlContent)||""),[f,E]=v.useState((t==null?void 0:t.title)||""),[A,R]=v.useState((t==null?void 0:t.tags)||[]),[w,m]=v.useState(""),[_,T]=v.useState(!1),[k,L]=v.useState(!1),N=s&&t&&(s.uid===t.authorId||s.email===t.authorEmail);if(!t)return C.jsx("div",{className:`snippet-detail empty ${i}`,children:C.jsx("div",{className:"snippet-detail-placeholder",children:C.jsx("p",{children:"Snippet not found"})})});const S=M=>{e&&e(M)},y=M=>{console.error("Copy failed in SnippetDetail:",M)},I=()=>{h(t.htmlContent),E(t.title),R(t.tags||[]),c(!0),a("code")},p=()=>{h(t.htmlContent),E(t.title),R(t.tags||[]),m(""),c(!1)},b=async()=>{if(!d.trim()||!f.trim()){alert("Title and content cannot be empty");return}T(!0);try{const M={...t,title:f.trim(),htmlContent:d.trim(),tags:A||[]};n&&await n(M),c(!1)}catch(M){console.error("Error saving snippet:",M),alert("Failed to save snippet. Please try again.")}finally{T(!1)}},P=async()=>{if(!k){L(!0),setTimeout(()=>L(!1),3e3);return}try{r&&await r(t.id)}catch(M){console.error("Error deleting snippet:",M),alert("Failed to delete snippet. Please try again.")}finally{L(!1)}},O=()=>{const M=w.trim();if(M){const j=Kg(M);!A.includes(j)&&A.length<10&&(R(W=>[...W,j]),m(""))}},B=M=>{R(j=>j.filter(W=>W!==M))},Y=M=>{M.key==="Enter"&&(M.preventDefault(),O())},H=PA(t.authorEmail),Z=kA(t.createdAt);return C.jsxs("div",{className:`snippet-detail ${i}`,children:[C.jsxs("div",{className:"snippet-detail-header",children:[C.jsxs("div",{className:"snippet-detail-title-section",children:[l?C.jsxs(C.Fragment,{children:[C.jsx("input",{type:"text",value:f,onChange:M=>E(M.target.value),className:"snippet-detail-title-input",placeholder:"Enter snippet title..."}),C.jsxs("div",{className:"snippet-detail-tags-edit",children:[C.jsxs("div",{className:"tags-input-container",children:[C.jsx("input",{type:"text",value:w,onChange:M=>m(M.target.value),onKeyPress:Y,placeholder:"Add a tag and press Enter...",className:"snippet-detail-tag-input",maxLength:50}),C.jsx("button",{type:"button",onClick:O,className:"add-tag-button",disabled:!w.trim()||A.length>=10,children:"Add"})]}),A.length>0&&C.jsx("div",{className:"tags-display",children:A.map((M,j)=>C.jsxs("span",{className:"tag-chip",children:[M,C.jsx("button",{type:"button",onClick:()=>B(M),className:"tag-remove","aria-label":`Remove ${M} tag`,children:"×"})]},j))}),C.jsxs("div",{className:"tags-help",children:[A.length,"/10 tags"]})]})]}):C.jsx("h1",{className:"snippet-detail-title",children:t.title}),C.jsxs("div",{className:"snippet-detail-meta",children:[C.jsxs("span",{className:"snippet-detail-author",children:["by ",C.jsx("strong",{children:H})]}),t.tags&&t.tags.length>0&&C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"snippet-detail-separator",children:"•"}),C.jsx("span",{className:"snippet-detail-tags-display",children:t.tags.join(" ")})]}),C.jsx("span",{className:"snippet-detail-separator",children:"•"}),C.jsx("span",{className:"snippet-detail-date",children:Z})]})]}),C.jsxs("div",{className:"snippet-detail-actions",children:[C.jsx(zA,{snippetId:t.id,initialVoteCount:t.voteCount||0,className:"snippet-detail-vote-button"}),C.jsx(BA,{text:l?d:t.htmlContent,size:"medium",onCopySuccess:S,onCopyError:y,className:"snippet-detail-copy-button"})]})]}),C.jsxs("div",{className:"snippet-detail-content",children:[C.jsxs("div",{className:"snippet-detail-tabs",children:[C.jsxs("div",{className:"tabs-left",children:[C.jsx("button",{className:`tab-button ${o==="preview"?"active":""}`,onClick:()=>a("preview"),children:"Live Preview"}),C.jsx("button",{className:`tab-button ${o==="code"?"active":""}`,onClick:()=>a("code"),children:"HTML Code"})]}),C.jsx("div",{className:"tabs-right",children:l?C.jsxs("div",{className:"edit-actions",children:[C.jsx("button",{onClick:b,disabled:_,className:"tab-button btn-save",children:_?"Saving...":"Save"}),C.jsx("button",{onClick:p,disabled:_,className:"tab-button btn-cancel",children:"Cancel"})]}):N&&C.jsxs("div",{className:"author-actions",children:[C.jsx("button",{onClick:P,className:`tab-button btn-delete ${k?"confirming":""}`,title:k?"Click again to confirm deletion":"Delete this snippet",children:k?"Confirm Delete":"Delete"}),C.jsx("button",{onClick:I,className:"tab-button",title:"Edit this snippet",children:"Edit"})]})})]}),C.jsxs("div",{className:"snippet-detail-tab-content",children:[o==="preview"&&C.jsx("div",{className:"tab-panel",children:C.jsx(WA,{htmlContent:l?d:t.htmlContent,height:400,className:"snippet-detail-preview"})}),o==="code"&&C.jsx("div",{className:"tab-panel",children:C.jsx("div",{className:"snippet-detail-code",children:l?C.jsx("textarea",{value:d,onChange:M=>h(M.target.value),className:"snippet-detail-editor",placeholder:"Enter your HTML code here...",rows:Math.max(20,d.split(`
`).length+2)}):C.jsx(Y5,{code:t.htmlContent,language:"markup",className:"snippet-detail-syntax"})})})]})]})]})},Z5=(t,e={})=>{const{minLength:n=1,maxLength:r=1/0,required:i=!0}=e,s=[];if(i&&(!t||typeof t!="string"))return s.push("Field is required and must be a string"),{isValid:!1,errors:s};if(!i&&t==null)return{isValid:!0,errors:[]};if(typeof t!="string")return s.push("Field must be a string"),{isValid:!1,errors:s};const o=t.trim();return i&&o.length===0&&s.push("Field cannot be empty"),o.length<n&&s.push(`Field must be at least ${n} characters long`),o.length>r&&s.push(`Field must be ${r} characters or less`),{isValid:s.length===0,errors:s}},e$=t=>{const e=[];if(!t||typeof t!="string")return e.push("HTML content is required and must be a string"),{isValid:!1,errors:e};t.trim().length===0&&e.push("HTML content cannot be empty");const r=[/javascript:/gi,/on\w+\s*=/gi];return[/document\s*\.\s*(write|createElement|appendChild|insertBefore|removeChild)/gi,/window\s*\.\s*(location|open|close|alert|confirm)/gi,/eval\s*\(/gi,/<script[^>]*src\s*=/gi,/fetch\s*\(/gi,/XMLHttpRequest/gi,/localStorage|sessionStorage/gi,/parent\s*\./gi,/top\s*\./gi].some(a=>a.test(t))&&e.push("Script content contains unsafe operations. Only DOM queries and manipulation within the snippet container are allowed."),r.some(a=>a.test(t))&&e.push("HTML content contains potentially unsafe elements"),{isValid:e.length===0,errors:e}},t$=({onSubmit:t,loading:e=!1,initialData:n=null})=>{const[r,i]=v.useState({title:(n==null?void 0:n.title)||"",htmlContent:(n==null?void 0:n.htmlContent)||"",tags:(n==null?void 0:n.tags)||[]}),[s,o]=v.useState({}),[a,l]=v.useState({}),[c,d]=v.useState(!1),[h,f]=v.useState(""),E=fr(),A=(y,I)=>{let p={isValid:!0,errors:[]};switch(y){case"title":p=Z5(I,{minLength:1,maxLength:200,required:!0});break;case"htmlContent":p=e$(I);break;case"tags":Array.isArray(I)?I.filter(P=>typeof P!="string"||P.length===0||P.length>50).length>0?p={isValid:!1,errors:["Tags must be 1-50 characters long"]}:I.length>10&&(p={isValid:!1,errors:["Maximum 10 tags allowed"]}):p={isValid:!1,errors:["Tags must be an array"]};break}return p},R=y=>{const{name:I,value:p}=y.target;i(b=>({...b,[I]:p})),s[I]&&o(b=>({...b,[I]:[]}))},w=y=>{const{name:I,value:p}=y.target;if(l(b=>({...b,[I]:!0})),c){const b=A(I,p);b.isValid?o(P=>({...P,[I]:[]})):o(P=>({...P,[I]:b.errors}))}},m=()=>{const y=h.trim();if(y){const I=Kg(y);!r.tags.includes(I)&&r.tags.length<10&&(i(p=>({...p,tags:[...p.tags,I]})),f(""),s.tags&&o(p=>({...p,tags:[]})))}},_=y=>{i(I=>({...I,tags:I.tags.filter(p=>p!==y)}))},T=y=>{y.key==="Enter"&&(y.preventDefault(),m())},k=()=>{const y={};let I=!0;return Object.keys(r).forEach(p=>{const b=A(p,r[p]);b.isValid||(y[p]=b.errors,I=!1)}),o(y),l({title:!0,htmlContent:!0}),I},L=y=>{y.preventDefault(),d(!0),k()&&t(r)},N=()=>{E(-1)},S=y=>c&&a[y]&&s[y]&&s[y].length>0?s[y][0]:null;return C.jsxs("form",{onSubmit:L,className:"snippet-form",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"title",className:"form-label",children:"Title *"}),C.jsx("input",{type:"text",id:"title",name:"title",value:r.title,onChange:R,onBlur:w,className:`form-input ${S("title")?"error":""}`,placeholder:"Enter a descriptive title for your snippet",disabled:e,maxLength:200}),S("title")&&C.jsx("span",{className:"error-message",children:S("title")}),C.jsxs("div",{className:"character-count",children:[r.title.length,"/200"]})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"htmlContent",className:"form-label",children:"HTML Content *"}),C.jsx("textarea",{id:"htmlContent",name:"htmlContent",value:r.htmlContent,onChange:R,onBlur:w,className:`form-textarea ${S("htmlContent")?"error":""}`,placeholder:"Paste your HTML code here...",disabled:e,rows:12}),S("htmlContent")&&C.jsx("span",{className:"error-message",children:S("htmlContent")})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"tags",className:"form-label",children:"Tags (Labels)"}),C.jsxs("div",{className:"tags-input-container",children:[C.jsx("input",{type:"text",id:"tags",value:h,onChange:y=>f(y.target.value),onKeyPress:T,placeholder:"Add a tag and press Enter...",className:"form-input",maxLength:50}),C.jsx("button",{type:"button",onClick:m,className:"add-tag-button",disabled:!h.trim()||r.tags.length>=10,children:"Add"})]}),r.tags.length>0&&C.jsx("div",{className:"tags-display",children:r.tags.map((y,I)=>C.jsxs("span",{className:"tag-chip",children:[y,C.jsx("button",{type:"button",onClick:()=>_(y),className:"tag-remove","aria-label":`Remove ${y} tag`,children:"×"})]},I))}),C.jsxs("div",{className:"tags-help",children:[r.tags.length,"/10 tags • Press Enter or click Add to add tags"]}),S("tags")&&C.jsx("span",{className:"error-message",children:S("tags")})]}),C.jsxs("div",{className:"form-actions",children:[C.jsx(Jn,{type:"button",variant:"secondary",onClick:N,disabled:e,children:"Cancel"}),C.jsx(Jn,{type:"submit",loading:e,loadingText:"Creating...",variant:"primary",size:"medium",children:"Create Snippet"})]})]})};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),FE=t=>{const e=r$(t);return e.charAt(0).toUpperCase()+e.slice(1)},eR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),i$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...s$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:eR("lucide",i),...!s&&!i$(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(o$,{ref:s,iconNode:e,className:eR(`lucide-${n$(FE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=FE(t),n};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],l$=tR("check",a$);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],c$=tR("list-filter",u$),VE=({selectedTags:t=[],onTagsChange:e,sortBy:n="popular",onSortChange:r,className:i=""})=>{const[s,o]=v.useState([]),[a,l]=v.useState(!0),[c,d]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const R=await U3();o(R)}catch(R){console.error("Error loading tags:",R)}finally{l(!1)}})()},[]);const h=A=>{const R=t.includes(A)?t.filter(w=>w!==A):[...t,A];e==null||e(R)},f=()=>{e==null||e([])},E=t.length>0;return C.jsxs(qC,{open:c,onOpenChange:d,children:[C.jsx(KC,{asChild:!0,children:C.jsxs("button",{className:`tag-filter-button ${E?"active":""} ${i}`,"aria-label":"Filter by tags",children:[C.jsx(c$,{size:16}),E&&C.jsx("span",{className:"tag-filter-badge",children:t.length})]})}),C.jsx(HC,{children:C.jsxs(GC,{className:"tag-filter-content",sideOffset:4,side:"left",align:"start",children:[C.jsx("div",{className:"tag-filter-header",children:C.jsx("span",{className:"tag-filter-title",children:"Sort By"})}),C.jsxs("div",{className:"tag-filter-sort-options",children:[C.jsx("button",{className:`tag-filter-sort-option ${n==="popular"?"active":""}`,onClick:()=>r==null?void 0:r("popular"),children:"Popular"}),C.jsx("button",{className:`tag-filter-sort-option ${n==="recent"?"active":""}`,onClick:()=>r==null?void 0:r("recent"),children:"Recent"})]}),C.jsxs("div",{className:"tag-filter-header",children:[C.jsx("span",{className:"tag-filter-title",children:"Filter by Tags"}),E&&C.jsx("button",{className:"tag-filter-clear",onClick:f,children:"Clear all"})]}),a?C.jsx("div",{className:"tag-filter-loading",children:"Loading tags..."}):!s||s.length===0?C.jsx("div",{className:"tag-filter-empty",children:"No tags available"}):C.jsx("div",{className:"tag-filter-list",children:s.map(A=>{const R=t.includes(A);return C.jsx(BD,{className:"tag-filter-item",checked:R,onCheckedChange:()=>h(A),onSelect:w=>w.preventDefault(),children:C.jsxs("div",{className:"tag-filter-item-content",children:[C.jsx("span",{className:"tag-filter-item-text",children:A}),C.jsx(zD,{className:"tag-filter-check",children:C.jsx(l$,{size:14})})]})},A)})}),C.jsx(WD,{className:"tag-filter-arrow"})]})})]})},d$=({size:t="medium",color:e="primary",className:n="",text:r="",inline:i=!1})=>{const s=["loading-spinner",`loading-spinner--${t}`,`loading-spinner--${e}`,i?"loading-spinner--inline":"",n].filter(Boolean).join(" "),o=["loading-spinner-container",i?"loading-spinner-container--inline":""].filter(Boolean).join(" ");return C.jsxs("div",{className:o,"data-testid":"loading-spinner",children:[C.jsx("div",{className:s,"aria-label":"Loading",role:"status",children:C.jsx("span",{className:"sr-only",children:"Loading..."})}),r&&C.jsx("div",{className:"loading-spinner-text","data-testid":"loading-text",children:r})]})},Jn=({loading:t=!1,loadingText:e="Loading...",children:n,disabled:r=!1,variant:i="primary",size:s="medium",className:o="",onClick:a,type:l="button",...c})=>{const d=["loading-button",`loading-button--${i}`,`loading-button--${s}`,t?"loading-button--loading":"",o].filter(Boolean).join(" "),h=r||t,f=()=>i==="secondary"?"secondary":"white";return C.jsx("button",{type:l,className:d,disabled:h,onClick:a,"aria-disabled":h,"data-testid":"loading-button",...c,children:t?C.jsxs("div",{className:"loading-button-content",children:[C.jsx(d$,{size:"small",color:f(),inline:!0}),C.jsx("span",{children:e})]}):n})},ad=({count:t=1,variant:e="snippet",className:n=""})=>{const r=Array.from({length:t},(i,s)=>C.jsxs("div",{className:`loading-card loading-card--${e} ${n}`,children:[e==="snippet"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"loading-card-header",children:[C.jsx("div",{className:"skeleton skeleton--title"}),C.jsx("div",{className:"skeleton skeleton--actions"})]}),C.jsx("div",{className:"loading-card-content",children:C.jsx("div",{className:"skeleton skeleton--preview-text"})}),C.jsxs("div",{className:"loading-card-footer",children:[C.jsx("div",{className:"skeleton skeleton--author"}),C.jsx("div",{className:"skeleton skeleton--date"})]})]}),e==="list"&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"skeleton skeleton--list-title"}),C.jsx("div",{className:"skeleton skeleton--list-content"}),C.jsx("div",{className:"skeleton skeleton--list-meta"})]}),e==="detail"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"loading-card-detail-header",children:[C.jsx("div",{className:"skeleton skeleton--detail-title"}),C.jsx("div",{className:"skeleton skeleton--detail-meta"})]}),C.jsxs("div",{className:"loading-card-detail-content",children:[C.jsx("div",{className:"skeleton skeleton--detail-code"}),C.jsx("div",{className:"skeleton skeleton--detail-preview"})]}),C.jsxs("div",{className:"loading-card-detail-actions",children:[C.jsx("div",{className:"skeleton skeleton--button"}),C.jsx("div",{className:"skeleton skeleton--button"})]})]})]},s));return t===1?r[0]:C.jsx("div",{className:"loading-cards-container",children:r})};function nR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var h$=["color"],f$=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=nR(t,h$);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),v.createElement("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),p$=["color"],_$=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=nR(t,p$);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),v.createElement("path",{d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});class Gf extends Tn.Component{constructor(n){super(n);Lh(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onRetry&&this.props.onRetry()});Lh(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({error:n,errorInfo:r}),this.props.onError&&this.props.onError(n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.handleRetry):C.jsx("div",{className:"error-boundary",children:C.jsx(Fc,{className:"error-boundary-card",children:C.jsxs(qr,{direction:"column",align:"center",gap:"4",children:[C.jsx(f$,{className:"error-boundary-icon",width:"48",height:"48"}),C.jsx(qS,{size:"6",className:"error-boundary-title",children:"Something went wrong"}),C.jsx(an,{size:"3",color:"gray",align:"center",className:"error-boundary-message",children:this.props.message||"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),!1,C.jsxs(qr,{gap:"3",className:"error-boundary-actions",children:[C.jsxs(Ga,{variant:"soft",onClick:this.handleRetry,className:"error-boundary-retry",children:[C.jsx(_$,{width:"16",height:"16"}),"Try Again"]}),C.jsx(Ga,{variant:"outline",onClick:this.handleReload,className:"error-boundary-reload",children:"Reload Page"})]})]})})}):this.props.children}}function m$(){const{user:t,isAuthenticated:e}=mr(),n=ui(),r=i=>i==="/"?n.pathname==="/":n.pathname.startsWith(i);return C.jsx("nav",{className:"navigation",children:C.jsxs("div",{className:"navigation__container",children:[C.jsx("div",{className:"navigation__brand",children:C.jsx(sa,{to:"/",className:"navigation__brand-link",children:C.jsx("div",{className:"title",children:C.jsx("h3",{children:"Snippet Library"})})})}),C.jsxs("div",{className:"navigation__links",children:[C.jsx(sa,{to:"/snippets",className:`navigation__link ${r("/snippets")?"navigation__link--active":""}`,children:"Browse Snippets"}),e&&C.jsx(sa,{to:"/create",className:`navigation__link navigation__link--primary ${r("/create")?"navigation__link--active":""}`,children:"Create Snippet"})]}),C.jsx("div",{className:"navigation__auth",children:e?C.jsx(L5,{}):C.jsx(sa,{to:"/login",className:"navigation__login-btn",children:"Sign In"})})]})})}function g$({children:t}){return C.jsxs("div",{className:"app-layout",children:[C.jsx(m$,{}),C.jsx("main",{className:"app-layout__main",children:t||C.jsx(nM,{})})]})}function On({children:t,className:e="",maxWidth:n="default",padding:r="default"}){const i=["page-container",`page-container--max-width-${n}`,`page-container--padding-${r}`,e].filter(Boolean).join(" ");return C.jsx("div",{className:i,children:t})}const v$=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState(null),{isAuthenticated:o}=mr(),a=fr();v.useEffect(()=>{(async()=>{try{r(!0),s(null);const h=await $3(6);e(h)}catch(h){console.error("Error fetching top snippets:",h),s("Failed to load top snippets")}finally{r(!1)}})()},[]);const l=()=>{a(o?"/create":"/login")},c=d=>{a(`/snippets/${d.id}`)};return n?C.jsx(On,{children:C.jsxs("div",{className:"landing-page",children:[C.jsx("div",{class:"snippet-list-title",children:"Top Snippets"}),C.jsx("div",{className:"featured-snippets-section",children:C.jsx("div",{className:"snippets-grid",children:C.jsx(ad,{variant:"snippet",count:4})})})]})}):C.jsxs(On,{children:[C.jsxs("div",{className:"landing-page",children:[C.jsx("div",{class:"snippet-list-title",children:"Top Snippets"}),C.jsxs("div",{className:"featured-snippets-section",children:[i&&C.jsx("div",{className:"error-message","data-testid":"error-message",children:i}),t.length===0&&!i?C.jsx("div",{className:"empty-state","data-testid":"empty-state",children:C.jsx(Jn,{variant:"secondary",size:"medium",onClick:l,children:"Create the First Snippet"})}):i?null:C.jsx("div",{className:"snippets-grid","data-testid":"snippets-grid",children:t.map(d=>C.jsx(qA,{snippet:d,onClick:c,showVoteCount:!0,livePreview:!0},d.id))})]})]}),t.length>0&&C.jsx("div",{className:"view-all-link",children:C.jsx(sa,{to:"/snippets",className:"link",children:"View All Snippets"})})]})},Mu=12,y$=()=>{const[t,e]=v.useState([]),[n,r]=v.useState([]),[i,s]=v.useState(!0),[o,a]=v.useState(null),[l,c]=v.useState(1),[d,h]=v.useState(!1),[f,E]=v.useState(null),[A,R]=v.useState([]),[w,m]=v.useState("popular"),_=fr(),T=async(b=1,P=null,O=w)=>{try{s(!0),a(null);const B=O==="recent"?"createdAt":"voteCount",Y={orderByField:B,orderDirection:"desc",limitCount:Mu+1};P!==null&&b>1&&(Y.whereConditions=[{field:B,operator:"<=",value:P}]);const H=await sd(Y);if(b===1){const j=await sd({orderByField:B,orderDirection:"desc"});r(j)}const Z=H.length>Mu,M=Z?H.slice(0,Mu):H;if(e(b===1?M:j=>[...j,...M]),h(Z),M.length>0){const j=M[M.length-1];E(j[B])}}catch(B){console.error("Error loading snippets:",B),a("Failed to load snippets. Please try again.")}finally{s(!1)}};v.useEffect(()=>{T(1)},[]);const k=b=>{_(`/snippets/${b.id}`)},L=()=>{if(!i&&d&&f){const b=l+1;c(b),T(b,f,w)}},N=()=>{c(1),e([]),r([]),E(null),T(1)},S=b=>{R(b)},y=b=>{b!==w&&(m(b),c(1),e([]),r([]),E(null),T(1,null,b))},p=A.length===0?t:n.filter(P=>!P.tags||P.tags.length===0?!1:A.some(O=>P.tags.includes(O)));return i&&t.length===0?C.jsx(On,{children:C.jsxs("div",{className:"snippet-list-page",children:[C.jsx("div",{className:"snippet-list-controls",children:C.jsx("div",{className:"snippet-list-filters",children:C.jsx(VE,{selectedTags:A,onTagsChange:S,sortBy:w,onSortChange:y,className:"snippet-list-tag-filter"})})}),C.jsx("div",{className:"snippet-list-grid",children:C.jsx(ad,{variant:"snippet",count:Mu})}),C.jsx("div",{className:"loading-status",children:"Loading snippets..."})]})}):o&&t.length===0?C.jsx(On,{children:C.jsx("div",{className:"snippet-list-page",children:C.jsxs("div",{className:"snippet-list-error",children:[C.jsx("div",{className:"error-icon",children:"⚠️"}),C.jsx("h2",{children:"Oops! Something went wrong"}),C.jsx("p",{children:o}),C.jsx("button",{className:"retry-button",onClick:N,children:"Try Again"})]})})}):C.jsx(On,{children:C.jsxs("div",{className:"snippet-list-page",children:[C.jsx("div",{className:"snippet-list-controls",children:C.jsx("div",{className:"snippet-list-filters",children:C.jsx(VE,{selectedTags:A,onTagsChange:S,sortBy:w,onSortChange:y,className:"snippet-list-tag-filter"})})}),t.length===0&&!i?C.jsxs("div",{className:"snippet-list-empty",children:[C.jsx("h2",{children:"No snippets yet"}),C.jsx("p",{children:"Be the first to share an HTML snippet with the community!"}),C.jsx("button",{className:"create-snippet-button",onClick:()=>_("/create"),children:"Create First Snippet"})]}):p.length===0&&A.length>0?C.jsxs("div",{className:"snippet-list-empty",children:[C.jsx("h2",{children:"No snippets found"}),C.jsx("button",{className:"create-snippet-button",onClick:()=>_("/create"),children:"Create New Snippet"})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"snippet-list-grid",children:[p.map(b=>C.jsx(qA,{snippet:b,onClick:k,className:"snippet-list-card",livePreview:!0},b.id)),i&&l>1&&C.jsx(ad,{variant:"snippet",count:6})]}),A.length===0&&d&&C.jsx("div",{className:"snippet-list-pagination",children:C.jsx(Jn,{onClick:L,loading:i,loadingText:"Loading more...",variant:"primary",size:"medium",children:"Load More Snippets"})}),A.length===0&&!d&&t.length>0&&C.jsxs("div",{className:"snippet-list-end",children:[C.jsx("p",{children:"You've reached the end! 🎉"}),C.jsxs("p",{children:[C.jsx("button",{className:"create-snippet-link",onClick:()=>_("/create"),children:"Create a new snippet"})," ","to add more content."]})]})]}),o&&t.length>0&&C.jsxs("div",{className:"snippet-list-error-inline",children:[C.jsx("p",{children:"Failed to load more snippets. "}),C.jsx("button",{className:"retry-link",onClick:L,children:"Try again"})]})]})})},w$=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(null),{user:i}=mr(),s=fr(),o=async a=>{if(!i){r("You must be logged in to create a snippet");return}e(!0),r(null);try{const l=new Io({title:a.title.trim(),htmlContent:a.htmlContent.trim(),authorId:i.uid,authorEmail:i.email,voteCount:0,tags:a.tags||[]}),c=await M3(l);s(`/snippets/${c}`)}catch(l){console.error("Error creating snippet:",l),r(l.message||"Failed to create snippet. Please try again.")}finally{e(!1)}};return C.jsx(On,{maxWidth:"narrow",children:C.jsxs("div",{className:"create-snippet-page",children:[C.jsx("div",{className:"page-header"}),n&&C.jsx("div",{className:"error-banner",children:C.jsxs("div",{className:"error-content",children:[C.jsx("span",{className:"error-icon",children:"⚠️"}),C.jsx("span",{className:"error-text",children:n}),C.jsx("button",{className:"error-dismiss",onClick:()=>r(null),"aria-label":"Dismiss error",children:"×"})]})}),C.jsxs("div",{className:"form-container",children:[C.jsx(t$,{onSubmit:o,loading:t}),C.jsx("div",{className:"form-footer"})]})]})})},E$=()=>{const{id:t}=$L(),e=fr(),[n,r]=v.useState(null),[i,s]=v.useState(!0),[o,a]=v.useState(null);v.useEffect(()=>{(async()=>{if(!t){a("No snippet ID provided"),s(!1);return}try{s(!0),a(null);const E=await F3(t);E?r(E):(a("Snippet not found"),r(null))}catch(E){console.error("Error loading snippet:",E),a("Failed to load snippet. Please try again."),r(null)}finally{s(!1)}})()},[t]);const l=async f=>{try{return await navigator.clipboard.writeText(f),Promise.resolve()}catch(E){return console.error("Failed to copy to clipboard:",E),Promise.reject(E)}},c=async f=>{try{const E={title:f.title,htmlContent:f.htmlContent,tags:f.tags||[]};await V3(n.id,E),r({...n,...E,updatedAt:new Date().toISOString()}),console.log("Snippet updated successfully")}catch(E){throw console.error("Error updating snippet:",E),E}},d=async f=>{try{await j3(f),console.log("Snippet deleted successfully"),e("/snippets")}catch(E){throw console.error("Error deleting snippet:",E),E}},h=()=>e(-1);return i?C.jsx(On,{children:C.jsx("div",{className:"snippet-detail-page",children:C.jsxs("div",{className:"snippet-detail-container",children:[C.jsx("div",{className:"snippet-detail-navigation",children:C.jsx(Jn,{variant:"secondary",disabled:!0,children:"← Back"})}),C.jsx(ad,{variant:"detail"})]})})}):o?C.jsx(On,{children:C.jsx("div",{className:"snippet-detail-page",children:C.jsx("div",{className:"snippet-detail-container",children:C.jsxs("div",{className:"snippet-detail-error",children:[C.jsx("h2",{children:"Error"}),C.jsx("p",{children:o}),C.jsxs("div",{className:"error-actions",children:[C.jsx(Jn,{variant:"secondary",onClick:h,children:"Go Back"}),C.jsx(Jn,{variant:"primary",onClick:()=>window.location.reload(),children:"Try Again"})]})]})})})}):C.jsx(On,{children:C.jsx("div",{className:"snippet-detail-page",children:C.jsxs("div",{className:"snippet-detail-container",children:[C.jsx("div",{className:"snippet-detail-navigation",children:C.jsx(Jn,{variant:"secondary",onClick:h,children:"← Back"})}),C.jsx(J5,{snippet:n,onCopy:l,onUpdate:c,onDelete:d,className:"snippet-detail-main"})]})})})},T$=()=>{var o,a;const{user:t,loading:e}=mr(),n=fr(),i=((a=(o=ui().state)==null?void 0:o.from)==null?void 0:a.pathname)||"/";if(v.useEffect(()=>{t&&!e&&n(i,{replace:!0})},[t,e,n,i]),t)return null;const s=()=>{};return C.jsx(On,{maxWidth:"narrow",padding:"spacious",children:C.jsx(qr,{direction:"column",gap:"6",align:"center",children:C.jsx(O5,{onSuccess:s})})})};function S$(){return C.jsxs(iM,{children:[C.jsx(cs,{path:"/",element:C.jsx(v$,{})}),C.jsx(cs,{path:"/snippets",element:C.jsx(y$,{})}),C.jsx(cs,{path:"/snippets/:id",element:C.jsx(E$,{})}),C.jsx(cs,{path:"/create",element:C.jsx(D5,{children:C.jsx(w$,{})})}),C.jsx(cs,{path:"/login",element:C.jsx(T$,{})})]})}function C$(){return v.useEffect(()=>(document.body.classList.add("dark","dark-theme"),document.body.classList.remove("light","light-theme"),()=>{document.body.classList.remove("dark","dark-theme")}),[]),C.jsx(Gf,{children:C.jsx(q3,{children:C.jsx(dM,{children:C.jsx(Gf,{message:"Something went wrong with the navigation. Please try refreshing the page.",children:C.jsx(g$,{children:C.jsx(Gf,{message:"There was an error loading this page. Please try again.",children:C.jsx(S$,{})})})})})})})}Qf.createRoot(document.getElementById("root")).render(C.jsx(Tn.StrictMode,{children:C.jsx(VS,{appearance:"dark",accentColor:"gray",grayColor:"blue",radius:"medium",scaling:"100%",children:C.jsx(C$,{})})}));
