var cR=Object.defineProperty;var dR=(t,e,n)=>e in t?cR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wh=(t,e,n)=>dR(t,typeof e!="symbol"?e+"":e,n);function hR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NE={exports:{}},Gc={},bE={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),fR=Symbol.for("react.portal"),pR=Symbol.for("react.fragment"),mR=Symbol.for("react.strict_mode"),gR=Symbol.for("react.profiler"),vR=Symbol.for("react.provider"),yR=Symbol.for("react.context"),_R=Symbol.for("react.forward_ref"),wR=Symbol.for("react.suspense"),ER=Symbol.for("react.memo"),TR=Symbol.for("react.lazy"),_y=Symbol.iterator;function IR(t){return t===null||typeof t!="object"?null:(t=_y&&t[_y]||t["@@iterator"],typeof t=="function"?t:null)}var DE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OE=Object.assign,ME={};function lo(t,e,n){this.props=t,this.context=e,this.refs=ME,this.updater=n||DE}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LE(){}LE.prototype=lo.prototype;function Yp(t,e,n){this.props=t,this.context=e,this.refs=ME,this.updater=n||DE}var Xp=Yp.prototype=new LE;Xp.constructor=Yp;OE(Xp,lo.prototype);Xp.isPureReactComponent=!0;var wy=Array.isArray,FE=Object.prototype.hasOwnProperty,Jp={current:null},VE={key:!0,ref:!0,__self:!0,__source:!0};function jE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)FE.call(e,r)&&!VE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ol,type:t,key:s,ref:o,props:i,_owner:Jp.current}}function SR(t,e){return{$$typeof:ol,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ol}function CR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ey=/\/+/g;function Eh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CR(""+t.key):e.toString(36)}function Cu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ol:case fR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Eh(o,0):r,wy(i)?(n="",t!=null&&(n=t.replace(Ey,"$&/")+"/"),Cu(i,e,n,"",function(c){return c})):i!=null&&(Zp(i)&&(i=SR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ey,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",wy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Eh(s,a);o+=Cu(s,e,n,l,i)}else if(l=IR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Eh(s,a++),o+=Cu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yl(t,e,n){if(t==null)return t;var r=[],i=0;return Cu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function AR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},Au={transition:null},xR={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Au,ReactCurrentOwner:Jp};function $E(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Yl,forEach:function(t,e,n){Yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yl(t,function(){e++}),e},toArray:function(t){return Yl(t,function(e){return e})||[]},only:function(t){if(!Zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=lo;se.Fragment=pR;se.Profiler=gR;se.PureComponent=Yp;se.StrictMode=mR;se.Suspense=wR;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xR;se.act=$E;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)FE.call(e,l)&&!VE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ol,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:yR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vR,_context:t},t.Consumer=t};se.createElement=jE;se.createFactory=function(t){var e=jE.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:_R,render:t}};se.isValidElement=Zp;se.lazy=function(t){return{$$typeof:TR,_payload:{_status:-1,_result:t},_init:AR}};se.memo=function(t,e){return{$$typeof:ER,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Au.transition;Au.transition={};try{t()}finally{Au.transition=e}};se.unstable_act=$E;se.useCallback=function(t,e){return Ct.current.useCallback(t,e)};se.useContext=function(t){return Ct.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};se.useEffect=function(t,e){return Ct.current.useEffect(t,e)};se.useId=function(){return Ct.current.useId()};se.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ct.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};se.useRef=function(t){return Ct.current.useRef(t)};se.useState=function(t){return Ct.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ct.current.useTransition()};se.version="18.3.1";bE.exports=se;var m=bE.exports;const En=qc(m),Kc=hR({__proto__:null,default:En},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR=m,PR=Symbol.for("react.element"),kR=Symbol.for("react.fragment"),NR=Object.prototype.hasOwnProperty,bR=RR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DR={key:!0,ref:!0,__self:!0,__source:!0};function UE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NR.call(e,r)&&!DR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PR,type:t,key:s,ref:o,props:i,_owner:bR.current}}Gc.Fragment=kR;Gc.jsx=UE;Gc.jsxs=UE;NE.exports=Gc;var w=NE.exports,wf={},BE={exports:{}},qt={},zE={exports:{}},WE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,$){var H=V.length;V.push($);e:for(;0<H;){var te=H-1>>>1,Y=V[te];if(0<i(Y,$))V[te]=$,V[H]=Y,H=te;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var $=V[0],H=V.pop();if(H!==$){V[0]=H;e:for(var te=0,Y=V.length,pe=Y>>>1;te<pe;){var Ie=2*(te+1)-1,je=V[Ie],Ne=Ie+1,Se=V[Ne];if(0>i(je,H))Ne<Y&&0>i(Se,je)?(V[te]=Se,V[Ne]=H,te=Ne):(V[te]=je,V[Ie]=H,te=Ie);else if(Ne<Y&&0>i(Se,H))V[te]=Se,V[Ne]=H,te=Ne;else break e}}return $}function i(V,$){var H=V.sortIndex-$.sortIndex;return H!==0?H:V.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,_=!1,A=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(V){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=V)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function P(V){if(T=!1,y(V),!A)if(n(l)!==null)A=!0,ie(D);else{var $=n(c);$!==null&&oe(P,$.startTime-V)}}function D(V,$){A=!1,T&&(T=!1,E(I),I=-1),_=!0;var H=p;try{for(y($),h=n(l);h!==null&&(!(h.expirationTime>$)||V&&!b());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var Y=te(h.expirationTime<=$);$=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&r(l),y($)}else r(l);h=n(l)}if(h!==null)var pe=!0;else{var Ie=n(c);Ie!==null&&oe(P,Ie.startTime-$),pe=!1}return pe}finally{h=null,p=H,_=!1}}var M=!1,C=null,I=-1,x=5,R=-1;function b(){return!(t.unstable_now()-R<x)}function O(){if(C!==null){var V=t.unstable_now();R=V;var $=!0;try{$=C(!0,V)}finally{$?N():(M=!1,C=null)}}else M=!1}var N;if(typeof g=="function")N=function(){g(O)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ge=Z.port2;Z.port1.onmessage=O,N=function(){ge.postMessage(null)}}else N=function(){S(O,0)};function ie(V){C=V,M||(M=!0,N())}function oe(V,$){I=S(function(){V(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){A||_||(A=!0,ie(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var H=p;p=$;try{return V()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var H=p;p=V;try{return $()}finally{p=H}},t.unstable_scheduleCallback=function(V,$,H){var te=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?te+H:te):H=te,V){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,V={id:d++,callback:$,priorityLevel:V,startTime:H,expirationTime:Y,sortIndex:-1},H>te?(V.sortIndex=H,e(c,V),n(l)===null&&V===n(c)&&(T?(E(I),I=-1):T=!0,oe(P,H-te))):(V.sortIndex=Y,e(l,V),A||_||(A=!0,ie(D))),V},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(V){var $=p;return function(){var H=p;p=$;try{return V.apply(this,arguments)}finally{p=H}}}})(WE);zE.exports=WE;var OR=zE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR=m,Ht=OR;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HE=new Set,Ta={};function Bi(t,e){Us(t,e),Us(t+"Capture",e)}function Us(t,e){for(Ta[t]=e,t=0;t<e.length;t++)HE.add(e[t])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ef=Object.prototype.hasOwnProperty,LR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ty={},Iy={};function FR(t){return Ef.call(Iy,t)?!0:Ef.call(Ty,t)?!1:LR.test(t)?Iy[t]=!0:(Ty[t]=!0,!1)}function VR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jR(t,e,n,r){if(e===null||typeof e>"u"||VR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var em=/[\-:]([a-z])/g;function tm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(em,tm);st[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(em,tm);st[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(em,tm);st[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function nm(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jR(e,n,i,r)&&(n=null),r||i===null?FR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=MR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xl=Symbol.for("react.element"),ps=Symbol.for("react.portal"),ms=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),Tf=Symbol.for("react.profiler"),qE=Symbol.for("react.provider"),GE=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),sm=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),KE=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function jo(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,Th;function Yo(t){if(Th===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Th=e&&e[1]||""}return`
`+Th+t}var Ih=!1;function Sh(t,e){if(!t||Ih)return"";Ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ih=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yo(t):""}function $R(t){switch(t.tag){case 5:return Yo(t.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return t=Sh(t.type,!1),t;case 11:return t=Sh(t.type.render,!1),t;case 1:return t=Sh(t.type,!0),t;default:return""}}function Cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ms:return"Fragment";case ps:return"Portal";case Tf:return"Profiler";case rm:return"StrictMode";case If:return"Suspense";case Sf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GE:return(t.displayName||"Context")+".Consumer";case qE:return(t._context.displayName||"Context")+".Provider";case im:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sm:return e=t.displayName||null,e!==null?e:Cf(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return Cf(t(e))}catch{}}return null}function UR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(e);case 8:return e===rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BR(t){var e=QE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jl(t){t._valueTracker||(t._valueTracker=BR(t))}function YE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Af(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XE(t,e){e=e.checked,e!=null&&nm(t,"checked",e,!1)}function xf(t,e){XE(t,e);var n=qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rf(t,e.type,qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ay(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rf(t,e,n){(e!=="number"||Qu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xo=Array.isArray;function Rs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Xo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qr(n)}}function JE(t,e){var n=qr(e.value),r=qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ry(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zl,e0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zl=Zl||document.createElement("div"),Zl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zR=["Webkit","ms","Moz","O"];Object.keys(oa).forEach(function(t){zR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oa[e]=oa[t]})});function t0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oa.hasOwnProperty(t)&&oa[t]?(""+e).trim():e+"px"}function n0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=t0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WR=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nf(t,e){if(e){if(WR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=null;function om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Of=null,Ps=null,ks=null;function Py(t){if(t=ul(t)){if(typeof Of!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Zc(e),Of(t.stateNode,t.type,e))}}function r0(t){Ps?ks?ks.push(t):ks=[t]:Ps=t}function i0(){if(Ps){var t=Ps,e=ks;if(ks=Ps=null,Py(t),e)for(t=0;t<e.length;t++)Py(e[t])}}function s0(t,e){return t(e)}function o0(){}var Ch=!1;function a0(t,e,n){if(Ch)return t(e,n);Ch=!0;try{return s0(t,e,n)}finally{Ch=!1,(Ps!==null||ks!==null)&&(o0(),i0())}}function Sa(t,e){var n=t.stateNode;if(n===null)return null;var r=Zc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Mf=!1;if(Zn)try{var $o={};Object.defineProperty($o,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{Mf=!1}function HR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var aa=!1,Yu=null,Xu=!1,Lf=null,qR={onError:function(t){aa=!0,Yu=t}};function GR(t,e,n,r,i,s,o,a,l){aa=!1,Yu=null,HR.apply(qR,arguments)}function KR(t,e,n,r,i,s,o,a,l){if(GR.apply(this,arguments),aa){if(aa){var c=Yu;aa=!1,Yu=null}else throw Error(B(198));Xu||(Xu=!0,Lf=c)}}function zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function l0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ky(t){if(zi(t)!==t)throw Error(B(188))}function QR(t){var e=t.alternate;if(!e){if(e=zi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ky(i),t;if(s===r)return ky(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function u0(t){return t=QR(t),t!==null?c0(t):null}function c0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=c0(t);if(e!==null)return e;t=t.sibling}return null}var d0=Ht.unstable_scheduleCallback,Ny=Ht.unstable_cancelCallback,YR=Ht.unstable_shouldYield,XR=Ht.unstable_requestPaint,Me=Ht.unstable_now,JR=Ht.unstable_getCurrentPriorityLevel,am=Ht.unstable_ImmediatePriority,h0=Ht.unstable_UserBlockingPriority,Ju=Ht.unstable_NormalPriority,ZR=Ht.unstable_LowPriority,f0=Ht.unstable_IdlePriority,Qc=null,Cn=null;function eP(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Qc,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:rP,tP=Math.log,nP=Math.LN2;function rP(t){return t>>>=0,t===0?32:31-(tP(t)/nP|0)|0}var eu=64,tu=4194304;function Jo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Jo(a):(s&=o,s!==0&&(r=Jo(s)))}else o=n&~i,o!==0?r=Jo(o):s!==0&&(r=Jo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cn(e),i=1<<n,r|=t[n],e&=~i;return r}function iP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=iP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p0(){var t=eu;return eu<<=1,!(eu&4194240)&&(eu=64),t}function Ah(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function al(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cn(e),t[e]=n}function oP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function lm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var me=0;function m0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g0,um,v0,y0,_0,Vf=!1,nu=[],br=null,Dr=null,Or=null,Ca=new Map,Aa=new Map,Er=[],aP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function by(t,e){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(e.pointerId)}}function Uo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ul(e),e!==null&&um(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lP(t,e,n,r,i){switch(e){case"focusin":return br=Uo(br,t,e,n,r,i),!0;case"dragenter":return Dr=Uo(Dr,t,e,n,r,i),!0;case"mouseover":return Or=Uo(Or,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ca.set(s,Uo(Ca.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Aa.set(s,Uo(Aa.get(s)||null,t,e,n,r,i)),!0}return!1}function w0(t){var e=wi(t.target);if(e!==null){var n=zi(e);if(n!==null){if(e=n.tag,e===13){if(e=l0(n),e!==null){t.blockedOn=e,_0(t.priority,function(){v0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Df=r,n.target.dispatchEvent(r),Df=null}else return e=ul(n),e!==null&&um(e),t.blockedOn=n,!1;e.shift()}return!0}function Dy(t,e,n){xu(t)&&n.delete(e)}function uP(){Vf=!1,br!==null&&xu(br)&&(br=null),Dr!==null&&xu(Dr)&&(Dr=null),Or!==null&&xu(Or)&&(Or=null),Ca.forEach(Dy),Aa.forEach(Dy)}function Bo(t,e){t.blockedOn===e&&(t.blockedOn=null,Vf||(Vf=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,uP)))}function xa(t){function e(i){return Bo(i,t)}if(0<nu.length){Bo(nu[0],t);for(var n=1;n<nu.length;n++){var r=nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(br!==null&&Bo(br,t),Dr!==null&&Bo(Dr,t),Or!==null&&Bo(Or,t),Ca.forEach(e),Aa.forEach(e),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)w0(n),n.blockedOn===null&&Er.shift()}var Ns=ur.ReactCurrentBatchConfig,ec=!0;function cP(t,e,n,r){var i=me,s=Ns.transition;Ns.transition=null;try{me=1,cm(t,e,n,r)}finally{me=i,Ns.transition=s}}function dP(t,e,n,r){var i=me,s=Ns.transition;Ns.transition=null;try{me=4,cm(t,e,n,r)}finally{me=i,Ns.transition=s}}function cm(t,e,n,r){if(ec){var i=jf(t,e,n,r);if(i===null)Lh(t,e,r,tc,n),by(t,r);else if(lP(i,t,e,n,r))r.stopPropagation();else if(by(t,r),e&4&&-1<aP.indexOf(t)){for(;i!==null;){var s=ul(i);if(s!==null&&g0(s),s=jf(t,e,n,r),s===null&&Lh(t,e,r,tc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lh(t,e,r,null,n)}}var tc=null;function jf(t,e,n,r){if(tc=null,t=om(r),t=wi(t),t!==null)if(e=zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=l0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tc=t,null}function E0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JR()){case am:return 1;case h0:return 4;case Ju:case ZR:return 16;case f0:return 536870912;default:return 16}default:return 16}}var xr=null,dm=null,Ru=null;function T0(){if(Ru)return Ru;var t,e=dm,n=e.length,r,i="value"in xr?xr.value:xr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ru=i.slice(t,1<r?1-r:void 0)}function Pu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ru(){return!0}function Oy(){return!1}function Gt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ru:Oy,this.isPropagationStopped=Oy,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ru)},persist:function(){},isPersistent:ru}),e}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hm=Gt(uo),ll=Pe({},uo,{view:0,detail:0}),hP=Gt(ll),xh,Rh,zo,Yc=Pe({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(xh=t.screenX-zo.screenX,Rh=t.screenY-zo.screenY):Rh=xh=0,zo=t),xh)},movementY:function(t){return"movementY"in t?t.movementY:Rh}}),My=Gt(Yc),fP=Pe({},Yc,{dataTransfer:0}),pP=Gt(fP),mP=Pe({},ll,{relatedTarget:0}),Ph=Gt(mP),gP=Pe({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),vP=Gt(gP),yP=Pe({},uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_P=Gt(yP),wP=Pe({},uo,{data:0}),Ly=Gt(wP),EP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IP[t])?!!e[t]:!1}function fm(){return SP}var CP=Pe({},ll,{key:function(t){if(t.key){var e=EP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(t){return t.type==="keypress"?Pu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AP=Gt(CP),xP=Pe({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=Gt(xP),RP=Pe({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),PP=Gt(RP),kP=Pe({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),NP=Gt(kP),bP=Pe({},Yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DP=Gt(bP),OP=[9,13,27,32],pm=Zn&&"CompositionEvent"in window,la=null;Zn&&"documentMode"in document&&(la=document.documentMode);var MP=Zn&&"TextEvent"in window&&!la,I0=Zn&&(!pm||la&&8<la&&11>=la),Vy=" ",jy=!1;function S0(t,e){switch(t){case"keyup":return OP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gs=!1;function LP(t,e){switch(t){case"compositionend":return C0(e);case"keypress":return e.which!==32?null:(jy=!0,Vy);case"textInput":return t=e.data,t===Vy&&jy?null:t;default:return null}}function FP(t,e){if(gs)return t==="compositionend"||!pm&&S0(t,e)?(t=T0(),Ru=dm=xr=null,gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I0&&e.locale!=="ko"?null:e.data;default:return null}}var VP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VP[t.type]:e==="textarea"}function A0(t,e,n,r){r0(r),e=nc(e,"onChange"),0<e.length&&(n=new hm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ua=null,Ra=null;function jP(t){F0(t,0)}function Xc(t){var e=_s(t);if(YE(e))return t}function $P(t,e){if(t==="change")return e}var x0=!1;if(Zn){var kh;if(Zn){var Nh="oninput"in document;if(!Nh){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),Nh=typeof Uy.oninput=="function"}kh=Nh}else kh=!1;x0=kh&&(!document.documentMode||9<document.documentMode)}function By(){ua&&(ua.detachEvent("onpropertychange",R0),Ra=ua=null)}function R0(t){if(t.propertyName==="value"&&Xc(Ra)){var e=[];A0(e,Ra,t,om(t)),a0(jP,e)}}function UP(t,e,n){t==="focusin"?(By(),ua=e,Ra=n,ua.attachEvent("onpropertychange",R0)):t==="focusout"&&By()}function BP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xc(Ra)}function zP(t,e){if(t==="click")return Xc(e)}function WP(t,e){if(t==="input"||t==="change")return Xc(e)}function HP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:HP;function Pa(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ef.call(e,i)||!hn(t[i],e[i]))return!1}return!0}function zy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wy(t,e){var n=zy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zy(n)}}function P0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function k0(){for(var t=window,e=Qu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qu(t.document)}return e}function mm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qP(t){var e=k0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P0(n.ownerDocument.documentElement,n)){if(r!==null&&mm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Wy(n,s);var o=Wy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GP=Zn&&"documentMode"in document&&11>=document.documentMode,vs=null,$f=null,ca=null,Uf=!1;function Hy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uf||vs==null||vs!==Qu(r)||(r=vs,"selectionStart"in r&&mm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&Pa(ca,r)||(ca=r,r=nc($f,"onSelect"),0<r.length&&(e=new hm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vs)))}function iu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ys={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},bh={},N0={};Zn&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Jc(t){if(bh[t])return bh[t];if(!ys[t])return t;var e=ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in N0)return bh[t]=e[n];return t}var b0=Jc("animationend"),D0=Jc("animationiteration"),O0=Jc("animationstart"),M0=Jc("transitionend"),L0=new Map,qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){L0.set(t,e),Bi(e,[t])}for(var Dh=0;Dh<qy.length;Dh++){var Oh=qy[Dh],KP=Oh.toLowerCase(),QP=Oh[0].toUpperCase()+Oh.slice(1);Zr(KP,"on"+QP)}Zr(b0,"onAnimationEnd");Zr(D0,"onAnimationIteration");Zr(O0,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(M0,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function Gy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,KR(r,e,void 0,t),t.currentTarget=null}function F0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Gy(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Gy(i,a,c),s=l}}}if(Xu)throw t=Lf,Xu=!1,Lf=null,t}function Ee(t,e){var n=e[qf];n===void 0&&(n=e[qf]=new Set);var r=t+"__bubble";n.has(r)||(V0(e,t,2,!1),n.add(r))}function Mh(t,e,n){var r=0;e&&(r|=4),V0(n,t,r,e)}var su="_reactListening"+Math.random().toString(36).slice(2);function ka(t){if(!t[su]){t[su]=!0,HE.forEach(function(n){n!=="selectionchange"&&(YP.has(n)||Mh(n,!1,t),Mh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[su]||(e[su]=!0,Mh("selectionchange",!1,e))}}function V0(t,e,n,r){switch(E0(e)){case 1:var i=cP;break;case 4:i=dP;break;default:i=cm}n=i.bind(null,e,n,t),i=void 0,!Mf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}a0(function(){var c=s,d=om(n),h=[];e:{var p=L0.get(t);if(p!==void 0){var _=hm,A=t;switch(t){case"keypress":if(Pu(n)===0)break e;case"keydown":case"keyup":_=AP;break;case"focusin":A="focus",_=Ph;break;case"focusout":A="blur",_=Ph;break;case"beforeblur":case"afterblur":_=Ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=pP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=PP;break;case b0:case D0:case O0:_=vP;break;case M0:_=NP;break;case"scroll":_=hP;break;case"wheel":_=DP;break;case"copy":case"cut":case"paste":_=_P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Fy}var T=(e&4)!==0,S=!T&&t==="scroll",E=T?p!==null?p+"Capture":null:p;T=[];for(var g=c,y;g!==null;){y=g;var P=y.stateNode;if(y.tag===5&&P!==null&&(y=P,E!==null&&(P=Sa(g,E),P!=null&&T.push(Na(g,P,y)))),S)break;g=g.return}0<T.length&&(p=new _(p,A,null,n,d),h.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",p&&n!==Df&&(A=n.relatedTarget||n.fromElement)&&(wi(A)||A[er]))break e;if((_||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,_?(A=n.relatedTarget||n.toElement,_=c,A=A?wi(A):null,A!==null&&(S=zi(A),A!==S||A.tag!==5&&A.tag!==6)&&(A=null)):(_=null,A=c),_!==A)){if(T=My,P="onMouseLeave",E="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(T=Fy,P="onPointerLeave",E="onPointerEnter",g="pointer"),S=_==null?p:_s(_),y=A==null?p:_s(A),p=new T(P,g+"leave",_,n,d),p.target=S,p.relatedTarget=y,P=null,wi(d)===c&&(T=new T(E,g+"enter",A,n,d),T.target=y,T.relatedTarget=S,P=T),S=P,_&&A)t:{for(T=_,E=A,g=0,y=T;y;y=ns(y))g++;for(y=0,P=E;P;P=ns(P))y++;for(;0<g-y;)T=ns(T),g--;for(;0<y-g;)E=ns(E),y--;for(;g--;){if(T===E||E!==null&&T===E.alternate)break t;T=ns(T),E=ns(E)}T=null}else T=null;_!==null&&Ky(h,p,_,T,!1),A!==null&&S!==null&&Ky(h,S,A,T,!0)}}e:{if(p=c?_s(c):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var D=$P;else if($y(p))if(x0)D=WP;else{D=BP;var M=UP}else(_=p.nodeName)&&_.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=zP);if(D&&(D=D(t,c))){A0(h,D,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Rf(p,"number",p.value)}switch(M=c?_s(c):window,t){case"focusin":($y(M)||M.contentEditable==="true")&&(vs=M,$f=c,ca=null);break;case"focusout":ca=$f=vs=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Hy(h,n,d);break;case"selectionchange":if(GP)break;case"keydown":case"keyup":Hy(h,n,d)}var C;if(pm)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else gs?S0(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(I0&&n.locale!=="ko"&&(gs||I!=="onCompositionStart"?I==="onCompositionEnd"&&gs&&(C=T0()):(xr=d,dm="value"in xr?xr.value:xr.textContent,gs=!0)),M=nc(c,I),0<M.length&&(I=new Ly(I,t,null,n,d),h.push({event:I,listeners:M}),C?I.data=C:(C=C0(n),C!==null&&(I.data=C)))),(C=MP?LP(t,n):FP(t,n))&&(c=nc(c,"onBeforeInput"),0<c.length&&(d=new Ly("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}F0(h,e)})}function Na(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sa(t,n),s!=null&&r.unshift(Na(t,s,i)),s=Sa(t,e),s!=null&&r.push(Na(t,s,i))),t=t.return}return r}function ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ky(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Sa(n,s),l!=null&&o.unshift(Na(n,l,a))):i||(l=Sa(n,s),l!=null&&o.push(Na(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XP=/\r\n?/g,JP=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(XP,`
`).replace(JP,"")}function ou(t,e,n){if(e=Qy(e),Qy(t)!==e&&n)throw Error(B(425))}function rc(){}var Bf=null,zf=null;function Wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,ZP=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(t1)}:Hf;function t1(t){setTimeout(function(){throw t})}function Fh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xa(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),Tn="__reactFiber$"+co,ba="__reactProps$"+co,er="__reactContainer$"+co,qf="__reactEvents$"+co,n1="__reactListeners$"+co,r1="__reactHandles$"+co;function wi(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[er]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xy(t);t!==null;){if(n=t[Tn])return n;t=Xy(t)}return e}t=n,n=t.parentNode}return null}function ul(t){return t=t[Tn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Zc(t){return t[ba]||null}var Gf=[],ws=-1;function ei(t){return{current:t}}function Te(t){0>ws||(t.current=Gf[ws],Gf[ws]=null,ws--)}function _e(t,e){ws++,Gf[ws]=t.current,t.current=e}var Gr={},mt=ei(Gr),bt=ei(!1),Ri=Gr;function Bs(t,e){var n=t.type.contextTypes;if(!n)return Gr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dt(t){return t=t.childContextTypes,t!=null}function ic(){Te(bt),Te(mt)}function Jy(t,e,n){if(mt.current!==Gr)throw Error(B(168));_e(mt,e),_e(bt,n)}function j0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,UR(t)||"Unknown",i));return Pe({},n,r)}function sc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gr,Ri=mt.current,_e(mt,t),_e(bt,bt.current),!0}function Zy(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=j0(t,e,Ri),r.__reactInternalMemoizedMergedChildContext=t,Te(bt),Te(mt),_e(mt,t)):Te(bt),_e(bt,n)}var Hn=null,ed=!1,Vh=!1;function $0(t){Hn===null?Hn=[t]:Hn.push(t)}function i1(t){ed=!0,$0(t)}function ti(){if(!Vh&&Hn!==null){Vh=!0;var t=0,e=me;try{var n=Hn;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hn=null,ed=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(t+1)),d0(am,ti),i}finally{me=e,Vh=!1}}return null}var Es=[],Ts=0,oc=null,ac=0,Qt=[],Yt=0,Pi=null,qn=1,Gn="";function gi(t,e){Es[Ts++]=ac,Es[Ts++]=oc,oc=t,ac=e}function U0(t,e,n){Qt[Yt++]=qn,Qt[Yt++]=Gn,Qt[Yt++]=Pi,Pi=t;var r=qn;t=Gn;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qn=1<<32-cn(e)+i|n<<i|r,Gn=s+t}else qn=1<<s|n<<i|r,Gn=t}function gm(t){t.return!==null&&(gi(t,1),U0(t,1,0))}function vm(t){for(;t===oc;)oc=Es[--Ts],Es[Ts]=null,ac=Es[--Ts],Es[Ts]=null;for(;t===Pi;)Pi=Qt[--Yt],Qt[Yt]=null,Gn=Qt[--Yt],Qt[Yt]=null,qn=Qt[--Yt],Qt[Yt]=null}var Bt=null,$t=null,Ce=!1,ln=null;function B0(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,$t=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:qn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bt=t,$t=null,!0):!1;default:return!1}}function Kf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qf(t){if(Ce){var e=$t;if(e){var n=e;if(!e_(t,e)){if(Kf(t))throw Error(B(418));e=Mr(n.nextSibling);var r=Bt;e&&e_(t,e)?B0(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Bt=t)}}else{if(Kf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ce=!1,Bt=t}}}function t_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function au(t){if(t!==Bt)return!1;if(!Ce)return t_(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wf(t.type,t.memoizedProps)),e&&(e=$t)){if(Kf(t))throw z0(),Error(B(418));for(;e;)B0(t,e),e=Mr(e.nextSibling)}if(t_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=Bt?Mr(t.stateNode.nextSibling):null;return!0}function z0(){for(var t=$t;t;)t=Mr(t.nextSibling)}function zs(){$t=Bt=null,Ce=!1}function ym(t){ln===null?ln=[t]:ln.push(t)}var s1=ur.ReactCurrentBatchConfig;function Wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function lu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n_(t){var e=t._init;return e(t._payload)}function W0(t){function e(E,g){if(t){var y=E.deletions;y===null?(E.deletions=[g],E.flags|=16):y.push(g)}}function n(E,g){if(!t)return null;for(;g!==null;)e(E,g),g=g.sibling;return null}function r(E,g){for(E=new Map;g!==null;)g.key!==null?E.set(g.key,g):E.set(g.index,g),g=g.sibling;return E}function i(E,g){return E=jr(E,g),E.index=0,E.sibling=null,E}function s(E,g,y){return E.index=y,t?(y=E.alternate,y!==null?(y=y.index,y<g?(E.flags|=2,g):y):(E.flags|=2,g)):(E.flags|=1048576,g)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,g,y,P){return g===null||g.tag!==6?(g=Hh(y,E.mode,P),g.return=E,g):(g=i(g,y),g.return=E,g)}function l(E,g,y,P){var D=y.type;return D===ms?d(E,g,y.props.children,P,y.key):g!==null&&(g.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===_r&&n_(D)===g.type)?(P=i(g,y.props),P.ref=Wo(E,g,y),P.return=E,P):(P=Lu(y.type,y.key,y.props,null,E.mode,P),P.ref=Wo(E,g,y),P.return=E,P)}function c(E,g,y,P){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=qh(y,E.mode,P),g.return=E,g):(g=i(g,y.children||[]),g.return=E,g)}function d(E,g,y,P,D){return g===null||g.tag!==7?(g=Ci(y,E.mode,P,D),g.return=E,g):(g=i(g,y),g.return=E,g)}function h(E,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Hh(""+g,E.mode,y),g.return=E,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xl:return y=Lu(g.type,g.key,g.props,null,E.mode,y),y.ref=Wo(E,null,g),y.return=E,y;case ps:return g=qh(g,E.mode,y),g.return=E,g;case _r:var P=g._init;return h(E,P(g._payload),y)}if(Xo(g)||jo(g))return g=Ci(g,E.mode,y,null),g.return=E,g;lu(E,g)}return null}function p(E,g,y,P){var D=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return D!==null?null:a(E,g,""+y,P);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xl:return y.key===D?l(E,g,y,P):null;case ps:return y.key===D?c(E,g,y,P):null;case _r:return D=y._init,p(E,g,D(y._payload),P)}if(Xo(y)||jo(y))return D!==null?null:d(E,g,y,P,null);lu(E,y)}return null}function _(E,g,y,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(y)||null,a(g,E,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Xl:return E=E.get(P.key===null?y:P.key)||null,l(g,E,P,D);case ps:return E=E.get(P.key===null?y:P.key)||null,c(g,E,P,D);case _r:var M=P._init;return _(E,g,y,M(P._payload),D)}if(Xo(P)||jo(P))return E=E.get(y)||null,d(g,E,P,D,null);lu(g,P)}return null}function A(E,g,y,P){for(var D=null,M=null,C=g,I=g=0,x=null;C!==null&&I<y.length;I++){C.index>I?(x=C,C=null):x=C.sibling;var R=p(E,C,y[I],P);if(R===null){C===null&&(C=x);break}t&&C&&R.alternate===null&&e(E,C),g=s(R,g,I),M===null?D=R:M.sibling=R,M=R,C=x}if(I===y.length)return n(E,C),Ce&&gi(E,I),D;if(C===null){for(;I<y.length;I++)C=h(E,y[I],P),C!==null&&(g=s(C,g,I),M===null?D=C:M.sibling=C,M=C);return Ce&&gi(E,I),D}for(C=r(E,C);I<y.length;I++)x=_(C,E,I,y[I],P),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?I:x.key),g=s(x,g,I),M===null?D=x:M.sibling=x,M=x);return t&&C.forEach(function(b){return e(E,b)}),Ce&&gi(E,I),D}function T(E,g,y,P){var D=jo(y);if(typeof D!="function")throw Error(B(150));if(y=D.call(y),y==null)throw Error(B(151));for(var M=D=null,C=g,I=g=0,x=null,R=y.next();C!==null&&!R.done;I++,R=y.next()){C.index>I?(x=C,C=null):x=C.sibling;var b=p(E,C,R.value,P);if(b===null){C===null&&(C=x);break}t&&C&&b.alternate===null&&e(E,C),g=s(b,g,I),M===null?D=b:M.sibling=b,M=b,C=x}if(R.done)return n(E,C),Ce&&gi(E,I),D;if(C===null){for(;!R.done;I++,R=y.next())R=h(E,R.value,P),R!==null&&(g=s(R,g,I),M===null?D=R:M.sibling=R,M=R);return Ce&&gi(E,I),D}for(C=r(E,C);!R.done;I++,R=y.next())R=_(C,E,I,R.value,P),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?I:R.key),g=s(R,g,I),M===null?D=R:M.sibling=R,M=R);return t&&C.forEach(function(O){return e(E,O)}),Ce&&gi(E,I),D}function S(E,g,y,P){if(typeof y=="object"&&y!==null&&y.type===ms&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Xl:e:{for(var D=y.key,M=g;M!==null;){if(M.key===D){if(D=y.type,D===ms){if(M.tag===7){n(E,M.sibling),g=i(M,y.props.children),g.return=E,E=g;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===_r&&n_(D)===M.type){n(E,M.sibling),g=i(M,y.props),g.ref=Wo(E,M,y),g.return=E,E=g;break e}n(E,M);break}else e(E,M);M=M.sibling}y.type===ms?(g=Ci(y.props.children,E.mode,P,y.key),g.return=E,E=g):(P=Lu(y.type,y.key,y.props,null,E.mode,P),P.ref=Wo(E,g,y),P.return=E,E=P)}return o(E);case ps:e:{for(M=y.key;g!==null;){if(g.key===M)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(E,g.sibling),g=i(g,y.children||[]),g.return=E,E=g;break e}else{n(E,g);break}else e(E,g);g=g.sibling}g=qh(y,E.mode,P),g.return=E,E=g}return o(E);case _r:return M=y._init,S(E,g,M(y._payload),P)}if(Xo(y))return A(E,g,y,P);if(jo(y))return T(E,g,y,P);lu(E,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(E,g.sibling),g=i(g,y),g.return=E,E=g):(n(E,g),g=Hh(y,E.mode,P),g.return=E,E=g),o(E)):n(E,g)}return S}var Ws=W0(!0),H0=W0(!1),lc=ei(null),uc=null,Is=null,_m=null;function wm(){_m=Is=uc=null}function Em(t){var e=lc.current;Te(lc),t._currentValue=e}function Yf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bs(t,e){uc=t,_m=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nt=!0),t.firstContext=null)}function en(t){var e=t._currentValue;if(_m!==t)if(t={context:t,memoizedValue:e,next:null},Is===null){if(uc===null)throw Error(B(308));Is=t,uc.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return e}var Ei=null;function Tm(t){Ei===null?Ei=[t]:Ei.push(t)}function q0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tm(e)):(n.next=i.next,i.next=n),e.interleaved=n,tr(t,r)}function tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function Im(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tr(t,n)}return i=r.interleaved,i===null?(e.next=e,Tm(r)):(e.next=i.next,i.next=e),r.interleaved=e,tr(t,n)}function ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lm(t,n)}}function r_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cc(t,e,n,r){var i=t.updateQueue;wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,_=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,T=a;switch(p=e,_=n,T.tag){case 1:if(A=T.payload,typeof A=="function"){h=A.call(_,h,p);break e}h=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=T.payload,p=typeof A=="function"?A.call(_,h,p):A,p==null)break e;h=Pe({},h,p);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else _={eventTime:_,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=_,l=h):d=d.next=_,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ni|=o,t.lanes=o,t.memoizedState=h}}function i_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var cl={},An=ei(cl),Da=ei(cl),Oa=ei(cl);function Ti(t){if(t===cl)throw Error(B(174));return t}function Sm(t,e){switch(_e(Oa,e),_e(Da,t),_e(An,cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kf(e,t)}Te(An),_e(An,e)}function Hs(){Te(An),Te(Da),Te(Oa)}function K0(t){Ti(Oa.current);var e=Ti(An.current),n=kf(e,t.type);e!==n&&(_e(Da,t),_e(An,n))}function Cm(t){Da.current===t&&(Te(An),Te(Da))}var Ae=ei(0);function dc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jh=[];function Am(){for(var t=0;t<jh.length;t++)jh[t]._workInProgressVersionPrimary=null;jh.length=0}var Nu=ur.ReactCurrentDispatcher,$h=ur.ReactCurrentBatchConfig,ki=0,Re=null,We=null,Ke=null,hc=!1,da=!1,Ma=0,o1=0;function ct(){throw Error(B(321))}function xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function Rm(t,e,n,r,i,s){if(ki=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nu.current=t===null||t.memoizedState===null?c1:d1,t=n(r,i),da){s=0;do{if(da=!1,Ma=0,25<=s)throw Error(B(301));s+=1,Ke=We=null,e.updateQueue=null,Nu.current=h1,t=n(r,i)}while(da)}if(Nu.current=fc,e=We!==null&&We.next!==null,ki=0,Ke=We=Re=null,hc=!1,e)throw Error(B(300));return t}function Pm(){var t=Ma!==0;return Ma=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Re.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function tn(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Ke===null?Re.memoizedState:Ke.next;if(e!==null)Ke=e,We=t;else{if(t===null)throw Error(B(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ke===null?Re.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function La(t,e){return typeof e=="function"?e(t):e}function Uh(t){var e=tn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=We,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((ki&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Re.lanes|=d,Ni|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,hn(r,e.memoizedState)||(Nt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,Ni|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bh(t){var e=tn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hn(s,e.memoizedState)||(Nt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Q0(){}function Y0(t,e){var n=Re,r=tn(),i=e(),s=!hn(r.memoizedState,i);if(s&&(r.memoizedState=i,Nt=!0),r=r.queue,km(Z0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Fa(9,J0.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(B(349));ki&30||X0(n,e,i)}return i}function X0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function J0(t,e,n,r){e.value=n,e.getSnapshot=r,eT(e)&&tT(t)}function Z0(t,e,n){return n(function(){eT(e)&&tT(t)})}function eT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function tT(t){var e=tr(t,1);e!==null&&dn(e,t,1,-1)}function s_(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:t},e.queue=t,t=t.dispatch=u1.bind(null,Re,t),[e.memoizedState,t]}function Fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nT(){return tn().memoizedState}function bu(t,e,n,r){var i=wn();Re.flags|=t,i.memoizedState=Fa(1|e,n,void 0,r===void 0?null:r)}function td(t,e,n,r){var i=tn();r=r===void 0?null:r;var s=void 0;if(We!==null){var o=We.memoizedState;if(s=o.destroy,r!==null&&xm(r,o.deps)){i.memoizedState=Fa(e,n,s,r);return}}Re.flags|=t,i.memoizedState=Fa(1|e,n,s,r)}function o_(t,e){return bu(8390656,8,t,e)}function km(t,e){return td(2048,8,t,e)}function rT(t,e){return td(4,2,t,e)}function iT(t,e){return td(4,4,t,e)}function sT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oT(t,e,n){return n=n!=null?n.concat([t]):null,td(4,4,sT.bind(null,e,t),n)}function Nm(){}function aT(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lT(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uT(t,e,n){return ki&21?(hn(n,e)||(n=p0(),Re.lanes|=n,Ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=n)}function a1(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=$h.transition;$h.transition={};try{t(!1),e()}finally{me=n,$h.transition=r}}function cT(){return tn().memoizedState}function l1(t,e,n){var r=Vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dT(t))hT(e,n);else if(n=q0(t,e,n,r),n!==null){var i=It();dn(n,t,r,i),fT(n,e,r)}}function u1(t,e,n){var r=Vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dT(t))hT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hn(a,o)){var l=e.interleaved;l===null?(i.next=i,Tm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=q0(t,e,i,r),n!==null&&(i=It(),dn(n,t,r,i),fT(n,e,r))}}function dT(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function hT(t,e){da=hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lm(t,n)}}var fc={readContext:en,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},c1={readContext:en,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:o_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bu(4194308,4,sT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return bu(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l1.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:s_,useDebugValue:Nm,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=s_(!1),e=t[0];return t=a1.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=wn();if(Ce){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ye===null)throw Error(B(349));ki&30||X0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,o_(Z0.bind(null,r,s,t),[t]),r.flags|=2048,Fa(9,J0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=wn(),e=Ye.identifierPrefix;if(Ce){var n=Gn,r=qn;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d1={readContext:en,useCallback:aT,useContext:en,useEffect:km,useImperativeHandle:oT,useInsertionEffect:rT,useLayoutEffect:iT,useMemo:lT,useReducer:Uh,useRef:nT,useState:function(){return Uh(La)},useDebugValue:Nm,useDeferredValue:function(t){var e=tn();return uT(e,We.memoizedState,t)},useTransition:function(){var t=Uh(La)[0],e=tn().memoizedState;return[t,e]},useMutableSource:Q0,useSyncExternalStore:Y0,useId:cT,unstable_isNewReconciler:!1},h1={readContext:en,useCallback:aT,useContext:en,useEffect:km,useImperativeHandle:oT,useInsertionEffect:rT,useLayoutEffect:iT,useMemo:lT,useReducer:Bh,useRef:nT,useState:function(){return Bh(La)},useDebugValue:Nm,useDeferredValue:function(t){var e=tn();return We===null?e.memoizedState=t:uT(e,We.memoizedState,t)},useTransition:function(){var t=Bh(La)[0],e=tn().memoizedState;return[t,e]},useMutableSource:Q0,useSyncExternalStore:Y0,useId:cT,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nd={isMounted:function(t){return(t=t._reactInternals)?zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),i=Vr(t),s=Jn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Lr(t,s,i),e!==null&&(dn(e,t,i,r),ku(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),i=Vr(t),s=Jn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Lr(t,s,i),e!==null&&(dn(e,t,i,r),ku(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=Vr(t),i=Jn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Lr(t,i,r),e!==null&&(dn(e,t,r,n),ku(e,t,r))}};function a_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pa(n,r)||!Pa(i,s):!0}function pT(t,e,n){var r=!1,i=Gr,s=e.contextType;return typeof s=="object"&&s!==null?s=en(s):(i=Dt(e)?Ri:mt.current,r=e.contextTypes,s=(r=r!=null)?Bs(t,i):Gr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function l_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nd.enqueueReplaceState(e,e.state,null)}function Jf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Im(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=en(s):(s=Dt(e)?Ri:mt.current,i.context=Bs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nd.enqueueReplaceState(i,i.state,null),cc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qs(t,e){try{var n="",r=e;do n+=$R(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var f1=typeof WeakMap=="function"?WeakMap:Map;function mT(t,e,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mc||(mc=!0,up=r),Zf(t,e)},n}function gT(t,e,n){n=Jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zf(t,e),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function u_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new f1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=x1.bind(null,t,e,n),e.then(t,t))}function c_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jn(-1,1),e.tag=2,Lr(n,e,1))),n.lanes|=1),t)}var p1=ur.ReactCurrentOwner,Nt=!1;function wt(t,e,n,r){e.child=t===null?H0(e,null,n,r):Ws(e,t.child,n,r)}function h_(t,e,n,r,i){n=n.render;var s=e.ref;return bs(e,i),r=Rm(t,e,n,r,s,i),n=Pm(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(Ce&&n&&gm(e),e.flags|=1,wt(t,e,r,i),e.child)}function f_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!jm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vT(t,e,s,r,i)):(t=Lu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pa,n(o,r)&&t.ref===e.ref)return nr(t,e,i)}return e.flags|=1,t=jr(s,r),t.ref=e.ref,t.return=e,e.child=t}function vT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pa(s,r)&&t.ref===e.ref)if(Nt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Nt=!0);else return e.lanes=t.lanes,nr(t,e,i)}return ep(t,e,n,r,i)}function yT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Cs,Ft),Ft|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Cs,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e(Cs,Ft),Ft|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_e(Cs,Ft),Ft|=r;return wt(t,e,i,n),e.child}function _T(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ep(t,e,n,r,i){var s=Dt(n)?Ri:mt.current;return s=Bs(e,s),bs(e,i),n=Rm(t,e,n,r,s,i),r=Pm(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(Ce&&r&&gm(e),e.flags|=1,wt(t,e,n,i),e.child)}function p_(t,e,n,r,i){if(Dt(n)){var s=!0;sc(e)}else s=!1;if(bs(e,i),e.stateNode===null)Du(t,e),pT(e,n,r),Jf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=en(c):(c=Dt(n)?Ri:mt.current,c=Bs(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&l_(e,o,r,c),wr=!1;var p=e.memoizedState;o.state=p,cc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||bt.current||wr?(typeof d=="function"&&(Xf(e,n,d,r),l=e.memoizedState),(a=wr||a_(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,G0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:on(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=en(l):(l=Dt(n)?Ri:mt.current,l=Bs(e,l));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&l_(e,o,r,l),wr=!1,p=e.memoizedState,o.state=p,cc(e,r,o,i);var A=e.memoizedState;a!==h||p!==A||bt.current||wr?(typeof _=="function"&&(Xf(e,n,_,r),A=e.memoizedState),(c=wr||a_(e,n,c,r,p,A,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return tp(t,e,n,r,s,i)}function tp(t,e,n,r,i,s){_T(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Zy(e,n,!1),nr(t,e,s);r=e.stateNode,p1.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ws(e,t.child,null,s),e.child=Ws(e,null,a,s)):wt(t,e,a,s),e.memoizedState=r.state,i&&Zy(e,n,!0),e.child}function wT(t){var e=t.stateNode;e.pendingContext?Jy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jy(t,e.context,!1),Sm(t,e.containerInfo)}function m_(t,e,n,r,i){return zs(),ym(i),e.flags|=256,wt(t,e,n,r),e.child}var np={dehydrated:null,treeContext:null,retryLane:0};function rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ET(t,e,n){var r=e.pendingProps,i=Ae.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Ae,i&1),t===null)return Qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sd(o,r,0,null),t=Ci(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rp(n),e.memoizedState=np,t):bm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return m1(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=jr(a,s):(s=Ci(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=np,r}return s=t.child,t=s.sibling,r=jr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bm(t,e){return e=sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uu(t,e,n,r){return r!==null&&ym(r),Ws(e,t.child,null,n),t=bm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function m1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zh(Error(B(422))),uu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sd({mode:"visible",children:r.children},i,0,null),s=Ci(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ws(e,t.child,null,o),e.child.memoizedState=rp(o),e.memoizedState=np,s);if(!(e.mode&1))return uu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=zh(s,r,void 0),uu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Nt||a){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,tr(t,i),dn(r,t,i,-1))}return Vm(),r=zh(Error(B(421))),uu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=R1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$t=Mr(i.nextSibling),Bt=e,Ce=!0,ln=null,t!==null&&(Qt[Yt++]=qn,Qt[Yt++]=Gn,Qt[Yt++]=Pi,qn=t.id,Gn=t.overflow,Pi=e),e=bm(e,r.children),e.flags|=4096,e)}function g_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yf(t.return,e,n)}function Wh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g_(t,n,e);else if(t.tag===19)g_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wh(e,!0,n,null,s);break;case"together":Wh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function g1(t,e,n){switch(e.tag){case 3:wT(e),zs();break;case 5:K0(e);break;case 1:Dt(e.type)&&sc(e);break;case 4:Sm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(lc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?ET(t,e,n):(_e(Ae,Ae.current&1),t=nr(t,e,n),t!==null?t.sibling:null);_e(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,yT(t,e,n)}return nr(t,e,n)}var IT,ip,ST,CT;IT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ip=function(){};ST=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ti(An.current);var s=null;switch(n){case"input":i=Af(t,i),r=Af(t,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=Pf(t,i),r=Pf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rc)}Nf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ta.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ta.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ee("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};CT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ho(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function v1(t,e,n){var r=e.pendingProps;switch(vm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return Dt(e.type)&&ic(),dt(e),null;case 3:return r=e.stateNode,Hs(),Te(bt),Te(mt),Am(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(au(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(hp(ln),ln=null))),ip(t,e),dt(e),null;case 5:Cm(e);var i=Ti(Oa.current);if(n=e.type,t!==null&&e.stateNode!=null)ST(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return dt(e),null}if(t=Ti(An.current),au(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Tn]=e,r[ba]=s,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Zo.length;i++)Ee(Zo[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Cy(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":xy(r,s),Ee("invalid",r)}Nf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ou(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ou(r.textContent,a,t),i=["children",""+a]):Ta.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Jl(r),Ay(r,s,!0);break;case"textarea":Jl(r),Ry(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tn]=e,t[ba]=r,IT(t,e,!1,!1),e.stateNode=t;e:{switch(o=bf(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zo.length;i++)Ee(Zo[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":Cy(t,r),i=Af(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":xy(t,r),i=Pf(t,r),Ee("invalid",t);break;default:i=r}Nf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?n0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&e0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ia(t,l):typeof l=="number"&&Ia(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ta.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",t):l!=null&&nm(t,s,l,o))}switch(n){case"input":Jl(t),Ay(t,r,!1);break;case"textarea":Jl(t),Ry(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Rs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Rs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)CT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ti(Oa.current),Ti(An.current),au(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(s=r.nodeValue!==n)&&(t=Bt,t!==null))switch(t.tag){case 3:ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ou(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return dt(e),null;case 13:if(Te(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&$t!==null&&e.mode&1&&!(e.flags&128))z0(),zs(),e.flags|=98560,s=!1;else if(s=au(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Tn]=e}else zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),s=!1}else ln!==null&&(hp(ln),ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?He===0&&(He=3):Vm())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return Hs(),ip(t,e),t===null&&ka(e.stateNode.containerInfo),dt(e),null;case 10:return Em(e.type._context),dt(e),null;case 17:return Dt(e.type)&&ic(),dt(e),null;case 19:if(Te(Ae),s=e.memoizedState,s===null)return dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ho(s,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dc(t),o!==null){for(e.flags|=128,Ho(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Ae,Ae.current&1|2),e.child}t=t.sibling}s.tail!==null&&Me()>Gs&&(e.flags|=128,r=!0,Ho(s,!1),e.lanes=4194304)}else{if(!r)if(t=dc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ho(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return dt(e),null}else 2*Me()-s.renderingStartTime>Gs&&n!==1073741824&&(e.flags|=128,r=!0,Ho(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Me(),e.sibling=null,n=Ae.current,_e(Ae,r?n&1|2:n&1),e):(dt(e),null);case 22:case 23:return Fm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ft&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function y1(t,e){switch(vm(e),e.tag){case 1:return Dt(e.type)&&ic(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hs(),Te(bt),Te(mt),Am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cm(e),null;case 13:if(Te(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Ae),null;case 4:return Hs(),null;case 10:return Em(e.type._context),null;case 22:case 23:return Fm(),null;case 24:return null;default:return null}}var cu=!1,pt=!1,_1=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ss(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(t,e,r)}else n.current=null}function sp(t,e,n){try{n()}catch(r){De(t,e,r)}}var v_=!1;function w1(t,e){if(Bf=ec,t=k0(),mm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var _;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(_=h.firstChild)!==null;)p=h,h=_;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(_=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},ec=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var T=A.memoizedProps,S=A.memoizedState,E=e.stateNode,g=E.getSnapshotBeforeUpdate(e.elementType===e.type?T:on(e.type,T),S);E.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){De(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return A=v_,v_=!1,A}function ha(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sp(e,n,s)}i=i.next}while(i!==r)}}function rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function op(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AT(t){var e=t.alternate;e!==null&&(t.alternate=null,AT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[ba],delete e[qf],delete e[n1],delete e[r1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xT(t){return t.tag===5||t.tag===3||t.tag===4}function y_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rc));else if(r!==4&&(t=t.child,t!==null))for(ap(t,e,n),t=t.sibling;t!==null;)ap(t,e,n),t=t.sibling}function lp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lp(t,e,n),t=t.sibling;t!==null;)lp(t,e,n),t=t.sibling}var Ze=null,an=!1;function gr(t,e,n){for(n=n.child;n!==null;)RT(t,e,n),n=n.sibling}function RT(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Qc,n)}catch{}switch(n.tag){case 5:pt||Ss(n,e);case 6:var r=Ze,i=an;Ze=null,gr(t,e,n),Ze=r,an=i,Ze!==null&&(an?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(an?(t=Ze,n=n.stateNode,t.nodeType===8?Fh(t.parentNode,n):t.nodeType===1&&Fh(t,n),xa(t)):Fh(Ze,n.stateNode));break;case 4:r=Ze,i=an,Ze=n.stateNode.containerInfo,an=!0,gr(t,e,n),Ze=r,an=i;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sp(n,e,o),i=i.next}while(i!==r)}gr(t,e,n);break;case 1:if(!pt&&(Ss(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,e,a)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,gr(t,e,n),pt=r):gr(t,e,n);break;default:gr(t,e,n)}}function __(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _1),e.forEach(function(r){var i=P1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,an=!1;break e;case 3:Ze=a.stateNode.containerInfo,an=!0;break e;case 4:Ze=a.stateNode.containerInfo,an=!0;break e}a=a.return}if(Ze===null)throw Error(B(160));RT(s,o,i),Ze=null,an=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){De(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PT(e,t),e=e.sibling}function PT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(e,t),_n(t),r&4){try{ha(3,t,t.return),rd(3,t)}catch(T){De(t,t.return,T)}try{ha(5,t,t.return)}catch(T){De(t,t.return,T)}}break;case 1:sn(e,t),_n(t),r&512&&n!==null&&Ss(n,n.return);break;case 5:if(sn(e,t),_n(t),r&512&&n!==null&&Ss(n,n.return),t.flags&32){var i=t.stateNode;try{Ia(i,"")}catch(T){De(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XE(i,s),bf(a,o);var c=bf(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?n0(i,h):d==="dangerouslySetInnerHTML"?e0(i,h):d==="children"?Ia(i,h):nm(i,d,h,c)}switch(a){case"input":xf(i,s);break;case"textarea":JE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Rs(i,!!s.multiple,_,!1):p!==!!s.multiple&&(s.defaultValue!=null?Rs(i,!!s.multiple,s.defaultValue,!0):Rs(i,!!s.multiple,s.multiple?[]:"",!1))}i[ba]=s}catch(T){De(t,t.return,T)}}break;case 6:if(sn(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){De(t,t.return,T)}}break;case 3:if(sn(e,t),_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xa(e.containerInfo)}catch(T){De(t,t.return,T)}break;case 4:sn(e,t),_n(t);break;case 13:sn(e,t),_n(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mm=Me())),r&4&&__(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(pt=(c=pt)||d,sn(e,t),pt=c):sn(e,t),_n(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(h=q=d;q!==null;){switch(p=q,_=p.child,p.tag){case 0:case 11:case 14:case 15:ha(4,p,p.return);break;case 1:Ss(p,p.return);var A=p.stateNode;if(typeof A.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(T){De(r,n,T)}}break;case 5:Ss(p,p.return);break;case 22:if(p.memoizedState!==null){E_(h);continue}}_!==null?(_.return=p,q=_):E_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=t0("display",o))}catch(T){De(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(T){De(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sn(e,t),_n(t),r&4&&__(t);break;case 21:break;default:sn(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xT(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ia(i,""),r.flags&=-33);var s=y_(t);lp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=y_(t);ap(t,a,o);break;default:throw Error(B(161))}}catch(l){De(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function E1(t,e,n){q=t,kT(t)}function kT(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||pt;a=cu;var c=pt;if(cu=o,(pt=l)&&!c)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?T_(i):l!==null?(l.return=o,q=l):T_(i);for(;s!==null;)q=s,kT(s),s=s.sibling;q=i,cu=a,pt=c}w_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):w_(t)}}function w_(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:on(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&i_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}i_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&xa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}pt||e.flags&512&&op(e)}catch(p){De(e,e.return,p)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function E_(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function T_(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rd(4,e)}catch(l){De(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){De(e,i,l)}}var s=e.return;try{op(e)}catch(l){De(e,s,l)}break;case 5:var o=e.return;try{op(e)}catch(l){De(e,o,l)}}}catch(l){De(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var T1=Math.ceil,pc=ur.ReactCurrentDispatcher,Dm=ur.ReactCurrentOwner,Jt=ur.ReactCurrentBatchConfig,ce=0,Ye=null,Ue=null,rt=0,Ft=0,Cs=ei(0),He=0,Va=null,Ni=0,id=0,Om=0,fa=null,Pt=null,Mm=0,Gs=1/0,Wn=null,mc=!1,up=null,Fr=null,du=!1,Rr=null,gc=0,pa=0,cp=null,Ou=-1,Mu=0;function It(){return ce&6?Me():Ou!==-1?Ou:Ou=Me()}function Vr(t){return t.mode&1?ce&2&&rt!==0?rt&-rt:s1.transition!==null?(Mu===0&&(Mu=p0()),Mu):(t=me,t!==0||(t=window.event,t=t===void 0?16:E0(t.type)),t):1}function dn(t,e,n,r){if(50<pa)throw pa=0,cp=null,Error(B(185));al(t,n,r),(!(ce&2)||t!==Ye)&&(t===Ye&&(!(ce&2)&&(id|=n),He===4&&Tr(t,rt)),Ot(t,r),n===1&&ce===0&&!(e.mode&1)&&(Gs=Me()+500,ed&&ti()))}function Ot(t,e){var n=t.callbackNode;sP(t,e);var r=Zu(t,t===Ye?rt:0);if(r===0)n!==null&&Ny(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ny(n),e===1)t.tag===0?i1(I_.bind(null,t)):$0(I_.bind(null,t)),e1(function(){!(ce&6)&&ti()}),n=null;else{switch(m0(r)){case 1:n=am;break;case 4:n=h0;break;case 16:n=Ju;break;case 536870912:n=f0;break;default:n=Ju}n=VT(n,NT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NT(t,e){if(Ou=-1,Mu=0,ce&6)throw Error(B(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var r=Zu(t,t===Ye?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vc(t,r);else{e=r;var i=ce;ce|=2;var s=DT();(Ye!==t||rt!==e)&&(Wn=null,Gs=Me()+500,Si(t,e));do try{C1();break}catch(a){bT(t,a)}while(!0);wm(),pc.current=s,ce=i,Ue!==null?e=0:(Ye=null,rt=0,e=He)}if(e!==0){if(e===2&&(i=Ff(t),i!==0&&(r=i,e=dp(t,i))),e===1)throw n=Va,Si(t,0),Tr(t,r),Ot(t,Me()),n;if(e===6)Tr(t,r);else{if(i=t.current.alternate,!(r&30)&&!I1(i)&&(e=vc(t,r),e===2&&(s=Ff(t),s!==0&&(r=s,e=dp(t,s))),e===1))throw n=Va,Si(t,0),Tr(t,r),Ot(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:vi(t,Pt,Wn);break;case 3:if(Tr(t,r),(r&130023424)===r&&(e=Mm+500-Me(),10<e)){if(Zu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hf(vi.bind(null,t,Pt,Wn),e);break}vi(t,Pt,Wn);break;case 4:if(Tr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T1(r/1960))-r,10<r){t.timeoutHandle=Hf(vi.bind(null,t,Pt,Wn),r);break}vi(t,Pt,Wn);break;case 5:vi(t,Pt,Wn);break;default:throw Error(B(329))}}}return Ot(t,Me()),t.callbackNode===n?NT.bind(null,t):null}function dp(t,e){var n=fa;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=vc(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&hp(e)),t}function hp(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function I1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e){for(e&=~Om,e&=~id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),r=1<<n;t[n]=-1,e&=~r}}function I_(t){if(ce&6)throw Error(B(327));Ds();var e=Zu(t,0);if(!(e&1))return Ot(t,Me()),null;var n=vc(t,e);if(t.tag!==0&&n===2){var r=Ff(t);r!==0&&(e=r,n=dp(t,r))}if(n===1)throw n=Va,Si(t,0),Tr(t,e),Ot(t,Me()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vi(t,Pt,Wn),Ot(t,Me()),null}function Lm(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(Gs=Me()+500,ed&&ti())}}function bi(t){Rr!==null&&Rr.tag===0&&!(ce&6)&&Ds();var e=ce;ce|=1;var n=Jt.transition,r=me;try{if(Jt.transition=null,me=1,t)return t()}finally{me=r,Jt.transition=n,ce=e,!(ce&6)&&ti()}}function Fm(){Ft=Cs.current,Te(Cs)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZP(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(vm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ic();break;case 3:Hs(),Te(bt),Te(mt),Am();break;case 5:Cm(r);break;case 4:Hs();break;case 13:Te(Ae);break;case 19:Te(Ae);break;case 10:Em(r.type._context);break;case 22:case 23:Fm()}n=n.return}if(Ye=t,Ue=t=jr(t.current,null),rt=Ft=e,He=0,Va=null,Om=id=Ni=0,Pt=fa=null,Ei!==null){for(e=0;e<Ei.length;e++)if(n=Ei[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ei=null}return t}function bT(t,e){do{var n=Ue;try{if(wm(),Nu.current=fc,hc){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hc=!1}if(ki=0,Ke=We=Re=null,da=!1,Ma=0,Dm.current=null,n===null||n.return===null){He=1,Va=e,Ue=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=c_(o);if(_!==null){_.flags&=-257,d_(_,o,a,s,e),_.mode&1&&u_(s,c,e),e=_,l=c;var A=e.updateQueue;if(A===null){var T=new Set;T.add(l),e.updateQueue=T}else A.add(l);break e}else{if(!(e&1)){u_(s,c,e),Vm();break e}l=Error(B(426))}}else if(Ce&&a.mode&1){var S=c_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),d_(S,o,a,s,e),ym(qs(l,a));break e}}s=l=qs(l,a),He!==4&&(He=2),fa===null?fa=[s]:fa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=mT(s,l,e);r_(s,E);break e;case 1:a=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fr===null||!Fr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=gT(s,a,e);r_(s,P);break e}}s=s.return}while(s!==null)}MT(n)}catch(D){e=D,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function DT(){var t=pc.current;return pc.current=fc,t===null?fc:t}function Vm(){(He===0||He===3||He===2)&&(He=4),Ye===null||!(Ni&268435455)&&!(id&268435455)||Tr(Ye,rt)}function vc(t,e){var n=ce;ce|=2;var r=DT();(Ye!==t||rt!==e)&&(Wn=null,Si(t,e));do try{S1();break}catch(i){bT(t,i)}while(!0);if(wm(),ce=n,pc.current=r,Ue!==null)throw Error(B(261));return Ye=null,rt=0,He}function S1(){for(;Ue!==null;)OT(Ue)}function C1(){for(;Ue!==null&&!YR();)OT(Ue)}function OT(t){var e=FT(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?MT(t):Ue=e,Dm.current=null}function MT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y1(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,Ue=null;return}}else if(n=v1(n,e,Ft),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);He===0&&(He=5)}function vi(t,e,n){var r=me,i=Jt.transition;try{Jt.transition=null,me=1,A1(t,e,n,r)}finally{Jt.transition=i,me=r}return null}function A1(t,e,n,r){do Ds();while(Rr!==null);if(ce&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(oP(t,s),t===Ye&&(Ue=Ye=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||du||(du=!0,VT(Ju,function(){return Ds(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jt.transition,Jt.transition=null;var o=me;me=1;var a=ce;ce|=4,Dm.current=null,w1(t,n),PT(n,t),qP(zf),ec=!!Bf,zf=Bf=null,t.current=n,E1(n),XR(),ce=a,me=o,Jt.transition=s}else t.current=n;if(du&&(du=!1,Rr=t,gc=i),s=t.pendingLanes,s===0&&(Fr=null),eP(n.stateNode),Ot(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mc)throw mc=!1,t=up,up=null,t;return gc&1&&t.tag!==0&&Ds(),s=t.pendingLanes,s&1?t===cp?pa++:(pa=0,cp=t):pa=0,ti(),null}function Ds(){if(Rr!==null){var t=m0(gc),e=Jt.transition,n=me;try{if(Jt.transition=null,me=16>t?16:t,Rr===null)var r=!1;else{if(t=Rr,Rr=null,gc=0,ce&6)throw Error(B(331));var i=ce;for(ce|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:ha(8,d,s)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var p=d.sibling,_=d.return;if(AT(d),d===c){q=null;break}if(p!==null){p.return=_,q=p;break}q=_}}}var A=s.alternate;if(A!==null){var T=A.child;if(T!==null){A.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ha(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,q=E;break e}q=s.return}}var g=t.current;for(q=g;q!==null;){o=q;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,q=y;else e:for(o=g;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rd(9,a)}}catch(D){De(a,a.return,D)}if(a===o){q=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,q=P;break e}q=a.return}}if(ce=i,ti(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Qc,t)}catch{}r=!0}return r}finally{me=n,Jt.transition=e}}return!1}function S_(t,e,n){e=qs(n,e),e=mT(t,e,1),t=Lr(t,e,1),e=It(),t!==null&&(al(t,1,e),Ot(t,e))}function De(t,e,n){if(t.tag===3)S_(t,t,n);else for(;e!==null;){if(e.tag===3){S_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){t=qs(n,t),t=gT(e,t,1),e=Lr(e,t,1),t=It(),e!==null&&(al(e,1,t),Ot(e,t));break}}e=e.return}}function x1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(rt&n)===n&&(He===4||He===3&&(rt&130023424)===rt&&500>Me()-Mm?Si(t,0):Om|=n),Ot(t,e)}function LT(t,e){e===0&&(t.mode&1?(e=tu,tu<<=1,!(tu&130023424)&&(tu=4194304)):e=1);var n=It();t=tr(t,e),t!==null&&(al(t,e,n),Ot(t,n))}function R1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LT(t,n)}function P1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),LT(t,n)}var FT;FT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bt.current)Nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nt=!1,g1(t,e,n);Nt=!!(t.flags&131072)}else Nt=!1,Ce&&e.flags&1048576&&U0(e,ac,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Du(t,e),t=e.pendingProps;var i=Bs(e,mt.current);bs(e,n),i=Rm(null,e,r,t,i,n);var s=Pm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(r)?(s=!0,sc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Im(e),i.updater=nd,e.stateNode=i,i._reactInternals=e,Jf(e,r,t,n),e=tp(null,e,r,!0,s,n)):(e.tag=0,Ce&&s&&gm(e),wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Du(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=N1(r),t=on(r,t),i){case 0:e=ep(null,e,r,t,n);break e;case 1:e=p_(null,e,r,t,n);break e;case 11:e=h_(null,e,r,t,n);break e;case 14:e=f_(null,e,r,on(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),ep(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),p_(t,e,r,i,n);case 3:e:{if(wT(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,G0(t,e),cc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qs(Error(B(423)),e),e=m_(t,e,r,n,i);break e}else if(r!==i){i=qs(Error(B(424)),e),e=m_(t,e,r,n,i);break e}else for($t=Mr(e.stateNode.containerInfo.firstChild),Bt=e,Ce=!0,ln=null,n=H0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zs(),r===i){e=nr(t,e,n);break e}wt(t,e,r,n)}e=e.child}return e;case 5:return K0(e),t===null&&Qf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wf(r,i)?o=null:s!==null&&Wf(r,s)&&(e.flags|=32),_T(t,e),wt(t,e,o,n),e.child;case 6:return t===null&&Qf(e),null;case 13:return ET(t,e,n);case 4:return Sm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ws(e,null,r,n):wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),h_(t,e,r,i,n);case 7:return wt(t,e,e.pendingProps,n),e.child;case 8:return wt(t,e,e.pendingProps.children,n),e.child;case 12:return wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(lc,r._currentValue),r._currentValue=o,s!==null)if(hn(s.value,o)){if(s.children===i.children&&!bt.current){e=nr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Jn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Yf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bs(e,n),i=en(i),r=r(i),e.flags|=1,wt(t,e,r,n),e.child;case 14:return r=e.type,i=on(r,e.pendingProps),i=on(r.type,i),f_(t,e,r,i,n);case 15:return vT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),Du(t,e),e.tag=1,Dt(r)?(t=!0,sc(e)):t=!1,bs(e,n),pT(e,r,i),Jf(e,r,i,n),tp(null,e,r,!0,t,n);case 19:return TT(t,e,n);case 22:return yT(t,e,n)}throw Error(B(156,e.tag))};function VT(t,e){return d0(t,e)}function k1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new k1(t,e,n,r)}function jm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N1(t){if(typeof t=="function")return jm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===im)return 11;if(t===sm)return 14}return 2}function jr(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")jm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ms:return Ci(n.children,i,s,e);case rm:o=8,i|=8;break;case Tf:return t=Xt(12,n,e,i|2),t.elementType=Tf,t.lanes=s,t;case If:return t=Xt(13,n,e,i),t.elementType=If,t.lanes=s,t;case Sf:return t=Xt(19,n,e,i),t.elementType=Sf,t.lanes=s,t;case KE:return sd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qE:o=10;break e;case GE:o=9;break e;case im:o=11;break e;case sm:o=14;break e;case _r:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Xt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ci(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function sd(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=KE,t.lanes=n,t.stateNode={isHidden:!1},t}function Hh(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function qh(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function b1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ah(0),this.expirationTimes=Ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $m(t,e,n,r,i,s,o,a,l){return t=new b1(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Im(s),t}function D1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jT(t){if(!t)return Gr;t=t._reactInternals;e:{if(zi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Dt(n))return j0(t,n,e)}return e}function $T(t,e,n,r,i,s,o,a,l){return t=$m(n,r,!0,t,i,s,o,a,l),t.context=jT(null),n=t.current,r=It(),i=Vr(n),s=Jn(r,i),s.callback=e??null,Lr(n,s,i),t.current.lanes=i,al(t,i,r),Ot(t,r),t}function od(t,e,n,r){var i=e.current,s=It(),o=Vr(i);return n=jT(n),e.context===null?e.context=n:e.pendingContext=n,e=Jn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lr(i,e,o),t!==null&&(dn(t,i,o,s),ku(t,i,o)),o}function yc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function C_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Um(t,e){C_(t,e),(t=t.alternate)&&C_(t,e)}function O1(){return null}var UT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bm(t){this._internalRoot=t}ad.prototype.render=Bm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));od(t,e,null,null)};ad.prototype.unmount=Bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){od(null,t,null,null)}),e[er]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=y0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Er.length&&e!==0&&e<Er[n].priority;n++);Er.splice(n,0,t),n===0&&w0(t)}};function zm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A_(){}function M1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=yc(o);s.call(c)}}var o=$T(e,r,t,0,null,!1,!1,"",A_);return t._reactRootContainer=o,t[er]=o.current,ka(t.nodeType===8?t.parentNode:t),bi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=yc(l);a.call(c)}}var l=$m(t,0,!1,null,null,!1,!1,"",A_);return t._reactRootContainer=l,t[er]=l.current,ka(t.nodeType===8?t.parentNode:t),bi(function(){od(e,l,n,r)}),l}function ud(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=yc(o);a.call(l)}}od(e,o,t,i)}else o=M1(n,e,t,i,r);return yc(o)}g0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jo(e.pendingLanes);n!==0&&(lm(e,n|1),Ot(e,Me()),!(ce&6)&&(Gs=Me()+500,ti()))}break;case 13:bi(function(){var r=tr(t,1);if(r!==null){var i=It();dn(r,t,1,i)}}),Um(t,1)}};um=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var n=It();dn(e,t,134217728,n)}Um(t,134217728)}};v0=function(t){if(t.tag===13){var e=Vr(t),n=tr(t,e);if(n!==null){var r=It();dn(n,t,e,r)}Um(t,e)}};y0=function(){return me};_0=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};Of=function(t,e,n){switch(e){case"input":if(xf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zc(r);if(!i)throw Error(B(90));YE(r),xf(r,i)}}}break;case"textarea":JE(t,n);break;case"select":e=n.value,e!=null&&Rs(t,!!n.multiple,e,!1)}};s0=Lm;o0=bi;var L1={usingClientEntryPoint:!1,Events:[ul,_s,Zc,r0,i0,Lm]},qo={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F1={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u0(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||O1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Qc=hu.inject(F1),Cn=hu}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L1;qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zm(e))throw Error(B(200));return D1(t,e,null,n)};qt.createRoot=function(t,e){if(!zm(t))throw Error(B(299));var n=!1,r="",i=UT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$m(t,1,!1,null,null,n,!1,r,i),t[er]=e.current,ka(t.nodeType===8?t.parentNode:t),new Bm(e)};qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=u0(e),t=t===null?null:t.stateNode,t};qt.flushSync=function(t){return bi(t)};qt.hydrate=function(t,e,n){if(!ld(e))throw Error(B(200));return ud(null,t,e,!0,n)};qt.hydrateRoot=function(t,e,n){if(!zm(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=UT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$T(e,null,t,1,n??null,i,!1,s,o),t[er]=e.current,ka(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ad(e)};qt.render=function(t,e,n){if(!ld(e))throw Error(B(200));return ud(null,t,e,!1,n)};qt.unmountComponentAtNode=function(t){if(!ld(t))throw Error(B(40));return t._reactRootContainer?(bi(function(){ud(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};qt.unstable_batchedUpdates=Lm;qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ld(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return ud(t,e,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function BT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BT)}catch(t){console.error(t)}}BT(),BE.exports=qt;var cd=BE.exports;const V1=qc(cd);var x_=cd;wf.createRoot=x_.createRoot,wf.hydrateRoot=x_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ja.apply(this,arguments)}var Pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pr||(Pr={}));const R_="popstate";function j1(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return fp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_c(i)}return U1(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $1(){return Math.random().toString(36).substr(2,8)}function P_(t,e){return{usr:t.state,key:t.key,idx:e}}function fp(t,e,n,r){return n===void 0&&(n=null),ja({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ho(e):e,{state:n,key:e&&e.key||r||$1()})}function _c(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function U1(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Pr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ja({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Pr.Pop;let S=d(),E=S==null?null:S-c;c=S,l&&l({action:a,location:T.location,delta:E})}function p(S,E){a=Pr.Push;let g=fp(T.location,S,E);c=d()+1;let y=P_(g,c),P=T.createHref(g);try{o.pushState(y,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(P)}s&&l&&l({action:a,location:T.location,delta:1})}function _(S,E){a=Pr.Replace;let g=fp(T.location,S,E);c=d();let y=P_(g,c),P=T.createHref(g);o.replaceState(y,"",P),s&&l&&l({action:a,location:T.location,delta:0})}function A(S){let E=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof S=="string"?S:_c(S);return g=g.replace(/ $/,"%20"),Le(E,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,E)}let T={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(R_,h),l=S,()=>{i.removeEventListener(R_,h),l=null}},createHref(S){return e(i,S)},createURL:A,encodeLocation(S){let E=A(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:_,go(S){return o.go(S)}};return T}var k_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(k_||(k_={}));function B1(t,e,n){return n===void 0&&(n="/"),z1(t,e,n)}function z1(t,e,n,r){let i=typeof e=="string"?ho(e):e,s=Wm(i.pathname||"/",n);if(s==null)return null;let o=WT(t);W1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=nk(s);a=Z1(o[l],c)}return a}function WT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=$r([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),WT(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:X1(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of HT(s.path))i(s,o,l)}),e}function HT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function W1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:J1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H1=/^:[\w-]+$/,q1=3,G1=2,K1=1,Q1=10,Y1=-2,N_=t=>t==="*";function X1(t,e){let n=t.split("/"),r=n.length;return n.some(N_)&&(r+=Y1),e&&(r+=G1),n.filter(i=>!N_(i)).reduce((i,s)=>i+(H1.test(s)?q1:s===""?K1:Q1),r)}function J1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Z1(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=ek({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:$r([s,h.pathname]),pathnameBase:ok($r([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=$r([s,h.pathnameBase]))}return o}function ek(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:_}=d;if(p==="*"){let T=a[h]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const A=a[h];return _&&!A?c[p]=void 0:c[p]=(A||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function tk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ho(t):t;return{pathname:n?n.startsWith("/")?n:ik(n,e):e,search:ak(r),hash:lk(i)}}function ik(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hm(t,e){let n=sk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ho(t):(i=ja({},t),Le(!i.pathname||!i.pathname.includes("?"),Gh("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),Gh("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),Gh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=rk(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const $r=t=>t.join("/").replace(/\/\/+/g,"/"),ok=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ak=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qT=["post","put","patch","delete"];new Set(qT);const ck=["get",...qT];new Set(ck);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}const Gm=m.createContext(null),dk=m.createContext(null),ni=m.createContext(null),dd=m.createContext(null),jn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),GT=m.createContext(null);function hk(t,e){let{relative:n}=e===void 0?{}:e;fo()||Le(!1);let{basename:r,navigator:i}=m.useContext(ni),{hash:s,pathname:o,search:a}=QT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$r([r,o])),i.createHref({pathname:l,search:a,hash:s})}function fo(){return m.useContext(dd)!=null}function ri(){return fo()||Le(!1),m.useContext(dd).location}function KT(t){m.useContext(ni).static||m.useLayoutEffect(t)}function ii(){let{isDataRoute:t}=m.useContext(jn);return t?Rk():fk()}function fk(){fo()||Le(!1);let t=m.useContext(Gm),{basename:e,future:n,navigator:r}=m.useContext(ni),{matches:i}=m.useContext(jn),{pathname:s}=ri(),o=JSON.stringify(Hm(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return KT(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=qm(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:$r([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const pk=m.createContext(null);function mk(t){let e=m.useContext(jn).outlet;return e&&m.createElement(pk.Provider,{value:t},e)}function gk(){let{matches:t}=m.useContext(jn),e=t[t.length-1];return e?e.params:{}}function QT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(ni),{matches:i}=m.useContext(jn),{pathname:s}=ri(),o=JSON.stringify(Hm(i,r.v7_relativeSplatPath));return m.useMemo(()=>qm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function vk(t,e){return yk(t,e)}function yk(t,e,n,r){fo()||Le(!1);let{navigator:i}=m.useContext(ni),{matches:s}=m.useContext(jn),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ri(),d;if(e){var h;let S=typeof e=="string"?ho(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||Le(!1),d=S}else d=c;let p=d.pathname||"/",_=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let A=B1(t,{pathname:_}),T=Ik(A&&A.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:$r([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:$r([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&T?m.createElement(dd.Provider,{value:{location:$a({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pr.Pop}},T):T}function _k(){let t=xk(),e=uk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,null)}const wk=m.createElement(_k,null);class Ek extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(jn.Provider,{value:this.props.routeContext},m.createElement(GT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tk(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(Gm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(jn.Provider,{value:e},r)}function Ik(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Le(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:_}=n,A=h.route.loader&&p[h.route.id]===void 0&&(!_||_[h.route.id]===void 0);if(h.route.lazy||A){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let _,A=!1,T=null,S=null;n&&(_=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||wk,l&&(c<0&&p===0?(Pk("route-fallback"),A=!0,S=null):c===p&&(A=!0,S=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),g=()=>{let y;return _?y=T:A?y=S:h.route.Component?y=m.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,m.createElement(Tk,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(Ek,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:g(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):g()},null)}var YT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(YT||{}),XT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(XT||{});function Sk(t){let e=m.useContext(Gm);return e||Le(!1),e}function Ck(t){let e=m.useContext(dk);return e||Le(!1),e}function Ak(t){let e=m.useContext(jn);return e||Le(!1),e}function JT(t){let e=Ak(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function xk(){var t;let e=m.useContext(GT),n=Ck(),r=JT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Rk(){let{router:t}=Sk(YT.UseNavigateStable),e=JT(XT.UseNavigateStable),n=m.useRef(!1);return KT(()=>{n.current=!0}),m.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$a({fromRouteId:e},s)))},[t,e])}const b_={};function Pk(t,e,n){b_[t]||(b_[t]=!0)}function kk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Nk(t){let{to:e,replace:n,state:r,relative:i}=t;fo()||Le(!1);let{future:s,static:o}=m.useContext(ni),{matches:a}=m.useContext(jn),{pathname:l}=ri(),c=ii(),d=qm(e,Hm(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function bk(t){return mk(t.context)}function us(t){Le(!1)}function Dk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Pr.Pop,navigator:s,static:o=!1,future:a}=t;fo()&&Le(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:s,static:o,future:$a({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ho(r));let{pathname:d="/",search:h="",hash:p="",state:_=null,key:A="default"}=r,T=m.useMemo(()=>{let S=Wm(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:_,key:A},navigationType:i}},[l,d,h,p,_,A,i]);return T==null?null:m.createElement(ni.Provider,{value:c},m.createElement(dd.Provider,{children:n,value:T}))}function Ok(t){let{children:e,location:n}=t;return vk(pp(e),n)}new Promise(()=>{});function pp(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let s=[...e,i];if(r.type===m.Fragment){n.push.apply(n,pp(r.props.children,s));return}r.type!==us&&Le(!1),!r.props.index||!r.props.children||Le(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}function Mk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fk(t,e){return t.button===0&&(!e||e==="_self")&&!Lk(t)}const Vk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jk="6";try{window.__reactRouterVersion=jk}catch{}const $k="startTransition",D_=Kc[$k];function Uk(t){let{basename:e,children:n,future:r,window:i}=t,s=m.useRef();s.current==null&&(s.current=j1({window:i,v5Compat:!0}));let o=s.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=m.useCallback(h=>{c&&D_?D_(()=>l(h)):l(h)},[l,c]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>kk(r),[r]),m.createElement(Dk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Bk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cs=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=Mk(e,Vk),{basename:_}=m.useContext(ni),A,T=!1;if(typeof c=="string"&&zk.test(c)&&(A=c,Bk))try{let y=new URL(window.location.href),P=c.startsWith("//")?new URL(y.protocol+c):new URL(c),D=Wm(P.pathname,_);P.origin===y.origin&&D!=null?c=D+P.search+P.hash:T=!0}catch{}let S=hk(c,{relative:i}),E=Wk(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function g(y){r&&r(y),y.defaultPrevented||E(y)}return m.createElement("a",mp({},p,{href:A||S,onClick:T||s?r:g,ref:n,target:l}))});var O_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(O_||(O_={}));var M_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M_||(M_={}));function Wk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ii(),c=ri(),d=QT(t,{relative:o});return m.useCallback(h=>{if(Fk(h,n)){h.preventDefault();let p=r!==void 0?r:_c(c)===_c(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}var ZT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(ZT);var Hk=ZT.exports;const yn=qc(Hk);function re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function L_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hd(...t){return e=>{let n=!1;const r=t.map(i=>{const s=L_(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():L_(t[i],null)}}}}function gt(...t){return m.useCallback(hd(...t),t)}function Wi(t,e=[]){let n=[];function r(s,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var E;const{scope:p,children:_,...A}=h,T=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,S=m.useMemo(()=>A,Object.values(A));return w.jsx(T.Provider,{value:S,children:_})};c.displayName=s+"Provider";function d(h,p){var T;const _=((T=p==null?void 0:p[t])==null?void 0:T[l])||a,A=m.useContext(_);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,qk(i,...e)]}function qk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ua(t){const e=Gk(t),n=m.forwardRef((r,i)=>{const{children:s,...o}=r,a=m.Children.toArray(s),l=a.find(Qk);if(l){const c=l.props.children,d=a.map(h=>h===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:h);return w.jsx(e,{...o,ref:i,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return w.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var po=Ua("Slot");function Gk(t){const e=m.forwardRef((n,r)=>{const{children:i,...s}=n;if(m.isValidElement(i)){const o=Xk(i),a=Yk(s,i.props);return i.type!==m.Fragment&&(a.ref=r?hd(r,o):o),m.cloneElement(i,a)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eI=Symbol("radix.slottable");function Kk(t){const e=({children:n})=>w.jsx(w.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=eI,e}function Qk(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eI}function Yk(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Xk(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Jk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=Jk.reduce((t,e)=>{const n=Ua(`Primitive.${e}`),r=m.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function tI(t,e){t&&cd.flushSync(()=>t.dispatchEvent(e))}function Ln(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Zk(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var eN="DismissableLayer",gp="dismissableLayer.update",tN="dismissableLayer.pointerDownOutside",nN="dismissableLayer.focusOutside",F_,nI=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Km=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(nI),[d,h]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=m.useState({}),A=gt(e,C=>h(C)),T=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=T.indexOf(S),g=d?T.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,P=g>=E,D=sN(C=>{const I=C.target,x=[...c.branches].some(R=>R.contains(I));!P||x||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),M=oN(C=>{const I=C.target;[...c.branches].some(R=>R.contains(I))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Zk(C=>{g===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(F_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),V_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=F_)}},[d,p,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),V_())},[d,c]),m.useEffect(()=>{const C=()=>_({});return document.addEventListener(gp,C),()=>document.removeEventListener(gp,C)},[]),w.jsx(Ve.div,{...l,ref:A,style:{pointerEvents:y?P?"auto":"none":void 0,...t.style},onFocusCapture:re(t.onFocusCapture,M.onFocusCapture),onBlurCapture:re(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:re(t.onPointerDownCapture,D.onPointerDownCapture)})});Km.displayName=eN;var rN="DismissableLayerBranch",iN=m.forwardRef((t,e)=>{const n=m.useContext(nI),r=m.useRef(null),i=gt(e,r);return m.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),w.jsx(Ve.div,{...t,ref:i})});iN.displayName=rN;function sN(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){rI(tN,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function oN(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),r=m.useRef(!1);return m.useEffect(()=>{const i=s=>{s.target&&!r.current&&rI(nN,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function V_(){const t=new CustomEvent(gp);document.dispatchEvent(t)}function rI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?tI(i,s):i.dispatchEvent(s)}var fn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},aN=Kc[" useId ".trim().toString()]||(()=>{}),lN=0;function vp(t){const[e,n]=m.useState(aN());return fn(()=>{n(r=>r??String(lN++))},[t]),t||(e?`radix-${e}`:"")}const uN=["top","right","bottom","left"],Kr=Math.min,jt=Math.max,wc=Math.round,fu=Math.floor,xn=t=>({x:t,y:t}),cN={left:"right",right:"left",bottom:"top",top:"bottom"},dN={start:"end",end:"start"};function yp(t,e,n){return jt(t,Kr(e,n))}function rr(t,e){return typeof t=="function"?t(e):t}function ir(t){return t.split("-")[0]}function mo(t){return t.split("-")[1]}function Qm(t){return t==="x"?"y":"x"}function Ym(t){return t==="y"?"height":"width"}const hN=new Set(["top","bottom"]);function Sn(t){return hN.has(ir(t))?"y":"x"}function Xm(t){return Qm(Sn(t))}function fN(t,e,n){n===void 0&&(n=!1);const r=mo(t),i=Xm(t),s=Ym(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ec(o)),[o,Ec(o)]}function pN(t){const e=Ec(t);return[_p(t),e,_p(e)]}function _p(t){return t.replace(/start|end/g,e=>dN[e])}const j_=["left","right"],$_=["right","left"],mN=["top","bottom"],gN=["bottom","top"];function vN(t,e,n){switch(t){case"top":case"bottom":return n?e?$_:j_:e?j_:$_;case"left":case"right":return e?mN:gN;default:return[]}}function yN(t,e,n,r){const i=mo(t);let s=vN(ir(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(_p)))),s}function Ec(t){return t.replace(/left|right|bottom|top/g,e=>cN[e])}function _N(t){return{top:0,right:0,bottom:0,left:0,...t}}function iI(t){return typeof t!="number"?_N(t):{top:t,right:t,bottom:t,left:t}}function Tc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function U_(t,e,n){let{reference:r,floating:i}=t;const s=Sn(e),o=Xm(e),a=Ym(o),l=ir(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let _;switch(l){case"top":_={x:d,y:r.y-i.height};break;case"bottom":_={x:d,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:h};break;case"left":_={x:r.x-i.width,y:h};break;default:_={x:r.x,y:r.y}}switch(mo(e)){case"start":_[o]-=p*(n&&c?-1:1);break;case"end":_[o]+=p*(n&&c?-1:1);break}return _}const wN=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=U_(c,r,l),p=r,_={},A=0;for(let T=0;T<a.length;T++){const{name:S,fn:E}=a[T],{x:g,y,data:P,reset:D}=await E({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:_,rects:c,platform:o,elements:{reference:t,floating:e}});d=g??d,h=y??h,_={..._,[S]:{..._[S],...P}},D&&A<=50&&(A++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:d,y:h}=U_(c,p,l)),T=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:_}};async function Ba(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:_=0}=rr(e,t),A=iI(_),S=a[p?h==="floating"?"reference":"floating":h],E=Tc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),g=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},D=Tc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:y,strategy:l}):g);return{top:(E.top-D.top+A.top)/P.y,bottom:(D.bottom-E.bottom+A.bottom)/P.y,left:(E.left-D.left+A.left)/P.x,right:(D.right-E.right+A.right)/P.x}}const EN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=rr(t,e)||{};if(c==null)return{};const h=iI(d),p={x:n,y:r},_=Xm(i),A=Ym(_),T=await o.getDimensions(c),S=_==="y",E=S?"top":"left",g=S?"bottom":"right",y=S?"clientHeight":"clientWidth",P=s.reference[A]+s.reference[_]-p[_]-s.floating[A],D=p[_]-s.reference[_],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[y]||s.floating[A]);const I=P/2-D/2,x=C/2-T[A]/2-1,R=Kr(h[E],x),b=Kr(h[g],x),O=R,N=C-T[A]-b,Z=C/2-T[A]/2+I,ge=yp(O,Z,N),ie=!l.arrow&&mo(i)!=null&&Z!==ge&&s.reference[A]/2-(Z<O?R:b)-T[A]/2<0,oe=ie?Z<O?Z-O:Z-N:0;return{[_]:p[_]+oe,data:{[_]:ge,centerOffset:Z-ge-oe,...ie&&{alignmentOffset:oe}},reset:ie}}}),TN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:T=!0,...S}=rr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=ir(i),g=Sn(a),y=ir(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(y||!T?[Ec(a)]:pN(a)),M=A!=="none";!p&&M&&D.push(...yN(a,T,A,P));const C=[a,...D],I=await Ba(e,S),x=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&x.push(I[E]),h){const Z=fN(i,o,P);x.push(I[Z[0]],I[Z[1]])}if(R=[...R,{placement:i,overflows:x}],!x.every(Z=>Z<=0)){var b,O;const Z=(((b=s.flip)==null?void 0:b.index)||0)+1,ge=C[Z];if(ge&&(!(h==="alignment"?g!==Sn(ge):!1)||R.every(V=>V.overflows[0]>0&&Sn(V.placement)===g)))return{data:{index:Z,overflows:R},reset:{placement:ge}};let ie=(O=R.filter(oe=>oe.overflows[0]<=0).sort((oe,V)=>oe.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!ie)switch(_){case"bestFit":{var N;const oe=(N=R.filter(V=>{if(M){const $=Sn(V.placement);return $===g||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:N[0];oe&&(ie=oe);break}case"initialPlacement":ie=a;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function B_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function z_(t){return uN.some(e=>t[e]>=0)}const IN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=rr(t,e);switch(r){case"referenceHidden":{const s=await Ba(e,{...i,elementContext:"reference"}),o=B_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:z_(o)}}}case"escaped":{const s=await Ba(e,{...i,altBoundary:!0}),o=B_(s,n.floating);return{data:{escapedOffsets:o,escaped:z_(o)}}}default:return{}}}}},sI=new Set(["left","top"]);async function SN(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ir(n),a=mo(n),l=Sn(n)==="y",c=sI.has(o)?-1:1,d=s&&l?-1:1,h=rr(e,t);let{mainAxis:p,crossAxis:_,alignmentAxis:A}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof A=="number"&&(_=a==="end"?A*-1:A),l?{x:_*d,y:p*c}:{x:p*c,y:_*d}}const CN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await SN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},AN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:E,y:g}=S;return{x:E,y:g}}},...l}=rr(t,e),c={x:n,y:r},d=await Ba(e,l),h=Sn(ir(i)),p=Qm(h);let _=c[p],A=c[h];if(s){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",g=_+d[S],y=_-d[E];_=yp(g,_,y)}if(o){const S=h==="y"?"top":"left",E=h==="y"?"bottom":"right",g=A+d[S],y=A-d[E];A=yp(g,A,y)}const T=a.fn({...e,[p]:_,[h]:A});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[p]:s,[h]:o}}}}}},xN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=rr(t,e),d={x:n,y:r},h=Sn(i),p=Qm(h);let _=d[p],A=d[h];const T=rr(a,e),S=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(l){const y=p==="y"?"height":"width",P=s.reference[p]-s.floating[y]+S.mainAxis,D=s.reference[p]+s.reference[y]-S.mainAxis;_<P?_=P:_>D&&(_=D)}if(c){var E,g;const y=p==="y"?"width":"height",P=sI.has(ir(i)),D=s.reference[h]-s.floating[y]+(P&&((E=o.offset)==null?void 0:E[h])||0)+(P?0:S.crossAxis),M=s.reference[h]+s.reference[y]+(P?0:((g=o.offset)==null?void 0:g[h])||0)-(P?S.crossAxis:0);A<D?A=D:A>M&&(A=M)}return{[p]:_,[h]:A}}}},RN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=rr(t,e),d=await Ba(e,c),h=ir(i),p=mo(i),_=Sn(i)==="y",{width:A,height:T}=s.floating;let S,E;h==="top"||h==="bottom"?(S=h,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,S=p==="end"?"top":"bottom");const g=T-d.top-d.bottom,y=A-d.left-d.right,P=Kr(T-d[S],g),D=Kr(A-d[E],y),M=!e.middlewareData.shift;let C=P,I=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=g),M&&!p){const R=jt(d.left,0),b=jt(d.right,0),O=jt(d.top,0),N=jt(d.bottom,0);_?I=A-2*(R!==0||b!==0?R+b:jt(d.left,d.right)):C=T-2*(O!==0||N!==0?O+N:jt(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:C});const x=await o.getDimensions(a.floating);return A!==x.width||T!==x.height?{reset:{rects:!0}}:{}}}};function fd(){return typeof window<"u"}function go(t){return oI(t)?(t.nodeName||"").toLowerCase():"#document"}function zt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $n(t){var e;return(e=(oI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oI(t){return fd()?t instanceof Node||t instanceof zt(t).Node:!1}function pn(t){return fd()?t instanceof Element||t instanceof zt(t).Element:!1}function Fn(t){return fd()?t instanceof HTMLElement||t instanceof zt(t).HTMLElement:!1}function W_(t){return!fd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof zt(t).ShadowRoot}const PN=new Set(["inline","contents"]);function dl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!PN.has(i)}const kN=new Set(["table","td","th"]);function NN(t){return kN.has(go(t))}const bN=[":popover-open",":modal"];function pd(t){return bN.some(e=>{try{return t.matches(e)}catch{return!1}})}const DN=["transform","translate","scale","rotate","perspective"],ON=["transform","translate","scale","rotate","perspective","filter"],MN=["paint","layout","strict","content"];function Jm(t){const e=Zm(),n=pn(t)?mn(t):t;return DN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ON.some(r=>(n.willChange||"").includes(r))||MN.some(r=>(n.contain||"").includes(r))}function LN(t){let e=Qr(t);for(;Fn(e)&&!Ks(e);){if(Jm(e))return e;if(pd(e))return null;e=Qr(e)}return null}function Zm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FN=new Set(["html","body","#document"]);function Ks(t){return FN.has(go(t))}function mn(t){return zt(t).getComputedStyle(t)}function md(t){return pn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qr(t){if(go(t)==="html")return t;const e=t.assignedSlot||t.parentNode||W_(t)&&t.host||$n(t);return W_(e)?e.host:e}function aI(t){const e=Qr(t);return Ks(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fn(e)&&dl(e)?e:aI(e)}function za(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=aI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=zt(i);if(s){const a=wp(o);return e.concat(o,o.visualViewport||[],dl(i)?i:[],a&&n?za(a):[])}return e.concat(i,za(i,[],n))}function wp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lI(t){const e=mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Fn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=wc(n)!==s||wc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function eg(t){return pn(t)?t:t.contextElement}function Os(t){const e=eg(t);if(!Fn(e))return xn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=lI(e);let o=(s?wc(n.width):n.width)/r,a=(s?wc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const VN=xn(0);function uI(t){const e=zt(t);return!Zm()||!e.visualViewport?VN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==zt(t)?!1:e}function Di(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=eg(t);let o=xn(1);e&&(r?pn(r)&&(o=Os(r)):o=Os(t));const a=jN(s,n,r)?uI(s):xn(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const p=zt(s),_=r&&pn(r)?zt(r):r;let A=p,T=wp(A);for(;T&&r&&_!==A;){const S=Os(T),E=T.getBoundingClientRect(),g=mn(T),y=E.left+(T.clientLeft+parseFloat(g.paddingLeft))*S.x,P=E.top+(T.clientTop+parseFloat(g.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,h*=S.y,l+=y,c+=P,A=zt(T),T=wp(A)}}return Tc({width:d,height:h,x:l,y:c})}function tg(t,e){const n=md(t).scrollLeft;return e?e.left+n:Di($n(t)).left+n}function cI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:tg(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function $N(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=$n(r),a=e?pd(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=xn(1);const d=xn(0),h=Fn(r);if((h||!h&&!s)&&((go(r)!=="body"||dl(o))&&(l=md(r)),Fn(r))){const _=Di(r);c=Os(r),d.x=_.x+r.clientLeft,d.y=_.y+r.clientTop}const p=o&&!h&&!s?cI(o,l,!0):xn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function UN(t){return Array.from(t.getClientRects())}function BN(t){const e=$n(t),n=md(t),r=t.ownerDocument.body,i=jt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=jt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tg(t);const a=-n.scrollTop;return mn(r).direction==="rtl"&&(o+=jt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function zN(t,e){const n=zt(t),r=$n(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Zm();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const WN=new Set(["absolute","fixed"]);function HN(t,e){const n=Di(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Fn(t)?Os(t):xn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function H_(t,e,n){let r;if(e==="viewport")r=zN(t,n);else if(e==="document")r=BN($n(t));else if(pn(e))r=HN(e,n);else{const i=uI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Tc(r)}function dI(t,e){const n=Qr(t);return n===e||!pn(n)||Ks(n)?!1:mn(n).position==="fixed"||dI(n,e)}function qN(t,e){const n=e.get(t);if(n)return n;let r=za(t,[],!1).filter(a=>pn(a)&&go(a)!=="body"),i=null;const s=mn(t).position==="fixed";let o=s?Qr(t):t;for(;pn(o)&&!Ks(o);){const a=mn(o),l=Jm(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&WN.has(i.position)||dl(o)&&!l&&dI(t,o))?r=r.filter(d=>d!==o):i=a,o=Qr(o)}return e.set(t,r),r}function GN(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?pd(e)?[]:qN(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=H_(e,d,i);return c.top=jt(h.top,c.top),c.right=Kr(h.right,c.right),c.bottom=Kr(h.bottom,c.bottom),c.left=jt(h.left,c.left),c},H_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function KN(t){const{width:e,height:n}=lI(t);return{width:e,height:n}}function QN(t,e,n){const r=Fn(e),i=$n(e),s=n==="fixed",o=Di(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=xn(0);function c(){l.x=tg(i)}if(r||!r&&!s)if((go(e)!=="body"||dl(i))&&(a=md(e)),r){const _=Di(e,!0,s,e);l.x=_.x+e.clientLeft,l.y=_.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?cI(i,a):xn(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Kh(t){return mn(t).position==="static"}function q_(t,e){if(!Fn(t)||mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $n(t)===n&&(n=n.ownerDocument.body),n}function hI(t,e){const n=zt(t);if(pd(t))return n;if(!Fn(t)){let i=Qr(t);for(;i&&!Ks(i);){if(pn(i)&&!Kh(i))return i;i=Qr(i)}return n}let r=q_(t,e);for(;r&&NN(r)&&Kh(r);)r=q_(r,e);return r&&Ks(r)&&Kh(r)&&!Jm(r)?n:r||LN(t)||n}const YN=async function(t){const e=this.getOffsetParent||hI,n=this.getDimensions,r=await n(t.floating);return{reference:QN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XN(t){return mn(t).direction==="rtl"}const JN={convertOffsetParentRelativeRectToViewportRelativeRect:$N,getDocumentElement:$n,getClippingRect:GN,getOffsetParent:hI,getElementRects:YN,getClientRects:UN,getDimensions:KN,getScale:Os,isElement:pn,isRTL:XN};function fI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ZN(t,e){let n=null,r;const i=$n(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:_}=c;if(a||e(),!p||!_)return;const A=fu(h),T=fu(i.clientWidth-(d+p)),S=fu(i.clientHeight-(h+_)),E=fu(d),y={rootMargin:-A+"px "+-T+"px "+-S+"px "+-E+"px",threshold:jt(0,Kr(1,l))||1};let P=!0;function D(M){const C=M[0].intersectionRatio;if(C!==l){if(!P)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!fI(c,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(D,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,y)}n.observe(t)}return o(!0),s}function eb(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=eg(t),d=i||s?[...c?za(c):[],...za(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const h=c&&a?ZN(c,n):null;let p=-1,_=null;o&&(_=new ResizeObserver(E=>{let[g]=E;g&&g.target===c&&_&&(_.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=_)==null||y.observe(e)})),n()}),c&&!l&&_.observe(c),_.observe(e));let A,T=l?Di(t):null;l&&S();function S(){const E=Di(t);T&&!fI(T,E)&&n(),T=E,A=requestAnimationFrame(S)}return n(),()=>{var E;d.forEach(g=>{i&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),h==null||h(),(E=_)==null||E.disconnect(),_=null,l&&cancelAnimationFrame(A)}}const tb=CN,nb=AN,rb=TN,ib=RN,sb=IN,G_=EN,ob=xN,ab=(t,e,n)=>{const r=new Map,i={platform:JN,...n},s={...i.platform,_c:r};return wN(t,e,{...i,platform:s})};var lb=typeof document<"u",ub=function(){},Fu=lb?m.useLayoutEffect:ub;function Ic(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ic(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ic(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function pI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function K_(t,e){const n=pI(t);return Math.round(e*n)/n}function Qh(t){const e=m.useRef(t);return Fu(()=>{e.current=t}),e}function cb(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,_]=m.useState(r);Ic(p,r)||_(r);const[A,T]=m.useState(null),[S,E]=m.useState(null),g=m.useCallback(V=>{V!==M.current&&(M.current=V,T(V))},[]),y=m.useCallback(V=>{V!==C.current&&(C.current=V,E(V))},[]),P=s||A,D=o||S,M=m.useRef(null),C=m.useRef(null),I=m.useRef(d),x=l!=null,R=Qh(l),b=Qh(i),O=Qh(c),N=m.useCallback(()=>{if(!M.current||!C.current)return;const V={placement:e,strategy:n,middleware:p};b.current&&(V.platform=b.current),ab(M.current,C.current,V).then($=>{const H={...$,isPositioned:O.current!==!1};Z.current&&!Ic(I.current,H)&&(I.current=H,cd.flushSync(()=>{h(H)}))})},[p,e,n,b,O]);Fu(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[c]);const Z=m.useRef(!1);Fu(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Fu(()=>{if(P&&(M.current=P),D&&(C.current=D),P&&D){if(R.current)return R.current(P,D,N);N()}},[P,D,N,R,x]);const ge=m.useMemo(()=>({reference:M,floating:C,setReference:g,setFloating:y}),[g,y]),ie=m.useMemo(()=>({reference:P,floating:D}),[P,D]),oe=m.useMemo(()=>{const V={position:n,left:0,top:0};if(!ie.floating)return V;const $=K_(ie.floating,d.x),H=K_(ie.floating,d.y);return a?{...V,transform:"translate("+$+"px, "+H+"px)",...pI(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:H}},[n,a,ie.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:N,refs:ge,elements:ie,floatingStyles:oe}),[d,N,ge,ie,oe])}const db=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?G_({element:r.current,padding:i}).fn(n):{}:r?G_({element:r,padding:i}).fn(n):{}}}},hb=(t,e)=>({...tb(t),options:[t,e]}),fb=(t,e)=>({...nb(t),options:[t,e]}),pb=(t,e)=>({...ob(t),options:[t,e]}),mb=(t,e)=>({...rb(t),options:[t,e]}),gb=(t,e)=>({...ib(t),options:[t,e]}),vb=(t,e)=>({...sb(t),options:[t,e]}),yb=(t,e)=>({...db(t),options:[t,e]});var _b="Arrow",mI=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return w.jsx(Ve.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});mI.displayName=_b;var wb=mI;function Eb(t){const[e,n]=m.useState(void 0);return fn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ng="Popper",[gI,gd]=Wi(ng),[Tb,vI]=gI(ng),yI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return w.jsx(Tb,{scope:e,anchor:r,onAnchorChange:i,children:n})};yI.displayName=ng;var _I="PopperAnchor",wI=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=vI(_I,n),o=m.useRef(null),a=gt(e,o);return m.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:w.jsx(Ve.div,{...i,ref:a})});wI.displayName=_I;var rg="PopperContent",[Ib,Sb]=gI(rg),EI=m.forwardRef((t,e)=>{var Se,nn,Xe,Rt,Kt,hr;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:_="optimized",onPlaced:A,...T}=t,S=vI(rg,n),[E,g]=m.useState(null),y=gt(e,Mt=>g(Mt)),[P,D]=m.useState(null),M=Eb(P),C=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,x=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},b=Array.isArray(c)?c:[c],O=b.length>0,N={padding:R,boundary:b.filter(Ab),altBoundary:O},{refs:Z,floatingStyles:ge,placement:ie,isPositioned:oe,middlewareData:V}=cb({strategy:"fixed",placement:x,whileElementsMounted:(...Mt)=>eb(...Mt,{animationFrame:_==="always"}),elements:{reference:S.anchor},middleware:[hb({mainAxis:i+I,alignmentAxis:o}),l&&fb({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?pb():void 0,...N}),l&&mb({...N}),gb({...N,apply:({elements:Mt,rects:Xi,availableWidth:Co,availableHeight:Dl})=>{const{width:Zd,height:eh}=Xi.reference,ui=Mt.floating.style;ui.setProperty("--radix-popper-available-width",`${Co}px`),ui.setProperty("--radix-popper-available-height",`${Dl}px`),ui.setProperty("--radix-popper-anchor-width",`${Zd}px`),ui.setProperty("--radix-popper-anchor-height",`${eh}px`)}}),P&&yb({element:P,padding:a}),xb({arrowWidth:C,arrowHeight:I}),p&&vb({strategy:"referenceHidden",...N})]}),[$,H]=SI(ie),te=Ln(A);fn(()=>{oe&&(te==null||te())},[oe,te]);const Y=(Se=V.arrow)==null?void 0:Se.x,pe=(nn=V.arrow)==null?void 0:nn.y,Ie=((Xe=V.arrow)==null?void 0:Xe.centerOffset)!==0,[je,Ne]=m.useState();return fn(()=>{E&&Ne(window.getComputedStyle(E).zIndex)},[E]),w.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:oe?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(Rt=V.transformOrigin)==null?void 0:Rt.x,(Kt=V.transformOrigin)==null?void 0:Kt.y].join(" "),...((hr=V.hide)==null?void 0:hr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(Ib,{scope:n,placedSide:$,onArrowChange:D,arrowX:Y,arrowY:pe,shouldHideArrow:Ie,children:w.jsx(Ve.div,{"data-side":$,"data-align":H,...T,ref:y,style:{...T.style,animation:oe?void 0:"none"}})})})});EI.displayName=rg;var TI="PopperArrow",Cb={top:"bottom",right:"left",bottom:"top",left:"right"},II=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Sb(TI,r),o=Cb[s.placedSide];return w.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:w.jsx(wb,{...i,ref:n,style:{...i.style,display:"block"}})})});II.displayName=TI;function Ab(t){return t!==null}var xb=t=>({name:"transformOrigin",options:t,fn(e){var S,E,g;const{placement:n,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=SI(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,_=(((g=i.arrow)==null?void 0:g.y)??0)+l/2;let A="",T="";return c==="bottom"?(A=o?h:`${p}px`,T=`${-l}px`):c==="top"?(A=o?h:`${p}px`,T=`${r.floating.height+l}px`):c==="right"?(A=`${-l}px`,T=o?h:`${_}px`):c==="left"&&(A=`${r.floating.width+l}px`,T=o?h:`${_}px`),{data:{x:A,y:T}}}});function SI(t){const[e,n="center"]=t.split("-");return[e,n]}var Rb=yI,CI=wI,AI=EI,xI=II,Pb="Portal",RI=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=m.useState(!1);fn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?V1.createPortal(w.jsx(Ve.div,{...r,ref:e}),o):null});RI.displayName=Pb;function kb(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var vo=t=>{const{present:e,children:n}=t,r=Nb(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),s=gt(r.ref,bb(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:s}):null};vo.displayName="Presence";function Nb(t){const[e,n]=m.useState(),r=m.useRef(null),i=m.useRef(t),s=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=kb(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=pu(r.current);s.current=a==="mounted"?c:"none"},[a]),fn(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,_=pu(c);t?l("MOUNT"):_==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),fn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=_=>{const T=pu(r.current).includes(_.animationName);if(_.target===e&&T&&(l("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=_=>{_.target===e&&(s.current=pu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function pu(t){return(t==null?void 0:t.animationName)||"none"}function bb(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Db=Kc[" useInsertionEffect ".trim().toString()]||fn;function PI({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Ob({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=m.useRef(t!==void 0);m.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=m.useCallback(d=>{var h;if(a){const p=Mb(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else s(d)},[a,t,s,o]);return[l,c]}function Ob({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),s=m.useRef(e);return Db(()=>{s.current=e},[e]),m.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Mb(t){return typeof t=="function"}var Lb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Fb="VisuallyHidden",kI=m.forwardRef((t,e)=>w.jsx(Ve.span,{...t,ref:e,style:{...Lb,...t.style}}));kI.displayName=Fb;var Vb=kI,[vd,zU]=Wi("Tooltip",[gd]),ig=gd(),NI="TooltipProvider",jb=700,Q_="tooltip.open",[$b,bI]=vd(NI),DI=t=>{const{__scopeTooltip:e,delayDuration:n=jb,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),w.jsx($b,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};DI.displayName=NI;var OI="Tooltip",[WU,yd]=vd(OI),Ep="TooltipTrigger",Ub=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=yd(Ep,n),s=bI(Ep,n),o=ig(n),a=m.useRef(null),l=gt(e,a,i.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),w.jsx(CI,{asChild:!0,...o,children:w.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:re(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:re(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:re(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:re(t.onBlur,i.onClose),onClick:re(t.onClick,i.onClose)})})});Ub.displayName=Ep;var Bb="TooltipPortal",[HU,zb]=vd(Bb,{forceMount:void 0}),Qs="TooltipContent",Wb=m.forwardRef((t,e)=>{const n=zb(Qs,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=yd(Qs,t.__scopeTooltip);return w.jsx(vo,{present:r||o.open,children:o.disableHoverableContent?w.jsx(MI,{side:i,...s,ref:e}):w.jsx(Hb,{side:i,...s,ref:e})})}),Hb=m.forwardRef((t,e)=>{const n=yd(Qs,t.__scopeTooltip),r=bI(Qs,t.__scopeTooltip),i=m.useRef(null),s=gt(e,i),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:h}=r,p=m.useCallback(()=>{a(null),h(!1)},[h]),_=m.useCallback((A,T)=>{const S=A.currentTarget,E={x:A.clientX,y:A.clientY},g=Yb(E,S.getBoundingClientRect()),y=Xb(E,g),P=Jb(T.getBoundingClientRect()),D=eD([...y,...P]);a(D),h(!0)},[h]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const A=S=>_(S,d),T=S=>_(S,l);return l.addEventListener("pointerleave",A),d.addEventListener("pointerleave",T),()=>{l.removeEventListener("pointerleave",A),d.removeEventListener("pointerleave",T)}}},[l,d,_,p]),m.useEffect(()=>{if(o){const A=T=>{const S=T.target,E={x:T.clientX,y:T.clientY},g=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),y=!Zb(E,o);g?p():y&&(p(),c())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[l,d,o,c,p]),w.jsx(MI,{...t,ref:s})}),[qb,Gb]=vd(OI,{isInside:!1}),Kb=Kk("TooltipContent"),MI=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=yd(Qs,n),c=ig(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(Q_,d),()=>document.removeEventListener(Q_,d)),[d]),m.useEffect(()=>{if(l.trigger){const h=p=>{const _=p.target;_!=null&&_.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),w.jsx(Km,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:w.jsxs(AI,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(Kb,{children:r}),w.jsx(qb,{scope:n,isInside:!0,children:w.jsx(Vb,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Wb.displayName=Qs;var LI="TooltipArrow",Qb=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ig(n);return Gb(LI,n).isInside?null:w.jsx(xI,{...i,...r,ref:e})});Qb.displayName=LI;function Yb(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Xb(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Jb(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Zb(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(i=!i)}return i}function eD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),tD(e)}function tD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var nD=DI,FI=m.createContext(void 0),rD=t=>{const{dir:e,children:n}=t;return w.jsx(FI.Provider,{value:e,children:n})};function VI(t){const e=m.useContext(FI);return t||e||"ltr"}function iD(t){switch(t){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand"}}const Vt={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}};function jI(t){return t==="gray"?"gray":iD(t)}const rs=()=>{},Tp=m.createContext(void 0),$I=m.forwardRef((t,e)=>m.useContext(Tp)===void 0?m.createElement(nD,null,m.createElement(rD,{dir:"ltr"},m.createElement(UI,{...t,ref:e}))):m.createElement(sg,{...t,ref:e}));$I.displayName="Theme";const UI=m.forwardRef((t,e)=>{const{appearance:n=Vt.appearance.default,accentColor:r=Vt.accentColor.default,grayColor:i=Vt.grayColor.default,panelBackground:s=Vt.panelBackground.default,radius:o=Vt.radius.default,scaling:a=Vt.scaling.default,hasBackground:l=Vt.hasBackground.default,...c}=t,[d,h]=m.useState(n);m.useEffect(()=>h(n),[n]);const[p,_]=m.useState(r);m.useEffect(()=>_(r),[r]);const[A,T]=m.useState(i);m.useEffect(()=>T(i),[i]);const[S,E]=m.useState(s);m.useEffect(()=>E(s),[s]);const[g,y]=m.useState(o);m.useEffect(()=>y(o),[o]);const[P,D]=m.useState(a);m.useEffect(()=>D(a),[a]);const M=m.memo(({appearance:I})=>m.createElement("script",{dangerouslySetInnerHTML:{__html:`!(function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');d.style.colorScheme='${I}';c.add('${I}');}catch(e){}})();`}}),()=>!0);M.displayName="ExplicitRootAppearanceScript",m.useEffect(()=>sD(n),[n]);const C=A==="auto"?jI(p):A;return m.createElement(m.Fragment,null,d!=="inherit"&&m.createElement(M,{appearance:d}),l&&m.createElement("style",{dangerouslySetInnerHTML:{__html:`
:root, .light, .light-theme { --color-page-background: white; }
.dark, .dark-theme { --color-page-background: var(--${C}-1); }
body { background-color: var(--color-page-background); }
`}}),m.createElement(sg,{...c,ref:e,isRoot:!0,hasBackground:l,appearance:d,accentColor:p,grayColor:A,panelBackground:S,radius:g,scaling:P,onAppearanceChange:h,onAccentColorChange:_,onGrayColorChange:T,onPanelBackgroundChange:E,onRadiusChange:y,onScalingChange:D}))});UI.displayName="ThemeRoot";const sg=m.forwardRef((t,e)=>{var n,r,i,s,o,a;const l=m.useContext(Tp),{asChild:c,isRoot:d,hasBackground:h,appearance:p=(n=l==null?void 0:l.appearance)!==null&&n!==void 0?n:Vt.appearance.default,accentColor:_=(r=l==null?void 0:l.accentColor)!==null&&r!==void 0?r:Vt.accentColor.default,grayColor:A=(i=l==null?void 0:l.resolvedGrayColor)!==null&&i!==void 0?i:Vt.grayColor.default,panelBackground:T=(s=l==null?void 0:l.panelBackground)!==null&&s!==void 0?s:Vt.panelBackground.default,radius:S=(o=l==null?void 0:l.radius)!==null&&o!==void 0?o:Vt.radius.default,scaling:E=(a=l==null?void 0:l.scaling)!==null&&a!==void 0?a:Vt.scaling.default,onAppearanceChange:g=rs,onAccentColorChange:y=rs,onGrayColorChange:P=rs,onPanelBackgroundChange:D=rs,onRadiusChange:M=rs,onScalingChange:C=rs,...I}=t,x=c?po:"div",R=A==="auto"?jI(_):A,b=t.appearance!==void 0&&t.appearance!=="inherit",O=t.grayColor!==void 0,N=!d&&(h===!0||h!==!1&&(b||O));return m.createElement(Tp.Provider,{value:m.useMemo(()=>({appearance:p,accentColor:_,grayColor:A,resolvedGrayColor:R,panelBackground:T,radius:S,scaling:E,onAppearanceChange:g,onAccentColorChange:y,onGrayColorChange:P,onPanelBackgroundChange:D,onRadiusChange:M,onScalingChange:C}),[p,_,A,R,T,S,E,g,y,P,D,M,C])},m.createElement(x,{"data-is-root-theme":d?"true":"false","data-accent-color":_,"data-gray-color":R,"data-has-background":N?"true":"false","data-panel-background":T,"data-radius":S,"data-scaling":E,ref:e,...I,className:yn("radix-themes",{light:!d&&p==="light",dark:!d&&p==="dark"},I.className)}))});sg.displayName="ThemeImpl";function sD(t){if(t==="inherit")return;const e=document.documentElement;(e.classList.contains("light-theme")||e.classList.contains("dark-theme"))&&(e.classList.remove("light-theme","dark-theme"),e.style.colorScheme=t,e.classList.add(`${t}-theme`)),(e.classList.contains("light")||e.classList.contains("dark"))&&(e.classList.remove("light","dark"),e.style.colorScheme=t,e.classList.add(t))}const hl={default:void 0},og={default:void 0};function ne(t,e="",n){var r,i,s,o;const a=[];if(typeof t=="object"){for(const l of Object.keys(t))if(l in t){const c=(r=t[l])===null||r===void 0?void 0:r.toString(),d=c==null?void 0:c.startsWith("-"),h=e===""?"":"-",p=d?`-${e}`:e,_=d?c==null?void 0:c.substring(1):c;if(_===void 0)continue;const A=(i=n==null?void 0:n[_])!==null&&i!==void 0?i:_,T=l==="initial"?`${p}${h}${A}`:`${l}:${p}${h}${A}`;a.push(T)}}if(typeof t=="string"){const l=t.startsWith("-"),c=e===""?"":"-",d=l?`-${e}`:e,h=l?t.substring(1):t,p=(s=n==null?void 0:n[h])!==null&&s!==void 0?s:h;a.push(`${d}${c}${p}`)}if(typeof t=="boolean"){const l=e===""?"":"-",c=t.toString(),d=(o=n==null?void 0:n[c])!==null&&o!==void 0?o:c;a.push(`${e}${l}${d}`)}return a.join(" ")}const pi=["0","1","2","3","4","5","6","7","8","9"],oD={p:{type:"enum",values:pi,default:void 0,responsive:!0},px:{type:"enum",values:pi,default:void 0,responsive:!0},py:{type:"enum",values:pi,default:void 0,responsive:!0},pt:{type:"enum",values:pi,default:void 0,responsive:!0},pr:{type:"enum",values:pi,default:void 0,responsive:!0},pb:{type:"enum",values:pi,default:void 0,responsive:!0},pl:{type:"enum",values:pi,default:void 0,responsive:!0}};function BI(t){const{p:e=et.p.default,px:n=et.px.default,py:r=et.py.default,pt:i=et.pt.default,pr:s=et.pr.default,pb:o=et.pb.default,pl:a=et.pl.default,...l}=t;return{p:e,px:n,py:r,pt:i,pr:s,pb:o,pl:a,rest:l}}function zI(t){return[ne(t.p,"rt-r-p"),ne(t.px,"rt-r-px"),ne(t.py,"rt-r-py"),ne(t.pt,"rt-r-pt"),ne(t.pr,"rt-r-pr"),ne(t.pb,"rt-r-pb"),ne(t.pl,"rt-r-pl")].filter(Boolean).join(" ")}const et={...oD,position:{default:void 0},inset:{default:void 0},top:{default:void 0},right:{default:void 0},bottom:{default:void 0},left:{default:void 0},width:{default:void 0},height:{default:void 0},shrink:{default:void 0},grow:{default:void 0}};function aD(t){const{rest:e,...n}=BI(t),{position:r=et.position.default,width:i=et.width.default,height:s=et.height.default,inset:o=et.inset.default,top:a=et.top.default,bottom:l=et.bottom.default,left:c=et.left.default,right:d=et.right.default,shrink:h=et.shrink.default,grow:p=et.grow.default,..._}=e;return{...n,position:r,width:i,height:s,inset:o,top:a,bottom:l,left:c,right:d,shrink:h,grow:p,rest:_}}function lD(t){return[zI(t),ne(t.position,"rt-r-position"),ne(t.shrink,"rt-r-fs"),ne(t.grow,"rt-r-fg"),ne(t.width,"rt-r-w"),ne(t.height,"rt-r-h"),ne(t.inset,"rt-r-inset"),ne(t.top,"rt-r-top"),ne(t.bottom,"rt-r-bottom"),ne(t.left,"rt-r-left"),ne(t.right,"rt-r-right")].filter(Boolean).join(" ")}const WI={default:void 0},mi={m:{default:void 0},mx:{default:void 0},my:{default:void 0},mt:{default:void 0},mr:{default:void 0},mb:{default:void 0},ml:{default:void 0}};function si(t){const{m:e=mi.m.default,mx:n=mi.mx.default,my:r=mi.my.default,mt:i=mi.mt.default,mr:s=mi.mr.default,mb:o=mi.mb.default,ml:a=mi.ml.default,...l}=t;return{m:e,mx:n,my:r,mt:i,mr:s,mb:o,ml:a,rest:l}}function Hi(t){return[ne(t.m,"rt-r-m"),ne(t.mx,"rt-r-mx"),ne(t.my,"rt-r-my"),ne(t.mt,"rt-r-mt"),ne(t.mr,"rt-r-mr"),ne(t.mb,"rt-r-mb"),ne(t.ml,"rt-r-ml")].filter(Boolean).join(" ")}const HI={default:void 0},qI={default:void 0},uD={default:void 0},yi={display:{default:"flex"},direction:{default:void 0},align:{default:void 0},justify:{default:"start"},wrap:{default:void 0},gap:{default:void 0}},Rn=m.forwardRef((t,e)=>{const{rest:n,...r}=si(t),{rest:i,...s}=aD(n),{className:o,asChild:a,display:l=yi.display.default,direction:c=yi.direction.default,align:d=yi.align.default,justify:h=yi.justify.default,wrap:p=yi.wrap.default,gap:_=yi.gap.default,...A}=i,T=a?po:"div";return m.createElement(T,{...A,ref:e,className:yn("rt-Flex",o,ne(l,"rt-r-display"),ne(c,"rt-r-fd"),ne(d,"rt-r-ai"),ne(h,"rt-r-jc",{between:"space-between"}),ne(p,"rt-r-fw"),ne(_,"rt-r-gap"),lD(s),Hi(r))})});Rn.displayName="Flex";const is={size:{default:"6"},weight:{default:"bold"},align:qI,trim:WI,color:hl,highContrast:og},GI=m.forwardRef((t,e)=>{const{rest:n,...r}=si(t),{children:i,className:s,asChild:o=!1,as:a="h1",size:l=is.size.default,weight:c=is.weight.default,align:d=is.align.default,trim:h=is.trim.default,color:p=is.color.default,highContrast:_=is.highContrast.default,...A}=n;return m.createElement(po,{"data-accent-color":p,...A,ref:e,className:yn("rt-Heading",s,ne(l,"rt-r-size"),ne(c,"rt-r-weight"),ne(d,"rt-r-ta"),ne(h,"rt-r-lt"),{"rt-high-contrast":_},Hi(r))},o?i:m.createElement(a,null,i))});GI.displayName="Heading";const ss={size:{default:void 0},weight:uD,align:qI,trim:WI,color:hl,highContrast:og},Et=m.forwardRef((t,e)=>{const{rest:n,...r}=si(t),{children:i,className:s,asChild:o=!1,as:a="span",size:l=ss.size.default,weight:c=ss.weight.default,align:d=ss.align.default,trim:h=ss.trim.default,color:p=ss.color.default,highContrast:_=ss.highContrast.default,...A}=n;return m.createElement(po,{"data-accent-color":p,...A,ref:e,className:yn("rt-Text",s,ne(l,"rt-r-size"),ne(c,"rt-r-weight"),ne(d,"rt-r-ta"),ne(h,"rt-r-lt"),{"rt-high-contrast":_},Hi(r))},o?i:m.createElement(a,null,i))});Et.displayName="Text";function KI(t){const e=t+"CollectionProvider",[n,r]=Wi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:S,children:E}=T,g=En.useRef(null),y=En.useRef(new Map).current;return w.jsx(i,{scope:S,itemMap:y,collectionRef:g,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=Ua(a),c=En.forwardRef((T,S)=>{const{scope:E,children:g}=T,y=s(a,E),P=gt(S,y.collectionRef);return w.jsx(l,{ref:P,children:g})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=Ua(d),_=En.forwardRef((T,S)=>{const{scope:E,children:g,...y}=T,P=En.useRef(null),D=gt(S,P),M=s(d,E);return En.useEffect(()=>(M.itemMap.set(P,{ref:P,...y}),()=>void M.itemMap.delete(P))),w.jsx(p,{[h]:"",ref:D,children:g})});_.displayName=d;function A(T){const S=s(t+"CollectionConsumer",T);return En.useCallback(()=>{const g=S.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((M,C)=>y.indexOf(M.ref.current)-y.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:c,ItemSlot:_},A,r]}var Yh="rovingFocusGroup.onEntryFocus",cD={bubbles:!1,cancelable:!0},fl="RovingFocusGroup",[Ip,QI,dD]=KI(fl),[hD,YI]=Wi(fl,[dD]),[fD,pD]=hD(fl),XI=m.forwardRef((t,e)=>w.jsx(Ip.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(Ip.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(mD,{...t,ref:e})})}));XI.displayName=fl;var mD=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,p=m.useRef(null),_=gt(e,p),A=VI(s),[T,S]=PI({prop:o,defaultProp:a??null,onChange:l,caller:fl}),[E,g]=m.useState(!1),y=Ln(c),P=QI(n),D=m.useRef(!1),[M,C]=m.useState(0);return m.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(Yh,y),()=>I.removeEventListener(Yh,y)},[y]),w.jsx(fD,{scope:n,orientation:r,dir:A,loop:i,currentTabStopId:T,onItemFocus:m.useCallback(I=>S(I),[S]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(I=>I+1),[]),onFocusableItemRemove:m.useCallback(()=>C(I=>I-1),[]),children:w.jsx(Ve.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...h,ref:_,style:{outline:"none",...t.style},onMouseDown:re(t.onMouseDown,()=>{D.current=!0}),onFocus:re(t.onFocus,I=>{const x=!D.current;if(I.target===I.currentTarget&&x&&!E){const R=new CustomEvent(Yh,cD);if(I.currentTarget.dispatchEvent(R),!R.defaultPrevented){const b=P().filter(ie=>ie.focusable),O=b.find(ie=>ie.active),N=b.find(ie=>ie.id===T),ge=[O,N,...b].filter(Boolean).map(ie=>ie.ref.current);eS(ge,d)}}D.current=!1}),onBlur:re(t.onBlur,()=>g(!1))})})}),JI="RovingFocusGroupItem",ZI=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=vp(),c=s||l,d=pD(JI,n),h=d.currentTabStopId===c,p=QI(n),{onFocusableItemAdd:_,onFocusableItemRemove:A,currentTabStopId:T}=d;return m.useEffect(()=>{if(r)return _(),()=>A()},[r,_,A]),w.jsx(Ip.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:w.jsx(Ve.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:re(t.onMouseDown,S=>{r?d.onItemFocus(c):S.preventDefault()}),onFocus:re(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:re(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=yD(S,d.orientation,d.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let y=p().filter(P=>P.focusable).map(P=>P.ref.current);if(E==="last")y.reverse();else if(E==="prev"||E==="next"){E==="prev"&&y.reverse();const P=y.indexOf(S.currentTarget);y=d.loop?_D(y,P+1):y.slice(P+1)}setTimeout(()=>eS(y))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:T!=null}):o})})});ZI.displayName=JI;var gD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vD(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yD(t,e,n){const r=vD(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return gD[r]}function eS(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function _D(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wD=XI,ED=ZI,Xh=0;function TD(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Y_()),document.body.insertAdjacentElement("beforeend",t[1]??Y_()),Xh++,()=>{Xh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xh--}},[])}function Y_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jh="focusScope.autoFocusOnMount",Zh="focusScope.autoFocusOnUnmount",X_={bubbles:!1,cancelable:!0},ID="FocusScope",tS=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=m.useState(null),c=Ln(i),d=Ln(s),h=m.useRef(null),p=gt(e,T=>l(T)),_=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let T=function(y){if(_.paused||!a)return;const P=y.target;a.contains(P)?h.current=P:yr(h.current,{select:!0})},S=function(y){if(_.paused||!a)return;const P=y.relatedTarget;P!==null&&(a.contains(P)||yr(h.current,{select:!0}))},E=function(y){if(document.activeElement===document.body)for(const D of y)D.removedNodes.length>0&&yr(a)};document.addEventListener("focusin",T),document.addEventListener("focusout",S);const g=new MutationObserver(E);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",S),g.disconnect()}}},[r,a,_.paused]),m.useEffect(()=>{if(a){Z_.add(_);const T=document.activeElement;if(!a.contains(T)){const E=new CustomEvent(Jh,X_);a.addEventListener(Jh,c),a.dispatchEvent(E),E.defaultPrevented||(SD(PD(nS(a)),{select:!0}),document.activeElement===T&&yr(a))}return()=>{a.removeEventListener(Jh,c),setTimeout(()=>{const E=new CustomEvent(Zh,X_);a.addEventListener(Zh,d),a.dispatchEvent(E),E.defaultPrevented||yr(T??document.body,{select:!0}),a.removeEventListener(Zh,d),Z_.remove(_)},0)}}},[a,c,d,_]);const A=m.useCallback(T=>{if(!n&&!r||_.paused)return;const S=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,E=document.activeElement;if(S&&E){const g=T.currentTarget,[y,P]=CD(g);y&&P?!T.shiftKey&&E===P?(T.preventDefault(),n&&yr(y,{select:!0})):T.shiftKey&&E===y&&(T.preventDefault(),n&&yr(P,{select:!0})):E===g&&T.preventDefault()}},[n,r,_.paused]);return w.jsx(Ve.div,{tabIndex:-1,...o,ref:p,onKeyDown:A})});tS.displayName=ID;function SD(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(yr(r,{select:e}),document.activeElement!==n)return}function CD(t){const e=nS(t),n=J_(e,t),r=J_(e.reverse(),t);return[n,r]}function nS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function J_(t,e){for(const n of t)if(!AD(n,{upTo:e}))return n}function AD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xD(t){return t instanceof HTMLInputElement&&"select"in t}function yr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xD(t)&&e&&t.select()}}var Z_=RD();function RD(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ew(t,e),t.unshift(e)},remove(e){var n;t=ew(t,e),(n=t[0])==null||n.resume()}}}function ew(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function PD(t){return t.filter(e=>e.tagName!=="A")}var kD=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},os=new WeakMap,mu=new WeakMap,gu={},ef=0,rS=function(t){return t&&(t.host||rS(t.parentNode))},ND=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=rS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bD=function(t,e,n,r){var i=ND(e,Array.isArray(t)?t:[t]);gu[n]||(gu[n]=new WeakMap);var s=gu[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var _=p.getAttribute(r),A=_!==null&&_!=="false",T=(os.get(p)||0)+1,S=(s.get(p)||0)+1;os.set(p,T),s.set(p,S),o.push(p),T===1&&A&&mu.set(p,!0),S===1&&p.setAttribute(n,"true"),A||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return d(e),a.clear(),ef++,function(){o.forEach(function(h){var p=os.get(h)-1,_=s.get(h)-1;os.set(h,p),s.set(h,_),p||(mu.has(h)||h.removeAttribute(r),mu.delete(h)),_||h.removeAttribute(n)}),ef--,ef||(os=new WeakMap,os=new WeakMap,mu=new WeakMap,gu={})}},DD=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=kD(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),bD(r,i,n,"aria-hidden")):function(){return null}},In=function(){return In=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},In.apply(this,arguments)};function pl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function OD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Vu="right-scroll-bar-position",ju="width-before-scroll-bar",MD="with-scroll-bars-hidden",LD="--removed-body-scroll-bar-size";function tf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function FD(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var VD=typeof window<"u"?m.useLayoutEffect:m.useEffect,tw=new WeakMap;function jD(t,e){var n=FD(null,function(r){return t.forEach(function(i){return tf(i,r)})});return VD(function(){var r=tw.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||tf(a,null)}),s.forEach(function(a){i.has(a)||tf(a,o)})}tw.set(n,t)},[t]),n}function $D(t){return t}function UD(t,e){e===void 0&&(e=$D);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function BD(t){t===void 0&&(t={});var e=UD(null);return e.options=In({async:!0,ssr:!1},t),e}var iS=function(t){var e=t.sideCar,n=pl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,In({},n))};iS.isSideCarExport=!0;function zD(t,e){return t.useMedium(e),iS}var sS=BD(),nf=function(){},_d=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:nf,onWheelCapture:nf,onTouchMoveCapture:nf}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,_=t.noRelative,A=t.noIsolation,T=t.inert,S=t.allowPinchZoom,E=t.as,g=E===void 0?"div":E,y=t.gapMode,P=pl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,M=jD([n,e]),C=In(In({},P),i);return m.createElement(m.Fragment,null,d&&m.createElement(D,{sideCar:sS,removeScrollBar:c,shards:h,noRelative:_,noIsolation:A,inert:T,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),In(In({},C),{ref:M})):m.createElement(g,In({},C,{className:l,ref:M}),a))});_d.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_d.classNames={fullWidth:ju,zeroRight:Vu};var WD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HD(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=WD();return e&&t.setAttribute("nonce",e),t}function qD(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function GD(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var KD=function(){var t=0,e=null;return{add:function(n){t==0&&(e=HD())&&(qD(e,n),GD(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},QD=function(){var t=KD();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oS=function(){var t=QD(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},YD={left:0,top:0,right:0,gap:0},rf=function(t){return parseInt(t||"",10)||0},XD=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[rf(n),rf(r),rf(i)]},JD=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return YD;var e=XD(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},ZD=oS(),Ms="data-scroll-locked",eO=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(MD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ms,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ju,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vu," .").concat(Vu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ju," .").concat(ju,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ms,`] {
    `).concat(LD,": ").concat(a,`px;
  }
`)},nw=function(){var t=parseInt(document.body.getAttribute(Ms)||"0",10);return isFinite(t)?t:0},tO=function(){m.useEffect(function(){return document.body.setAttribute(Ms,(nw()+1).toString()),function(){var t=nw()-1;t<=0?document.body.removeAttribute(Ms):document.body.setAttribute(Ms,t.toString())}},[])},nO=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;tO();var s=m.useMemo(function(){return JD(i)},[i]);return m.createElement(ZD,{styles:eO(s,!e,i,n?"":"!important")})},Sp=!1;if(typeof window<"u")try{var vu=Object.defineProperty({},"passive",{get:function(){return Sp=!0,!0}});window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{Sp=!1}var as=Sp?{passive:!1}:!1,rO=function(t){return t.tagName==="TEXTAREA"},aS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rO(t)&&n[e]==="visible")},iO=function(t){return aS(t,"overflowY")},sO=function(t){return aS(t,"overflowX")},rw=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=lS(t,r);if(i){var s=uS(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},oO=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},aO=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},lS=function(t,e){return t==="v"?iO(e):sO(e)},uS=function(t,e){return t==="v"?oO(e):aO(e)},lO=function(t,e){return t==="h"&&e==="rtl"?-1:1},uO=function(t,e,n,r,i){var s=lO(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,p=0;do{if(!a)break;var _=uS(t,a),A=_[0],T=_[1],S=_[2],E=T-S-s*A;(A||E)&&lS(t,a)&&(h+=E,p+=A);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(c=!0),c},yu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},iw=function(t){return[t.deltaX,t.deltaY]},sw=function(t){return t&&"current"in t?t.current:t},cO=function(t,e){return t[0]===e[0]&&t[1]===e[1]},dO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hO=0,ls=[];function fO(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(hO++)[0],s=m.useState(oS)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var T=OD([t.lockRef.current],(t.shards||[]).map(sw),!0).filter(Boolean);return T.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(T,S){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!o.current.allowPinchZoom;var E=yu(T),g=n.current,y="deltaX"in T?T.deltaX:g[0]-E[0],P="deltaY"in T?T.deltaY:g[1]-E[1],D,M=T.target,C=Math.abs(y)>Math.abs(P)?"h":"v";if("touches"in T&&C==="h"&&M.type==="range")return!1;var I=rw(C,M);if(!I)return!0;if(I?D=C:(D=C==="v"?"h":"v",I=rw(C,M)),!I)return!1;if(!r.current&&"changedTouches"in T&&(y||P)&&(r.current=D),!D)return!0;var x=r.current||D;return uO(x,S,T,x==="h"?y:P)},[]),l=m.useCallback(function(T){var S=T;if(!(!ls.length||ls[ls.length-1]!==s)){var E="deltaY"in S?iw(S):yu(S),g=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&cO(D.delta,E)})[0];if(g&&g.should){S.cancelable&&S.preventDefault();return}if(!g){var y=(o.current.shards||[]).map(sw).filter(Boolean).filter(function(D){return D.contains(S.target)}),P=y.length>0?a(S,y[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),c=m.useCallback(function(T,S,E,g){var y={name:T,delta:S,target:E,should:g,shadowParent:pO(E)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(P){return P!==y})},1)},[]),d=m.useCallback(function(T){n.current=yu(T),r.current=void 0},[]),h=m.useCallback(function(T){c(T.type,iw(T),T.target,a(T,t.lockRef.current))},[]),p=m.useCallback(function(T){c(T.type,yu(T),T.target,a(T,t.lockRef.current))},[]);m.useEffect(function(){return ls.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,as),document.addEventListener("touchmove",l,as),document.addEventListener("touchstart",d,as),function(){ls=ls.filter(function(T){return T!==s}),document.removeEventListener("wheel",l,as),document.removeEventListener("touchmove",l,as),document.removeEventListener("touchstart",d,as)}},[]);var _=t.removeScrollBar,A=t.inert;return m.createElement(m.Fragment,null,A?m.createElement(s,{styles:dO(i)}):null,_?m.createElement(nO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function pO(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const mO=zD(sS,fO);var cS=m.forwardRef(function(t,e){return m.createElement(_d,In({},t,{ref:e,sideCar:mO}))});cS.classNames=_d.classNames;const kr={size:{default:"2"},variant:{default:"surface"},color:hl,radius:HI},ow={color:hl,gap:yi.gap},ag=m.createContext(void 0),lg=m.forwardRef((t,e)=>{const{rest:n,...r}=si(t),{children:i,className:s,size:o=kr.size.default,variant:a=kr.variant.default,color:l=kr.color.default,radius:c=kr.radius.default,...d}=n;return m.createElement("div",{"data-radius":c,...d,ref:e,className:yn("rt-TextFieldRoot",s,Hi(r)),onPointerDown:re(d.onPointerDown,h=>{const p=h.target;if(p.closest("input, button, a"))return;const _=h.currentTarget.querySelector(".rt-TextFieldInput");if(!_)return;const S=(_.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_PRECEDING)!==0?0:_.value.length;requestAnimationFrame(()=>{_.setSelectionRange(S,S),_.focus()})})},m.createElement(ag.Provider,{value:{size:o,variant:a,color:l,radius:c}},i))});lg.displayName="TextFieldRoot";const dS=m.forwardRef((t,e)=>{const{rest:n,...r}=BI(t),{className:i,color:s=ow.color.default,gap:o=ow.gap.default,...a}=n,l=m.useContext(ag);return m.createElement("div",{"data-accent-color":s,...a,ref:e,className:yn("rt-TextFieldSlot",i,ne(l==null?void 0:l.size,"rt-r-size"),ne(o,"rt-r-gap"),zI(r))})});dS.displayName="TextFieldSlot";const hS=m.forwardRef((t,e)=>{var n,r,i,s;const{rest:o,...a}=si(t),l=m.useContext(ag),c=l!==void 0,{className:d,size:h=(n=l==null?void 0:l.size)!==null&&n!==void 0?n:kr.size.default,variant:p=(r=l==null?void 0:l.variant)!==null&&r!==void 0?r:kr.variant.default,color:_=(i=l==null?void 0:l.color)!==null&&i!==void 0?i:kr.color.default,radius:A=(s=l==null?void 0:l.radius)!==null&&s!==void 0?s:kr.radius.default,...T}=o,S=m.createElement(m.Fragment,null,m.createElement("input",{"data-accent-color":_,spellCheck:"false",...T,ref:e,className:yn("rt-TextFieldInput",d,ne(h,"rt-r-size"),`rt-variant-${p}`)}),m.createElement("div",{"data-accent-color":_,"data-radius":l!=null&&l.radius?void 0:A,className:"rt-TextFieldChrome"}));return c?S:m.createElement(lg,{...a,size:h,variant:p,color:_,radius:A},S)});hS.displayName="TextFieldInput";const gO=Object.assign({},{Root:lg,Slot:dS,Input:hS});var Cp=["Enter"," "],vO=["ArrowDown","PageUp","Home"],fS=["ArrowUp","PageDown","End"],yO=[...vO,...fS],_O={ltr:[...Cp,"ArrowRight"],rtl:[...Cp,"ArrowLeft"]},wO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ml="Menu",[Wa,EO,TO]=KI(ml),[qi,pS]=Wi(ml,[TO,gd,YI]),wd=gd(),mS=YI(),[IO,Gi]=qi(ml),[SO,gl]=qi(ml),gS=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=wd(e),[l,c]=m.useState(null),d=m.useRef(!1),h=Ln(s),p=VI(i);return m.useEffect(()=>{const _=()=>{d.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>d.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),w.jsx(Rb,{...a,children:w.jsx(IO,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:w.jsx(SO,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};gS.displayName=ml;var CO="MenuAnchor",ug=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=wd(n);return w.jsx(CI,{...i,...r,ref:e})});ug.displayName=CO;var cg="MenuPortal",[AO,vS]=qi(cg,{forceMount:void 0}),yS=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Gi(cg,e);return w.jsx(AO,{scope:e,forceMount:n,children:w.jsx(vo,{present:n||s.open,children:w.jsx(RI,{asChild:!0,container:i,children:r})})})};yS.displayName=cg;var Zt="MenuContent",[xO,dg]=qi(Zt),_S=m.forwardRef((t,e)=>{const n=vS(Zt,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Gi(Zt,t.__scopeMenu),o=gl(Zt,t.__scopeMenu);return w.jsx(Wa.Provider,{scope:t.__scopeMenu,children:w.jsx(vo,{present:r||s.open,children:w.jsx(Wa.Slot,{scope:t.__scopeMenu,children:o.modal?w.jsx(RO,{...i,ref:e}):w.jsx(PO,{...i,ref:e})})})})}),RO=m.forwardRef((t,e)=>{const n=Gi(Zt,t.__scopeMenu),r=m.useRef(null),i=gt(e,r);return m.useEffect(()=>{const s=r.current;if(s)return DD(s)},[]),w.jsx(hg,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),PO=m.forwardRef((t,e)=>{const n=Gi(Zt,t.__scopeMenu);return w.jsx(hg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),kO=Ua("MenuContent.ScrollLock"),hg=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:_,disableOutsideScroll:A,...T}=t,S=Gi(Zt,n),E=gl(Zt,n),g=wd(n),y=mS(n),P=EO(n),[D,M]=m.useState(null),C=m.useRef(null),I=gt(e,C,S.onContentChange),x=m.useRef(0),R=m.useRef(""),b=m.useRef(0),O=m.useRef(null),N=m.useRef("right"),Z=m.useRef(0),ge=A?cS:m.Fragment,ie=A?{as:kO,allowPinchZoom:!0}:void 0,oe=$=>{var Se,nn;const H=R.current+$,te=P().filter(Xe=>!Xe.disabled),Y=document.activeElement,pe=(Se=te.find(Xe=>Xe.ref.current===Y))==null?void 0:Se.textValue,Ie=te.map(Xe=>Xe.textValue),je=BO(Ie,H,pe),Ne=(nn=te.find(Xe=>Xe.textValue===je))==null?void 0:nn.ref.current;(function Xe(Rt){R.current=Rt,window.clearTimeout(x.current),Rt!==""&&(x.current=window.setTimeout(()=>Xe(""),1e3))})(H),Ne&&setTimeout(()=>Ne.focus())};m.useEffect(()=>()=>window.clearTimeout(x.current),[]),TD();const V=m.useCallback($=>{var te,Y;return N.current===((te=O.current)==null?void 0:te.side)&&WO($,(Y=O.current)==null?void 0:Y.area)},[]);return w.jsx(xO,{scope:n,searchRef:R,onItemEnter:m.useCallback($=>{V($)&&$.preventDefault()},[V]),onItemLeave:m.useCallback($=>{var H;V($)||((H=C.current)==null||H.focus(),M(null))},[V]),onTriggerLeave:m.useCallback($=>{V($)&&$.preventDefault()},[V]),pointerGraceTimerRef:b,onPointerGraceIntentChange:m.useCallback($=>{O.current=$},[]),children:w.jsx(ge,{...ie,children:w.jsx(tS,{asChild:!0,trapped:i,onMountAutoFocus:re(s,$=>{var H;$.preventDefault(),(H=C.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:w.jsx(Km,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:_,children:w.jsx(wD,{asChild:!0,...y,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:M,onEntryFocus:re(l,$=>{E.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(AI,{role:"menu","aria-orientation":"vertical","data-state":MS(S.open),"data-radix-menu-content":"",dir:E.dir,...g,...T,ref:I,style:{outline:"none",...T.style},onKeyDown:re(T.onKeyDown,$=>{const te=$.target.closest("[data-radix-menu-content]")===$.currentTarget,Y=$.ctrlKey||$.altKey||$.metaKey,pe=$.key.length===1;te&&($.key==="Tab"&&$.preventDefault(),!Y&&pe&&oe($.key));const Ie=C.current;if($.target!==Ie||!yO.includes($.key))return;$.preventDefault();const Ne=P().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);fS.includes($.key)&&Ne.reverse(),$O(Ne)}),onBlur:re(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(x.current),R.current="")}),onPointerMove:re(t.onPointerMove,Ha($=>{const H=$.target,te=Z.current!==$.clientX;if($.currentTarget.contains(H)&&te){const Y=$.clientX>Z.current?"right":"left";N.current=Y,Z.current=$.clientX}}))})})})})})})});_S.displayName=Zt;var NO="MenuGroup",fg=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Ve.div,{role:"group",...r,ref:e})});fg.displayName=NO;var bO="MenuLabel",wS=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Ve.div,{...r,ref:e})});wS.displayName=bO;var Sc="MenuItem",aw="menu.itemSelect",Ed=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=m.useRef(null),o=gl(Sc,t.__scopeMenu),a=dg(Sc,t.__scopeMenu),l=gt(e,s),c=m.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const p=new CustomEvent(aw,{bubbles:!0,cancelable:!0});h.addEventListener(aw,_=>r==null?void 0:r(_),{once:!0}),tI(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return w.jsx(ES,{...i,ref:l,disabled:n,onClick:re(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:re(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:re(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Cp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ed.displayName=Sc;var ES=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=dg(Sc,n),a=mS(n),l=m.useRef(null),c=gt(e,l),[d,h]=m.useState(!1),[p,_]=m.useState("");return m.useEffect(()=>{const A=l.current;A&&_((A.textContent??"").trim())},[s.children]),w.jsx(Wa.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:w.jsx(ED,{asChild:!0,...a,focusable:!r,children:w.jsx(Ve.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:re(t.onPointerMove,Ha(A=>{r?o.onItemLeave(A):(o.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(t.onPointerLeave,Ha(A=>o.onItemLeave(A))),onFocus:re(t.onFocus,()=>h(!0)),onBlur:re(t.onBlur,()=>h(!1))})})})}),DO="MenuCheckboxItem",TS=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return w.jsx(xS,{scope:t.__scopeMenu,checked:n,children:w.jsx(Ed,{role:"menuitemcheckbox","aria-checked":Cc(n)?"mixed":n,...i,ref:e,"data-state":mg(n),onSelect:re(i.onSelect,()=>r==null?void 0:r(Cc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});TS.displayName=DO;var IS="MenuRadioGroup",[OO,MO]=qi(IS,{value:void 0,onValueChange:()=>{}}),SS=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Ln(r);return w.jsx(OO,{scope:t.__scopeMenu,value:n,onValueChange:s,children:w.jsx(fg,{...i,ref:e})})});SS.displayName=IS;var CS="MenuRadioItem",AS=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=MO(CS,t.__scopeMenu),s=n===i.value;return w.jsx(xS,{scope:t.__scopeMenu,checked:s,children:w.jsx(Ed,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":mg(s),onSelect:re(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});AS.displayName=CS;var pg="MenuItemIndicator",[xS,LO]=qi(pg,{checked:!1}),RS=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=LO(pg,n);return w.jsx(vo,{present:r||Cc(s.checked)||s.checked===!0,children:w.jsx(Ve.span,{...i,ref:e,"data-state":mg(s.checked)})})});RS.displayName=pg;var FO="MenuSeparator",PS=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});PS.displayName=FO;var VO="MenuArrow",kS=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=wd(n);return w.jsx(xI,{...i,...r,ref:e})});kS.displayName=VO;var jO="MenuSub",[qU,NS]=qi(jO),ea="MenuSubTrigger",bS=m.forwardRef((t,e)=>{const n=Gi(ea,t.__scopeMenu),r=gl(ea,t.__scopeMenu),i=NS(ea,t.__scopeMenu),s=dg(ea,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),w.jsx(ug,{asChild:!0,...c,children:w.jsx(ES,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":MS(n.open),...t,ref:hd(e,i.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(t.onPointerMove,Ha(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:re(t.onPointerLeave,Ha(h=>{var _,A;d();const p=(_=n.content)==null?void 0:_.getBoundingClientRect();if(p){const T=(A=n.content)==null?void 0:A.dataset.side,S=T==="right",E=S?-5:5,g=p[S?"left":"right"],y=p[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x:g,y:p.top},{x:y,y:p.top},{x:y,y:p.bottom},{x:g,y:p.bottom}],side:T}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:re(t.onKeyDown,h=>{var _;const p=s.searchRef.current!=="";t.disabled||p&&h.key===" "||_O[r.dir].includes(h.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),h.preventDefault())})})})});bS.displayName=ea;var DS="MenuSubContent",OS=m.forwardRef((t,e)=>{const n=vS(Zt,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Gi(Zt,t.__scopeMenu),o=gl(Zt,t.__scopeMenu),a=NS(DS,t.__scopeMenu),l=m.useRef(null),c=gt(e,l);return w.jsx(Wa.Provider,{scope:t.__scopeMenu,children:w.jsx(vo,{present:r||s.open,children:w.jsx(Wa.Slot,{scope:t.__scopeMenu,children:w.jsx(hg,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:re(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:re(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:re(t.onKeyDown,d=>{var _;const h=d.currentTarget.contains(d.target),p=wO[o.dir].includes(d.key);h&&p&&(s.onOpenChange(!1),(_=a.trigger)==null||_.focus(),d.preventDefault())})})})})})});OS.displayName=DS;function MS(t){return t?"open":"closed"}function Cc(t){return t==="indeterminate"}function mg(t){return Cc(t)?"indeterminate":t?"checked":"unchecked"}function $O(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function UO(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function BO(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=UO(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function zO(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(i=!i)}return i}function WO(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return zO(n,e)}function Ha(t){return e=>e.pointerType==="mouse"?t(e):void 0}var HO=gS,qO=ug,GO=yS,KO=_S,QO=fg,YO=wS,XO=Ed,JO=TS,ZO=SS,eM=AS,tM=RS,nM=PS,rM=kS,iM=bS,sM=OS,Td="DropdownMenu",[oM,GU]=Wi(Td,[pS]),xt=pS(),[aM,LS]=oM(Td),FS=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=xt(e),c=m.useRef(null),[d,h]=PI({prop:i,defaultProp:s??!1,onChange:o,caller:Td});return w.jsx(aM,{scope:e,triggerId:vp(),triggerRef:c,contentId:vp(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:a,children:w.jsx(HO,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};FS.displayName=Td;var VS="DropdownMenuTrigger",jS=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=LS(VS,n),o=xt(n);return w.jsx(qO,{asChild:!0,...o,children:w.jsx(Ve.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:hd(e,s.triggerRef),onPointerDown:re(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:re(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});jS.displayName=VS;var lM="DropdownMenuPortal",$S=t=>{const{__scopeDropdownMenu:e,...n}=t,r=xt(e);return w.jsx(GO,{...r,...n})};$S.displayName=lM;var US="DropdownMenuContent",BS=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=LS(US,n),s=xt(n),o=m.useRef(!1);return w.jsx(KO,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:re(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:re(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BS.displayName=US;var uM="DropdownMenuGroup",cM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(QO,{...i,...r,ref:e})});cM.displayName=uM;var dM="DropdownMenuLabel",hM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(YO,{...i,...r,ref:e})});hM.displayName=dM;var fM="DropdownMenuItem",zS=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(XO,{...i,...r,ref:e})});zS.displayName=fM;var pM="DropdownMenuCheckboxItem",mM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(JO,{...i,...r,ref:e})});mM.displayName=pM;var gM="DropdownMenuRadioGroup",vM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(ZO,{...i,...r,ref:e})});vM.displayName=gM;var yM="DropdownMenuRadioItem",_M=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(eM,{...i,...r,ref:e})});_M.displayName=yM;var wM="DropdownMenuItemIndicator",EM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(tM,{...i,...r,ref:e})});EM.displayName=wM;var TM="DropdownMenuSeparator",IM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(nM,{...i,...r,ref:e})});IM.displayName=TM;var SM="DropdownMenuArrow",CM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(rM,{...i,...r,ref:e})});CM.displayName=SM;var AM="DropdownMenuSubTrigger",xM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(iM,{...i,...r,ref:e})});xM.displayName=AM;var RM="DropdownMenuSubContent",PM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=xt(n);return w.jsx(sM,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PM.displayName=RM;var kM=FS,NM=jS,bM=$S,DM=BS,OM=zS,WS={exports:{}},HS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ys=m;function MM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var LM=typeof Object.is=="function"?Object.is:MM,FM=Ys.useState,VM=Ys.useEffect,jM=Ys.useLayoutEffect,$M=Ys.useDebugValue;function UM(t,e){var n=e(),r=FM({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return jM(function(){i.value=n,i.getSnapshot=e,sf(i)&&s({inst:i})},[t,n,e]),VM(function(){return sf(i)&&s({inst:i}),t(function(){sf(i)&&s({inst:i})})},[t]),$M(n),n}function sf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!LM(t,n)}catch{return!0}}function BM(t,e){return e()}var zM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?BM:UM;HS.useSyncExternalStore=Ys.useSyncExternalStore!==void 0?Ys.useSyncExternalStore:zM;WS.exports=HS;var WM=WS.exports;function HM(){return WM.useSyncExternalStore(qM,()=>!0,()=>!1)}function qM(){return()=>{}}var gg="Avatar",[GM,KU]=Wi(gg),[KM,qS]=GM(gg),GS=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=m.useState("idle");return w.jsx(KM,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:w.jsx(Ve.span,{...r,ref:e})})});GS.displayName=gg;var KS="AvatarImage",QM=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=qS(KS,n),a=YM(r,s),l=Ln(c=>{i(c),o.onImageLoadingStatusChange(c)});return fn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?w.jsx(Ve.img,{...s,ref:e,src:r}):null});QM.displayName=KS;var QS="AvatarFallback",YS=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=qS(QS,n),[o,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?w.jsx(Ve.span,{...i,ref:e}):null});YS.displayName=QS;function lw(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function YM(t,{referrerPolicy:e,crossOrigin:n}){const r=HM(),i=m.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=m.useState(()=>lw(s,t));return fn(()=>{a(lw(s,t))},[s,t]),fn(()=>{const l=h=>()=>{a(h)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,e]),o}var XM=GS,JM=YS;const Go={size:{default:"2"},variant:{default:"solid"},color:hl,highContrast:og,radius:HI},XS=m.forwardRef((t,e)=>{const{rest:n,...r}=si(t),{className:i,asChild:s=!1,size:o=Go.size.default,variant:a=Go.variant.default,color:l=Go.color.default,highContrast:c=Go.highContrast.default,radius:d=Go.radius.default,...h}=n,p=s?po:"button";return m.createElement(p,{"data-disabled":h.disabled||void 0,"data-accent-color":l,"data-radius":d,...h,ref:e,className:yn("rt-reset","rt-BaseButton",i,ne(o,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":c},Hi(r))})});XS.displayName="BaseButton";const Xs=m.forwardRef((t,e)=>m.createElement(XS,{...t,ref:e,className:yn("rt-Button",t.className)}));Xs.displayName="Button";const uw={size:{default:"1"},variant:{default:"surface"}},Ac=m.forwardRef((t,e)=>{const{rest:n,...r}=si(t),{asChild:i,children:s,className:o,size:a=uw.size.default,variant:l=uw.variant.default,...c}=n,d=i?po:"div";function h(){const p=m.Children.only(s);return m.cloneElement(p,{children:m.createElement("div",{className:"rt-CardInner"},p.props.children)})}return m.createElement(d,{ref:e,...c,className:yn("rt-reset","rt-Card",o,ne(a,"rt-r-size"),`rt-variant-${l}`,Hi(r))},i?h():m.createElement("div",{className:"rt-CardInner"},s))});Ac.displayName="Card";var ZM="Separator",cw="horizontal",eL=["horizontal","vertical"],JS=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=cw,...i}=t,s=tL(r)?r:cw,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return w.jsx(Ve.div,{"data-orientation":s,...a,...i,ref:e})});JS.displayName=ZM;function tL(t){return eL.includes(t)}var nL=JS;const dw={size:{default:"1"},color:{default:"gray"}},ZS=m.forwardRef((t,e)=>{const{rest:n,...r}=si(t),{className:i,size:s=dw.size.default,color:o=dw.color.default,...a}=n;return m.createElement(nL,{"data-accent-color":o,...a,ref:e,className:yn("rt-Separator",i,ne(s,"rt-r-size"),Hi(r))})});ZS.displayName="Separator";var hw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,_=c&63;l||(_=64,o||(p=64)),r.push(n[d],n[h],n[p],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new iL;const p=s<<2|a>>4;if(r.push(p),c!==64){const _=a<<4&240|c>>2;if(r.push(_),h!==64){const A=c<<6&192|h;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sL=function(t){const e=eC(t);return tC.encodeByteArray(e,!0)},xc=function(t){return sL(t).replace(/\./g,"")},nC=function(t){try{return tC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=()=>oL().__FIREBASE_DEFAULTS__,lL=()=>{if(typeof process>"u"||typeof hw>"u")return;const t=hw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nC(t[1]);return e&&JSON.parse(e)},Id=()=>{try{return aL()||lL()||uL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rC=t=>{var e,n;return(n=(e=Id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cL=t=>{const e=rC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iC=()=>{var t;return(t=Id())===null||t===void 0?void 0:t.config},sC=t=>{var e;return(e=Id())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xc(JSON.stringify(n)),xc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function pL(){var t;const e=(t=Id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yL(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _L(){return!pL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wL(){try{return typeof indexedDB=="object"}catch{return!1}}function EL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TL,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cr(i,a,r)}}function IL(t,e){return t.replace(SL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SL=/\{\$([^}]+)}/g;function CL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fw(s)&&fw(o)){if(!Rc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AL(t,e){const n=new xL(t,e);return n.subscribe.bind(n)}class xL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=of),i.error===void 0&&(i.error=of),i.complete===void 0&&(i.complete=of);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NL(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kL(t){return t===_i?void 0:t}function NL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const DL={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},OL=le.INFO,ML={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},LL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ML[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=OL,this._logHandler=LL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const FL=(t,e)=>e.some(n=>t instanceof n);let pw,mw;function VL(){return pw||(pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jL(){return mw||(mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oC=new WeakMap,Ap=new WeakMap,aC=new WeakMap,af=new WeakMap,yg=new WeakMap;function $L(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ur(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oC.set(n,t)}).catch(()=>{}),yg.set(e,t),e}function UL(t){if(Ap.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ap.set(t,e)}let xp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BL(t){xp=t(xp)}function zL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lf(this),e,...n);return aC.set(r,e.sort?e.sort():[e]),Ur(r)}:jL().includes(t)?function(...e){return t.apply(lf(this),e),Ur(oC.get(this))}:function(...e){return Ur(t.apply(lf(this),e))}}function WL(t){return typeof t=="function"?zL(t):(t instanceof IDBTransaction&&UL(t),FL(t,VL())?new Proxy(t,xp):t)}function Ur(t){if(t instanceof IDBRequest)return $L(t);if(af.has(t))return af.get(t);const e=WL(t);return e!==t&&(af.set(t,e),yg.set(e,t)),e}const lf=t=>yg.get(t);function HL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ur(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ur(o.result),l.oldVersion,l.newVersion,Ur(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const qL=["get","getKey","getAll","getAllKeys","count"],GL=["put","add","delete","clear"],uf=new Map;function gw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return uf.set(e,s),s}BL(t=>({...t,get:(e,n,r)=>gw(e,n)||t.get(e,n,r),has:(e,n)=>!!gw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",vw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new vg("@firebase/app"),YL="@firebase/app-compat",XL="@firebase/analytics-compat",JL="@firebase/analytics",ZL="@firebase/app-check-compat",e2="@firebase/app-check",t2="@firebase/auth",n2="@firebase/auth-compat",r2="@firebase/database",i2="@firebase/data-connect",s2="@firebase/database-compat",o2="@firebase/functions",a2="@firebase/functions-compat",l2="@firebase/installations",u2="@firebase/installations-compat",c2="@firebase/messaging",d2="@firebase/messaging-compat",h2="@firebase/performance",f2="@firebase/performance-compat",p2="@firebase/remote-config",m2="@firebase/remote-config-compat",g2="@firebase/storage",v2="@firebase/storage-compat",y2="@firebase/firestore",_2="@firebase/vertexai-preview",w2="@firebase/firestore-compat",E2="firebase",T2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",I2={[Rp]:"fire-core",[YL]:"fire-core-compat",[JL]:"fire-analytics",[XL]:"fire-analytics-compat",[e2]:"fire-app-check",[ZL]:"fire-app-check-compat",[t2]:"fire-auth",[n2]:"fire-auth-compat",[r2]:"fire-rtdb",[i2]:"fire-data-connect",[s2]:"fire-rtdb-compat",[o2]:"fire-fn",[a2]:"fire-fn-compat",[l2]:"fire-iid",[u2]:"fire-iid-compat",[c2]:"fire-fcm",[d2]:"fire-fcm-compat",[h2]:"fire-perf",[f2]:"fire-perf-compat",[p2]:"fire-rc",[m2]:"fire-rc-compat",[g2]:"fire-gcs",[v2]:"fire-gcs-compat",[y2]:"fire-fst",[w2]:"fire-fst-compat",[_2]:"fire-vertex","fire-js":"fire-js",[E2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,S2=new Map,kp=new Map;function yw(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Js(t){const e=t.name;if(kp.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,t);for(const n of Pc.values())yw(n,t);for(const n of S2.values())yw(n,t);return!0}function _g(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new vl("app","Firebase",C2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=T2;function lC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=iC()),!n)throw Br.create("no-options");const s=Pc.get(i);if(s){if(Rc(n,s.options)&&Rc(r,s.config))return s;throw Br.create("duplicate-app",{appName:i})}const o=new bL(i);for(const l of kp.values())o.addComponent(l);const a=new A2(n,r,o);return Pc.set(i,a),a}function uC(t=Pp){const e=Pc.get(t);if(!e&&t===Pp&&iC())return lC();if(!e)throw Br.create("no-app",{appName:t});return e}function zr(t,e,n){var r;let i=(r=I2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(a.join(" "));return}Js(new Oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebase-heartbeat-database",R2=1,qa="firebase-heartbeat-store";let cf=null;function cC(){return cf||(cf=HL(x2,R2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),cf}async function P2(t){try{const n=(await cC()).transaction(qa),r=await n.objectStore(qa).get(dC(t));return await n.done,r}catch(e){if(e instanceof cr)sr.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function _w(t,e){try{const r=(await cC()).transaction(qa,"readwrite");await r.objectStore(qa).put(e,dC(t)),await r.done}catch(n){if(n instanceof cr)sr.warn(n.message);else{const r=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(r.message)}}}function dC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=1024,N2=30*24*60*60*1e3;class b2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ww();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=N2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ww(),{heartbeatsToSend:r,unsentEntries:i}=D2(this._heartbeatsCache.heartbeats),s=xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return sr.warn(n),""}}}function ww(){return new Date().toISOString().substring(0,10)}function D2(t,e=k2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ew(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ew(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wL()?EL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ew(t){return xc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){Js(new Oi("platform-logger",e=>new KL(e),"PRIVATE")),Js(new Oi("heartbeat",e=>new b2(e),"PRIVATE")),zr(Rp,vw,t),zr(Rp,vw,"esm2017"),zr("fire-js","")}M2("");function hC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L2=hC,fC=new vl("auth","Firebase",hC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new vg("@firebase/auth");function F2(t,...e){kc.logLevel<=le.WARN&&kc.warn(`Auth (${yo}): ${t}`,...e)}function $u(t,...e){kc.logLevel<=le.ERROR&&kc.error(`Auth (${yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw wg(t,...e)}function Pn(t,...e){return wg(t,...e)}function pC(t,e,n){const r=Object.assign(Object.assign({},L2()),{[e]:n});return new vl("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return pC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fC.create(t,...e)}function Q(t,e,...n){if(!t)throw wg(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $u(e),new Error(e)}function or(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function V2(){return Tw()==="http:"||Tw()==="https:"}function Tw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V2()||gL()||"connection"in navigator)?navigator.onLine:!0}function $2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=fL()||vL()}get(){return j2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t,e){or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new _l(3e4,6e4);function oi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function dr(t,e,n,r,i={}){return gC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=yl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return mL()||(c.referrerPolicy="no-referrer"),mC.fetch()(vC(t,t.config.apiHost,n,a),c)})}async function gC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},U2),e);try{const i=new W2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _u(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _u(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _u(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _u(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw pC(t,d,c);gn(t,d)}}catch(i){if(i instanceof cr)throw i;gn(t,"network-request-failed",{message:String(i)})}}async function Sd(t,e,n,r,i={}){const s=await dr(t,e,n,r,i);return"mfaPendingCredential"in s&&gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function vC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Eg(t.config,i):`${t.config.apiScheme}://${i}`}function z2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),B2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pn(t,e,r);return i.customData._tokenResponse=n,i}function Iw(t){return t!==void 0&&t.enterprise!==void 0}class H2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function q2(t,e){return dr(t,"GET","/v2/recaptchaConfig",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e){return dr(t,"POST","/v1/accounts:delete",e)}async function yC(t,e){return dr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K2(t,e=!1){const n=Fe(t),r=await n.getIdToken(e),i=Tg(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ma(df(i.auth_time)),issuedAtTime:ma(df(i.iat)),expirationTime:ma(df(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function df(t){return Number(t)*1e3}function Tg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $u("JWT malformed, contained fewer than 3 sections"),null;try{const i=nC(n);return i?JSON.parse(i):($u("Failed to decode base64 JWT payload"),null)}catch(i){return $u("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Sw(t){const e=Tg(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&Q2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Q2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ma(this.lastLoginAt),this.creationTime=ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ga(t,yC(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_C(s.providerUserInfo):[],a=J2(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Np(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function X2(t){const e=Fe(t);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _C(t){return t.map(e=>{var{providerId:n}=e,r=pl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(t,e){const n=await gC(t,{},async()=>{const r=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=vC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eF(t,e){return dr(t,"POST","/v2/accounts:revokeToken",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=Sw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Z2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ls;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ls,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Np(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return K2(this,e)}reload(){return X2(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await Ga(this,G2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:P,isAnonymous:D,providerData:M,stsTokenManager:C}=n;Q(y&&C,e,"internal-error");const I=Ls.fromJSON(this.name,C);Q(typeof y=="string",e,"internal-error"),vr(h,e.name),vr(p,e.name),Q(typeof P=="boolean",e,"internal-error"),Q(typeof D=="boolean",e,"internal-error"),vr(_,e.name),vr(A,e.name),vr(T,e.name),vr(S,e.name),vr(E,e.name),vr(g,e.name);const x=new Yn({uid:y,auth:e,email:p,emailVerified:P,displayName:h,isAnonymous:D,photoURL:A,phoneNumber:_,tenantId:T,stsTokenManager:I,createdAt:E,lastLoginAt:g});return M&&Array.isArray(M)&&(x.providerData=M.map(R=>Object.assign({},R))),S&&(x._redirectEventId=S),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ls;i.updateFromServerResponse(n);const s=new Yn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Q(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?_C(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ls;a.updateFromIdToken(r);const l=new Yn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Np(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Map;function Xn(t){or(t instanceof Function,"Expected a class definition");let e=Cw.get(t);return e?(or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wC.type="NONE";const Aw=wC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e,n){return`firebase:${t}:${e}:${n}`}class Fs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Uu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fs(Xn(Aw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Xn(Aw);const o=Uu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Yn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Fs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AC(e))return"Blackberry";if(xC(e))return"Webos";if(TC(e))return"Safari";if((e.includes("chrome/")||IC(e))&&!e.includes("edge/"))return"Chrome";if(CC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EC(t=vt()){return/firefox\//i.test(t)}function TC(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IC(t=vt()){return/crios\//i.test(t)}function SC(t=vt()){return/iemobile/i.test(t)}function CC(t=vt()){return/android/i.test(t)}function AC(t=vt()){return/blackberry/i.test(t)}function xC(t=vt()){return/webos/i.test(t)}function Ig(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tF(t=vt()){var e;return Ig(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nF(){return yL()&&document.documentMode===10}function RC(t=vt()){return Ig(t)||CC(t)||xC(t)||AC(t)||/windows phone/i.test(t)||SC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e=[]){let n;switch(t){case"Browser":n=xw(vt());break;case"Worker":n=`${xw(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e={}){return dr(t,"GET","/v2/passwordPolicy",oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=6;class oF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:sF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rw(this),this.idTokenSubscription=new Rw(this),this.beforeStateQueue=new rF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yC(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Wr(this));const n=e?Fe(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iF(this),n=new oF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Fs.create(this,[Xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _o(t){return Fe(t)}class Rw{constructor(e){this.auth=e,this.observer=null,this.addObserver=AL(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lF(t){Cd=t}function kC(t){return Cd.loadJS(t)}function uF(){return Cd.recaptchaEnterpriseScript}function cF(){return Cd.gapiScript}function dF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const hF="recaptcha-enterprise",fF="NO_RECAPTCHA";class pF{constructor(e){this.type=hF,this.auth=_o(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{q2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new H2(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Iw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(fF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Iw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=uF();l.length!==0&&(l+=a),kC(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Pw(t,e,n,r=!1){const i=new pF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function bp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Pw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Pw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t,e){const n=_g(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Rc(s,e??{}))return i;gn(i,"already-initialized")}return n.initialize({options:e})}function gF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vF(t,e,n){const r=_o(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=NC(e),{host:o,port:a}=yF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),_F()}function NC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yF(t){const e=NC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:kw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:kw(o)}}}function kw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _F(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function wF(t,e){return dr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e){return Sd(t,"POST","/v1/accounts:signInWithPassword",oi(t,e))}async function TF(t,e){return dr(t,"POST","/v1/accounts:sendOobCode",oi(t,e))}async function IF(t,e){return TF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e){return Sd(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}async function CF(t,e){return Sd(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Sg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ka(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ka(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,n,"signInWithPassword",EF);case"emailLink":return SF(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,r,"signUpPassword",wF);case"emailLink":return CF(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(t,e){return Sd(t,"POST","/v1/accounts:signInWithIdp",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="http://localhost";class Mi extends Sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pl(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Mi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vs(e,n)}buildRequest(){const e={requestUri:AF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RF(t){const e=ta(na(t)).link,n=e?ta(na(e)).deep_link_id:null,r=ta(na(t)).deep_link_id;return(r?ta(na(r)).link:null)||r||n||e||t}class Ad{constructor(e){var n,r,i,s,o,a;const l=ta(na(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=xF((i=l.mode)!==null&&i!==void 0?i:null);Q(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=RF(e);try{return new Ad(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ad.parseLink(n);return Q(r,"argument-error"),Ka._fromEmailAndCode(e,r.code,r.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends bC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends wl{constructor(){super("facebook.com")}static credential(e){return Mi._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mi._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends wl{constructor(){super("github.com")}static credential(e){return Mi._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends wl{constructor(){super("twitter.com")}static credential(e,n){return Mi._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yn._fromIdTokenResponse(e,r,i),o=Nw(r);return new Zs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Nw(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Nw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends cr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dc(e,n,r,i)}}function DC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(t,s,e,r):s})}async function PF(t,e,n=!1){const r=await Ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(Wr(r));const i="reauthenticate";try{const s=await Ga(t,DC(r,i,e,t),n);Q(s.idToken,r,"internal-error");const o=Tg(s.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),Zs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(t,e,n=!1){if(Kn(t.app))return Promise.reject(Wr(t));const r="signIn",i=await DC(t,r,e),s=await Zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function NF(t,e){return OC(_o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t,e,n){var r;Q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e,n){const r=_o(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){Q(a.handleCodeInApp,r,"argument-error"),a&&bF(r,o,a)}s(i,n),await bp(r,i,"getOobCode",IF)}function MC(t,e){const n=Ad.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function OF(t,e,n){if(Kn(t.app))return Promise.reject(Wr(t));const r=Fe(t),i=wo.credentialWithLink(e,n||Nc());return Q(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),NF(r,i)}function MF(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function LF(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function FF(t,e,n,r){return Fe(t).onAuthStateChanged(e,n,r)}function VF(t){return Fe(t).signOut()}const Oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=1e3,$F=10;class FC extends LC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);nF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$F):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FC.type="LOCAL";const UF=FC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends LC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VC.type="SESSION";const jC=VC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await BF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Cg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function WF(t){kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function HF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GF(){return $C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="firebaseLocalStorageDb",KF=1,Mc="firebaseLocalStorage",BC="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(t,e){return t.transaction([Mc],e?"readwrite":"readonly").objectStore(Mc)}function QF(){const t=indexedDB.deleteDatabase(UC);return new El(t).toPromise()}function Dp(){const t=indexedDB.open(UC,KF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mc,{keyPath:BC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mc)?e(r):(r.close(),await QF(),e(await Dp()))})})}async function bw(t,e,n){const r=Rd(t,!0).put({[BC]:e,value:n});return new El(r).toPromise()}async function YF(t,e){const n=Rd(t,!1).get(e),r=await new El(n).toPromise();return r===void 0?null:r.value}function Dw(t,e){const n=Rd(t,!0).delete(e);return new El(n).toPromise()}const XF=800,JF=3;class zC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(GF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HF(),!this.activeServiceWorker)return;this.sender=new zF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await bw(e,Oc,"1"),await Dw(e,Oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rd(i,!1).getAll();return new El(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zC.type="LOCAL";const ZF=zC;new _l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t,e){return e?Xn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tV(t){return OC(t.auth,new Ag(t),t.bypassAuthState)}function nV(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),kF(n,new Ag(t),t.bypassAuthState)}async function rV(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),PF(n,new Ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tV;case"linkViaPopup":case"linkViaRedirect":return rV;case"reauthViaPopup":case"reauthViaRedirect":return nV;default:gn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new _l(2e3,1e4);class As extends WC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iV.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="pendingRedirect",Bu=new Map;class oV extends WC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const r=await aV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aV(t,e){const n=cV(e),r=uV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lV(t,e){Bu.set(t._key(),e)}function uV(t){return Xn(t._redirectPersistence)}function cV(t){return Uu(sV,t.config.apiKey,t.name)}async function dV(t,e,n=!1){if(Kn(t.app))return Promise.reject(Wr(t));const r=_o(t),i=eV(r,e),o=await new oV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=10*60*1e3;class fV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ow(e))}saveEventToCache(e){this.cachedEventUids.add(Ow(e)),this.lastProcessedEventTime=Date.now()}}function Ow(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e={}){return dr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vV=/^https?/;async function yV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mV(t);for(const n of e)try{if(_V(n))return}catch{}gn(t,"unauthorized-domain")}function _V(t){const e=Nc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vV.test(n))return!1;if(gV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new _l(3e4,6e4);function Mw(){const t=kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EV(t){return new Promise((e,n)=>{var r,i,s;function o(){Mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mw(),n(Pn(t,"network-request-failed"))},timeout:wV.get()})}if(!((i=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kn().gapi)===null||s===void 0)&&s.load)o();else{const a=dF("iframefcb");return kn()[a]=()=>{gapi.load?o():n(Pn(t,"network-request-failed"))},kC(`${cF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zu=null,e})}let zu=null;function TV(t){return zu=zu||EV(t),zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new _l(5e3,15e3),SV="__/auth/iframe",CV="emulator/auth/iframe",AV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RV(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Eg(e,CV):`https://${t.config.authDomain}/${SV}`,r={apiKey:e.apiKey,appName:t.name,v:yo},i=xV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yl(r).slice(1)}`}async function PV(t){const e=await TV(t),n=kn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:RV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=kn().setTimeout(()=>{s(o)},IV.get());function l(){kn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NV=500,bV=600,DV="_blank",OV="http://localhost";class Lw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MV(t,e,n,r=NV,i=bV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},kV),{width:r.toString(),height:i.toString(),top:s,left:o}),c=vt().toLowerCase();n&&(a=IC(c)?DV:n),EC(c)&&(e=e||OV,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[_,A])=>`${p}${_}=${A},`,"");if(tF(c)&&a!=="_self")return LV(e||"",a),new Lw(null);const h=window.open(e||"",a,d);Q(h,t,"popup-blocked");try{h.focus()}catch{}return new Lw(h)}function LV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="__/auth/handler",VV="emulator/auth/handler",jV=encodeURIComponent("fac");async function Fw(t,e,n,r,i,s){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yo,eventId:i};if(e instanceof bC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof wl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${jV}=${encodeURIComponent(l)}`:"";return`${$V(t)}?${yl(a).slice(1)}${c}`}function $V({config:t}){return t.emulator?Eg(t,VV):`https://${t.authDomain}/${FV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="webStorageSupport";class UV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jC,this._completeRedirectFn=dV,this._overrideRedirectResult=lV}async _openPopup(e,n,r,i){var s;or((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Fw(e,n,r,Nc(),i);return MV(e,o,Cg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Fw(e,n,r,Nc(),i);return WF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(or(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PV(e),r=new fV(e);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hf,{type:hf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[hf];o!==void 0&&n(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RC()||TC()||Ig()}}const BV=UV;var Vw="@firebase/auth",jw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HV(t){Js(new Oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PC(t)},c=new aF(r,i,s,l);return gF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Js(new Oi("auth-internal",e=>{const n=_o(e.getProvider("auth").getImmediate());return(r=>new zV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(Vw,jw,WV(t)),zr(Vw,jw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=5*60,GV=sC("authIdTokenMaxAge")||qV;let $w=null;const KV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GV)return;const i=n==null?void 0:n.token;$w!==i&&($w=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QV(t=uC()){const e=_g(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mF(t,{popupRedirectResolver:BV,persistence:[ZF,UF,jC]}),r=sC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=KV(s.toString());LF(n,o,()=>o(n.currentUser)),MF(n,a=>o(a))}}const i=rC("auth");return i&&vF(n,`http://${i}`),n}function YV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",YV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HV("Browser");var XV="firebase",JV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(XV,JV,"app");var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,qC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function x(){}x.prototype=I.prototype,C.D=I.prototype,C.prototype=new x,C.prototype.constructor=C,C.C=function(R,b,O){for(var N=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)N[Z-2]=arguments[Z];return I.prototype[b].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,x){x||(x=0);var R=Array(16);if(typeof I=="string")for(var b=0;16>b;++b)R[b]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(b=0;16>b;++b)R[b]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=C.g[0],x=C.g[1],b=C.g[2];var O=C.g[3],N=I+(O^x&(b^O))+R[0]+3614090360&4294967295;I=x+(N<<7&4294967295|N>>>25),N=O+(b^I&(x^b))+R[1]+3905402710&4294967295,O=I+(N<<12&4294967295|N>>>20),N=b+(x^O&(I^x))+R[2]+606105819&4294967295,b=O+(N<<17&4294967295|N>>>15),N=x+(I^b&(O^I))+R[3]+3250441966&4294967295,x=b+(N<<22&4294967295|N>>>10),N=I+(O^x&(b^O))+R[4]+4118548399&4294967295,I=x+(N<<7&4294967295|N>>>25),N=O+(b^I&(x^b))+R[5]+1200080426&4294967295,O=I+(N<<12&4294967295|N>>>20),N=b+(x^O&(I^x))+R[6]+2821735955&4294967295,b=O+(N<<17&4294967295|N>>>15),N=x+(I^b&(O^I))+R[7]+4249261313&4294967295,x=b+(N<<22&4294967295|N>>>10),N=I+(O^x&(b^O))+R[8]+1770035416&4294967295,I=x+(N<<7&4294967295|N>>>25),N=O+(b^I&(x^b))+R[9]+2336552879&4294967295,O=I+(N<<12&4294967295|N>>>20),N=b+(x^O&(I^x))+R[10]+4294925233&4294967295,b=O+(N<<17&4294967295|N>>>15),N=x+(I^b&(O^I))+R[11]+2304563134&4294967295,x=b+(N<<22&4294967295|N>>>10),N=I+(O^x&(b^O))+R[12]+1804603682&4294967295,I=x+(N<<7&4294967295|N>>>25),N=O+(b^I&(x^b))+R[13]+4254626195&4294967295,O=I+(N<<12&4294967295|N>>>20),N=b+(x^O&(I^x))+R[14]+2792965006&4294967295,b=O+(N<<17&4294967295|N>>>15),N=x+(I^b&(O^I))+R[15]+1236535329&4294967295,x=b+(N<<22&4294967295|N>>>10),N=I+(b^O&(x^b))+R[1]+4129170786&4294967295,I=x+(N<<5&4294967295|N>>>27),N=O+(x^b&(I^x))+R[6]+3225465664&4294967295,O=I+(N<<9&4294967295|N>>>23),N=b+(I^x&(O^I))+R[11]+643717713&4294967295,b=O+(N<<14&4294967295|N>>>18),N=x+(O^I&(b^O))+R[0]+3921069994&4294967295,x=b+(N<<20&4294967295|N>>>12),N=I+(b^O&(x^b))+R[5]+3593408605&4294967295,I=x+(N<<5&4294967295|N>>>27),N=O+(x^b&(I^x))+R[10]+38016083&4294967295,O=I+(N<<9&4294967295|N>>>23),N=b+(I^x&(O^I))+R[15]+3634488961&4294967295,b=O+(N<<14&4294967295|N>>>18),N=x+(O^I&(b^O))+R[4]+3889429448&4294967295,x=b+(N<<20&4294967295|N>>>12),N=I+(b^O&(x^b))+R[9]+568446438&4294967295,I=x+(N<<5&4294967295|N>>>27),N=O+(x^b&(I^x))+R[14]+3275163606&4294967295,O=I+(N<<9&4294967295|N>>>23),N=b+(I^x&(O^I))+R[3]+4107603335&4294967295,b=O+(N<<14&4294967295|N>>>18),N=x+(O^I&(b^O))+R[8]+1163531501&4294967295,x=b+(N<<20&4294967295|N>>>12),N=I+(b^O&(x^b))+R[13]+2850285829&4294967295,I=x+(N<<5&4294967295|N>>>27),N=O+(x^b&(I^x))+R[2]+4243563512&4294967295,O=I+(N<<9&4294967295|N>>>23),N=b+(I^x&(O^I))+R[7]+1735328473&4294967295,b=O+(N<<14&4294967295|N>>>18),N=x+(O^I&(b^O))+R[12]+2368359562&4294967295,x=b+(N<<20&4294967295|N>>>12),N=I+(x^b^O)+R[5]+4294588738&4294967295,I=x+(N<<4&4294967295|N>>>28),N=O+(I^x^b)+R[8]+2272392833&4294967295,O=I+(N<<11&4294967295|N>>>21),N=b+(O^I^x)+R[11]+1839030562&4294967295,b=O+(N<<16&4294967295|N>>>16),N=x+(b^O^I)+R[14]+4259657740&4294967295,x=b+(N<<23&4294967295|N>>>9),N=I+(x^b^O)+R[1]+2763975236&4294967295,I=x+(N<<4&4294967295|N>>>28),N=O+(I^x^b)+R[4]+1272893353&4294967295,O=I+(N<<11&4294967295|N>>>21),N=b+(O^I^x)+R[7]+4139469664&4294967295,b=O+(N<<16&4294967295|N>>>16),N=x+(b^O^I)+R[10]+3200236656&4294967295,x=b+(N<<23&4294967295|N>>>9),N=I+(x^b^O)+R[13]+681279174&4294967295,I=x+(N<<4&4294967295|N>>>28),N=O+(I^x^b)+R[0]+3936430074&4294967295,O=I+(N<<11&4294967295|N>>>21),N=b+(O^I^x)+R[3]+3572445317&4294967295,b=O+(N<<16&4294967295|N>>>16),N=x+(b^O^I)+R[6]+76029189&4294967295,x=b+(N<<23&4294967295|N>>>9),N=I+(x^b^O)+R[9]+3654602809&4294967295,I=x+(N<<4&4294967295|N>>>28),N=O+(I^x^b)+R[12]+3873151461&4294967295,O=I+(N<<11&4294967295|N>>>21),N=b+(O^I^x)+R[15]+530742520&4294967295,b=O+(N<<16&4294967295|N>>>16),N=x+(b^O^I)+R[2]+3299628645&4294967295,x=b+(N<<23&4294967295|N>>>9),N=I+(b^(x|~O))+R[0]+4096336452&4294967295,I=x+(N<<6&4294967295|N>>>26),N=O+(x^(I|~b))+R[7]+1126891415&4294967295,O=I+(N<<10&4294967295|N>>>22),N=b+(I^(O|~x))+R[14]+2878612391&4294967295,b=O+(N<<15&4294967295|N>>>17),N=x+(O^(b|~I))+R[5]+4237533241&4294967295,x=b+(N<<21&4294967295|N>>>11),N=I+(b^(x|~O))+R[12]+1700485571&4294967295,I=x+(N<<6&4294967295|N>>>26),N=O+(x^(I|~b))+R[3]+2399980690&4294967295,O=I+(N<<10&4294967295|N>>>22),N=b+(I^(O|~x))+R[10]+4293915773&4294967295,b=O+(N<<15&4294967295|N>>>17),N=x+(O^(b|~I))+R[1]+2240044497&4294967295,x=b+(N<<21&4294967295|N>>>11),N=I+(b^(x|~O))+R[8]+1873313359&4294967295,I=x+(N<<6&4294967295|N>>>26),N=O+(x^(I|~b))+R[15]+4264355552&4294967295,O=I+(N<<10&4294967295|N>>>22),N=b+(I^(O|~x))+R[6]+2734768916&4294967295,b=O+(N<<15&4294967295|N>>>17),N=x+(O^(b|~I))+R[13]+1309151649&4294967295,x=b+(N<<21&4294967295|N>>>11),N=I+(b^(x|~O))+R[4]+4149444226&4294967295,I=x+(N<<6&4294967295|N>>>26),N=O+(x^(I|~b))+R[11]+3174756917&4294967295,O=I+(N<<10&4294967295|N>>>22),N=b+(I^(O|~x))+R[2]+718787259&4294967295,b=O+(N<<15&4294967295|N>>>17),N=x+(O^(b|~I))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(b+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var x=I-this.blockSize,R=this.B,b=this.h,O=0;O<I;){if(b==0)for(;O<=x;)i(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<I;)if(R[b++]=C.charCodeAt(O++),b==this.blockSize){i(this,R),b=0;break}}else for(;O<I;)if(R[b++]=C[O++],b==this.blockSize){i(this,R),b=0;break}}this.h=b,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var x=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.u(C),C=Array(16),I=x=0;4>I;++I)for(var R=0;32>R;R+=8)C[x++]=this.g[I]>>>R&255;return C};function s(C,I){var x=a;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=I(C)}function o(C,I){this.h=I;for(var x=[],R=!0,b=C.length-1;0<=b;b--){var O=C[b]|0;R&&O==I||(x[b]=O,R=!1)}this.g=x}var a={};function l(C){return-128<=C&&128>C?s(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return S(c(-C));for(var I=[],x=1,R=0;C>=x;R++)I[R]=C/x|0,x*=4294967296;return new o(I,0)}function d(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return S(d(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(I,8)),R=h,b=0;b<C.length;b+=8){var O=Math.min(8,C.length-b),N=parseInt(C.substring(b,b+O),I);8>O?(O=c(Math.pow(I,O)),R=R.j(O).add(c(N))):(R=R.j(x),R=R.add(c(N)))}return R}var h=l(0),p=l(1),_=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-S(this).m();for(var C=0,I=1,x=0;x<this.g.length;x++){var R=this.i(x);C+=(0<=R?R:4294967296+R)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A(this))return"0";if(T(this))return"-"+S(this).toString(C);for(var I=c(Math.pow(C,6)),x=this,R="";;){var b=P(x,I).g;x=E(x,b.j(I));var O=((0<x.g.length?x.g[0]:x.h)>>>0).toString(C);if(x=b,A(x))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function A(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function T(C){return C.h==-1}t.l=function(C){return C=E(this,C),T(C)?-1:A(C)?0:1};function S(C){for(var I=C.g.length,x=[],R=0;R<I;R++)x[R]=~C.g[R];return new o(x,~C.h).add(p)}t.abs=function(){return T(this)?S(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),x=[],R=0,b=0;b<=I;b++){var O=R+(this.i(b)&65535)+(C.i(b)&65535),N=(O>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);R=N>>>16,O&=65535,N&=65535,x[b]=N<<16|O}return new o(x,x[x.length-1]&-2147483648?-1:0)};function E(C,I){return C.add(S(I))}t.j=function(C){if(A(this)||A(C))return h;if(T(this))return T(C)?S(this).j(S(C)):S(S(this).j(C));if(T(C))return S(this.j(S(C)));if(0>this.l(_)&&0>C.l(_))return c(this.m()*C.m());for(var I=this.g.length+C.g.length,x=[],R=0;R<2*I;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(var b=0;b<C.g.length;b++){var O=this.i(R)>>>16,N=this.i(R)&65535,Z=C.i(b)>>>16,ge=C.i(b)&65535;x[2*R+2*b]+=N*ge,g(x,2*R+2*b),x[2*R+2*b+1]+=O*ge,g(x,2*R+2*b+1),x[2*R+2*b+1]+=N*Z,g(x,2*R+2*b+1),x[2*R+2*b+2]+=O*Z,g(x,2*R+2*b+2)}for(R=0;R<I;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=I;R<2*I;R++)x[R]=0;return new o(x,0)};function g(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function y(C,I){this.g=C,this.h=I}function P(C,I){if(A(I))throw Error("division by zero");if(A(C))return new y(h,h);if(T(C))return I=P(S(C),I),new y(S(I.g),S(I.h));if(T(I))return I=P(C,S(I)),new y(S(I.g),I.h);if(30<C.g.length){if(T(C)||T(I))throw Error("slowDivide_ only works with positive integers.");for(var x=p,R=I;0>=R.l(C);)x=D(x),R=D(R);var b=M(x,1),O=M(R,1);for(R=M(R,2),x=M(x,2);!A(R);){var N=O.add(R);0>=N.l(C)&&(b=b.add(x),O=N),R=M(R,1),x=M(x,1)}return I=E(C,b.j(I)),new y(b,I)}for(b=h;0<=C.l(I);){for(x=Math.max(1,Math.floor(C.m()/I.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(x),N=O.j(I);T(N)||0<N.l(C);)x-=R,O=c(x),N=O.j(I);A(O)&&(O=p),b=b.add(O),C=E(C,N)}return new y(b,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),x=[],R=0;R<I;R++)x[R]=this.i(R)&C.i(R);return new o(x,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),x=[],R=0;R<I;R++)x[R]=this.i(R)|C.i(R);return new o(x,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),x=[],R=0;R<I;R++)x[R]=this.i(R)^C.i(R);return new o(x,this.h^C.h)};function D(C){for(var I=C.g.length+1,x=[],R=0;R<I;R++)x[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(x,C.h)}function M(C,I){var x=I>>5;I%=32;for(var R=C.g.length-x,b=[],O=0;O<R;O++)b[O]=0<I?C.i(O+x)>>>I|C.i(O+x+1)<<32-I:C.i(O+x);return new o(b,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ai=o}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GC,ra,KC,Wu,Op,QC,YC,XC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,v){return u==Array.prototype||u==Object.prototype||(u[f]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var f=0;f<u.length;++f){var v=u[f];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var v=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var L=u[k];if(!(L in v))break e;v=v[L]}u=u[u.length-1],k=v[u],f=f(k),f!=k&&f!=null&&e(v,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var v=0,k=!1,L={next:function(){if(!k&&v<u.length){var F=v++;return{value:f(F,u[F]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,v){return u.call.apply(u.bind,arguments)}function h(u,f,v){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),u.apply(f,L)}}return function(){return u.apply(f,arguments)}}function p(u,f,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function _(u,f){var v=Array.prototype.slice.call(arguments,1);return function(){var k=v.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function A(u,f){function v(){}v.prototype=f.prototype,u.aa=f.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(k,L,F){for(var z=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)z[ye-2]=arguments[ye];return f.prototype[L].apply(k,z)}}function T(u){const f=u.length;if(0<f){const v=Array(f);for(let k=0;k<f;k++)v[k]=u[k];return v}return[]}function S(u,f){for(let v=1;v<arguments.length;v++){const k=arguments[v];if(l(k)){const L=u.length||0,F=k.length||0;u.length=L+F;for(let z=0;z<F;z++)u[L+z]=k[z]}else u.push(k)}}class E{constructor(f,v){this.i=f,this.j=v,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function g(u){return/^[\s\xa0]*$/.test(u)}function y(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var D=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function M(u,f,v){for(const k in u)f.call(v,u[k],k,u)}function C(u,f){for(const v in u)f.call(void 0,u[v],v,u)}function I(u){const f={};for(const v in u)f[v]=u[v];return f}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,f){let v,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(v in k)u[v]=k[v];for(let F=0;F<x.length;F++)v=x[F],Object.prototype.hasOwnProperty.call(k,v)&&(u[v]=k[v])}}function b(u){var f=1;u=u.split(":");const v=[];for(;0<f&&u.length;)v.push(u.shift()),f--;return u.length&&v.push(u.join(":")),v}function O(u){a.setTimeout(()=>{throw u},0)}function N(){var u=$;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class Z{constructor(){this.h=this.g=null}add(f,v){const k=ge.get();k.set(f,v),this.h?this.h.next=k:this.g=k,this.h=k}}var ge=new E(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(f,v){this.h=f,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,V=!1,$=new Z,H=()=>{const u=a.Promise.resolve(void 0);oe=()=>{u.then(te)}};var te=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){O(v)}var f=ge;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}V=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};a.addEventListener("test",v,f),a.removeEventListener("test",v,f)}catch{}return u}();function je(u,f){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(D){e:{try{P(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else v=="mouseover"?f=u.fromElement:v=="mouseout"&&(f=u.toElement);this.relatedTarget=f,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ne[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&je.aa.h.call(this)}}A(je,pe);var Ne={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),nn=0;function Xe(u,f,v,k,L){this.listener=u,this.proxy=null,this.src=f,this.type=v,this.capture=!!k,this.ha=L,this.key=++nn,this.da=this.fa=!1}function Rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kt(u){this.src=u,this.g={},this.h=0}Kt.prototype.add=function(u,f,v,k,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var z=Mt(u,f,k,L);return-1<z?(f=u[z],v||(f.fa=!1)):(f=new Xe(f,this.src,F,!!k,L),f.fa=v,u.push(f)),f};function hr(u,f){var v=f.type;if(v in u.g){var k=u.g[v],L=Array.prototype.indexOf.call(k,f,void 0),F;(F=0<=L)&&Array.prototype.splice.call(k,L,1),F&&(Rt(f),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Mt(u,f,v,k){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==f&&F.capture==!!v&&F.ha==k)return L}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),Co={};function Dl(u,f,v,k,L){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Dl(u,f[F],v,k,L);return null}return v=Tv(v),u&&u[Se]?u.K(f,v,c(k)?!!k.capture:!1,L):Zd(u,f,v,!1,k,L)}function Zd(u,f,v,k,L,F){if(!f)throw Error("Invalid event type");var z=c(L)?!!L.capture:!!L,ye=nh(u);if(ye||(u[Xi]=ye=new Kt(u)),v=ye.add(f,v,k,z,F),v.proxy)return v;if(k=eh(),v.proxy=k,k.src=u,k.listener=v,u.addEventListener)Ie||(L=z),L===void 0&&(L=!1),u.addEventListener(f.toString(),k,L);else if(u.attachEvent)u.attachEvent(Ev(f.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return v}function eh(){function u(v){return f.call(u.src,u.listener,v)}const f=Fx;return u}function ui(u,f,v,k,L){if(Array.isArray(f))for(var F=0;F<f.length;F++)ui(u,f[F],v,k,L);else k=c(k)?!!k.capture:!!k,v=Tv(v),u&&u[Se]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],v=Mt(F,v,k,L),-1<v&&(Rt(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=nh(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Mt(f,v,k,L)),(v=-1<u?f[u]:null)&&th(v))}function th(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Se])hr(f.i,u);else{var v=u.type,k=u.proxy;f.removeEventListener?f.removeEventListener(v,k,u.capture):f.detachEvent?f.detachEvent(Ev(v),k):f.addListener&&f.removeListener&&f.removeListener(k),(v=nh(f))?(hr(v,u),v.h==0&&(v.src=null,f[Xi]=null)):Rt(u)}}}function Ev(u){return u in Co?Co[u]:Co[u]="on"+u}function Fx(u,f){if(u.da)u=!0;else{f=new je(f,this);var v=u.listener,k=u.ha||u.src;u.fa&&th(u),u=v.call(k,f)}return u}function nh(u){return u=u[Xi],u instanceof Kt?u:null}var rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tv(u){return typeof u=="function"?u:(u[rh]||(u[rh]=function(f){return u.handleEvent(f)}),u[rh])}function at(){Y.call(this),this.i=new Kt(this),this.M=this,this.F=null}A(at,Y),at.prototype[Se]=!0,at.prototype.removeEventListener=function(u,f,v,k){ui(this,u,f,v,k)};function yt(u,f){var v,k=u.F;if(k)for(v=[];k;k=k.F)v.push(k);if(u=u.M,k=f.type||f,typeof f=="string")f=new pe(f,u);else if(f instanceof pe)f.target=f.target||u;else{var L=f;f=new pe(k,u),R(f,L)}if(L=!0,v)for(var F=v.length-1;0<=F;F--){var z=f.g=v[F];L=Ol(z,k,!0,f)&&L}if(z=f.g=u,L=Ol(z,k,!0,f)&&L,L=Ol(z,k,!1,f)&&L,v)for(F=0;F<v.length;F++)z=f.g=v[F],L=Ol(z,k,!1,f)&&L}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var v=u.g[f],k=0;k<v.length;k++)Rt(v[k]);delete u.g[f],u.h--}}this.F=null},at.prototype.K=function(u,f,v,k){return this.i.add(String(u),f,!1,v,k)},at.prototype.L=function(u,f,v,k){return this.i.add(String(u),f,!0,v,k)};function Ol(u,f,v,k){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,F=0;F<f.length;++F){var z=f[F];if(z&&!z.da&&z.capture==v){var ye=z.listener,Je=z.ha||z.src;z.fa&&hr(u.i,z),L=ye.call(Je,k)!==!1&&L}}return L&&!k.defaultPrevented}function Iv(u,f,v){if(typeof u=="function")v&&(u=p(u,v));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Sv(u){u.g=Iv(()=>{u.g=null,u.i&&(u.i=!1,Sv(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Vx extends Y{constructor(f,v){super(),this.m=f,this.l=v,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Sv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(u){Y.call(this),this.h=u,this.g={}}A(Ao,Y);var Cv=[];function Av(u){M(u.g,function(f,v){this.g.hasOwnProperty(v)&&th(f)},u),u.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),Av(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ih=a.JSON.stringify,jx=a.JSON.parse,$x=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function sh(){}sh.prototype.h=null;function xv(u){return u.h||(u.h=u.i())}function Rv(){}var xo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oh(){pe.call(this,"d")}A(oh,pe);function ah(){pe.call(this,"c")}A(ah,pe);var ci={},Pv=null;function Ml(){return Pv=Pv||new at}ci.La="serverreachability";function kv(u){pe.call(this,ci.La,u)}A(kv,pe);function Ro(u){const f=Ml();yt(f,new kv(f))}ci.STAT_EVENT="statevent";function Nv(u,f){pe.call(this,ci.STAT_EVENT,u),this.stat=f}A(Nv,pe);function _t(u){const f=Ml();yt(f,new Nv(f,u))}ci.Ma="timingevent";function bv(u,f){pe.call(this,ci.Ma,u),this.size=f}A(bv,pe);function Po(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function Ux(u,f,v,k,L,F){u.info(function(){if(u.g)if(F)for(var z="",ye=F.split("&"),Je=0;Je<ye.length;Je++){var he=ye[Je].split("=");if(1<he.length){var lt=he[0];he=he[1];var ut=lt.split("_");z=2<=ut.length&&ut[1]=="type"?z+(lt+"="+he+"&"):z+(lt+"=redacted&")}}else z=null;else z=F;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+f+`
`+v+`
`+z})}function Bx(u,f,v,k,L,F,z){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+f+`
`+v+`
`+F+" "+z})}function Ji(u,f,v,k){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+Wx(u,v)+(k?" "+k:"")})}function zx(u,f){u.info(function(){return"TIMEOUT: "+f})}ko.prototype.info=function(){};function Wx(u,f){if(!u.g)return f;if(!f)return null;try{var v=JSON.parse(f);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var k=v[u];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var z=1;z<L.length;z++)L[z]=""}}}}return ih(v)}catch{return f}}var Ll={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lh;function Fl(){}A(Fl,sh),Fl.prototype.g=function(){return new XMLHttpRequest},Fl.prototype.i=function(){return{}},lh=new Fl;function fr(u,f,v,k){this.j=u,this.i=f,this.l=v,this.R=k||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ov}function Ov(){this.i=null,this.g="",this.h=!1}var Mv={},uh={};function ch(u,f,v){u.L=1,u.v=Ul(Bn(f)),u.m=v,u.P=!0,Lv(u,null)}function Lv(u,f){u.F=Date.now(),Vl(u),u.A=Bn(u.v);var v=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),Yv(v.i,"t",k),u.C=0,v=u.j.J,u.h=new Ov,u.g=py(u.j,v?f:null,!u.m),0<u.O&&(u.M=new Vx(p(u.Y,u,u.g),u.O)),f=u.U,v=u.g,k=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Cv[0]=L.toString()),L=Cv);for(var F=0;F<L.length;F++){var z=Dl(v,L[F],k||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Ro(),Ux(u.i,u.u,u.A,u.l,u.R,u.m)}fr.prototype.ca=function(u){u=u.target;const f=this.M;f&&zn(u)==3?f.j():this.Y(u)},fr.prototype.Y=function(u){try{if(u==this.g)e:{const ut=zn(this.g);var f=this.g.Ba();const ts=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||ry(this.g)))){this.J||ut!=4||f==7||(f==8||0>=ts?Ro(3):Ro(2)),dh(this);var v=this.g.Z();this.X=v;t:if(Fv(this)){var k=ry(this.g);u="";var L=k.length,F=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),No(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,u+=this.h.i.decode(k[f],{stream:!(F&&f==L-1)});k.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=v==200,Bx(this.i,this.u,this.A,this.l,this.R,ut,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,Je=this.g;if((ye=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(ye)){var he=ye;break t}}he=null}if(v=he)Ji(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hh(this,v);else{this.o=!1,this.s=3,_t(12),di(this),No(this);break e}}if(this.P){v=!0;let rn;for(;!this.J&&this.C<z.length;)if(rn=Hx(this,z),rn==uh){ut==4&&(this.s=4,_t(14),v=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Mv){this.s=4,_t(15),Ji(this.i,this.l,z,"[Invalid Chunk]"),v=!1;break}else Ji(this.i,this.l,rn,null),hh(this,rn);if(Fv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||z.length!=0||this.h.h||(this.s=1,_t(16),v=!1),this.o=this.o&&v,!v)Ji(this.i,this.l,z,"[Invalid Chunked Response]"),di(this),No(this);else if(0<z.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),yh(lt),lt.M=!0,_t(11))}}else Ji(this.i,this.l,z,null),hh(this,z);ut==4&&di(this),this.o&&!this.J&&(ut==4?cy(this.j,this):(this.o=!1,Vl(this)))}else lR(this.g),v==400&&0<z.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),di(this),No(this)}}}catch{}finally{}};function Fv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Hx(u,f){var v=u.C,k=f.indexOf(`
`,v);return k==-1?uh:(v=Number(f.substring(v,k)),isNaN(v)?Mv:(k+=1,k+v>f.length?uh:(f=f.slice(k,k+v),u.C=k+v,f)))}fr.prototype.cancel=function(){this.J=!0,di(this)};function Vl(u){u.S=Date.now()+u.I,Vv(u,u.I)}function Vv(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Po(p(u.ba,u),f)}function dh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}fr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(zx(this.i,this.A),this.L!=2&&(Ro(),_t(17)),di(this),this.s=2,No(this)):Vv(this,this.S-u)};function No(u){u.j.G==0||u.J||cy(u.j,u)}function di(u){dh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Av(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function hh(u,f){try{var v=u.j;if(v.G!=0&&(v.g==u||fh(v.h,u))){if(!u.K&&fh(v.h,u)&&v.G==3){try{var k=v.Da.g.parse(f)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Gl(v),Hl(v);else break e;vh(v),_t(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=Po(p(v.Za,v),6e3));if(1>=Uv(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else fi(v,11)}else if((u.K||v.g==u)&&Gl(v),!g(f))for(L=v.Da.g.parse(f),f=0;f<L.length;f++){let he=L[f];if(v.T=he[0],he=he[1],v.G==2)if(he[0]=="c"){v.K=he[1],v.ia=he[2];const lt=he[3];lt!=null&&(v.la=lt,v.j.info("VER="+v.la));const ut=he[4];ut!=null&&(v.Aa=ut,v.j.info("SVER="+v.Aa));const ts=he[5];ts!=null&&typeof ts=="number"&&0<ts&&(k=1.5*ts,v.L=k,v.j.info("backChannelRequestTimeoutMs_="+k)),k=v;const rn=u.g;if(rn){const Ql=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ql){var F=k.h;F.g||Ql.indexOf("spdy")==-1&&Ql.indexOf("quic")==-1&&Ql.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ph(F,F.h),F.h=null))}if(k.D){const _h=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;_h&&(k.ya=_h,we(k.I,k.D,_h))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),k=v;var z=u;if(k.qa=fy(k,k.J?k.ia:null,k.W),z.K){Bv(k.h,z);var ye=z,Je=k.L;Je&&(ye.I=Je),ye.B&&(dh(ye),Vl(ye)),k.g=z}else ly(k);0<v.i.length&&ql(v)}else he[0]!="stop"&&he[0]!="close"||fi(v,7);else v.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?fi(v,7):gh(v):he[0]!="noop"&&v.l&&v.l.ta(he),v.v=0)}}Ro(4)}catch{}}var qx=class{constructor(u,f){this.g=u,this.map=f}};function jv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $v(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Uv(u){return u.h?1:u.g?u.g.size:0}function fh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function ph(u,f){u.g?u.g.add(f):u.h=f}function Bv(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}jv.prototype.cancel=function(){if(this.i=zv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const v of u.g.values())f=f.concat(v.D);return f}return T(u.i)}function Gx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],v=u.length,k=0;k<v;k++)f.push(u[k]);return f}f=[],v=0;for(k in u)f[v++]=u[k];return f}function Kx(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var v=0;v<u;v++)f.push(v);return f}f=[],v=0;for(const k in u)f[v++]=k;return f}}}function Wv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var v=Kx(u),k=Gx(u),L=k.length,F=0;F<L;F++)f.call(void 0,k[F],v&&v[F],u)}var Hv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qx(u,f){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var k=u[v].indexOf("="),L=null;if(0<=k){var F=u[v].substring(0,k);L=u[v].substring(k+1)}else F=u[v];f(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function hi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof hi){this.h=u.h,jl(this,u.j),this.o=u.o,this.g=u.g,$l(this,u.s),this.l=u.l;var f=u.i,v=new Oo;v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),qv(this,v),this.m=u.m}else u&&(f=String(u).match(Hv))?(this.h=!1,jl(this,f[1]||"",!0),this.o=bo(f[2]||""),this.g=bo(f[3]||"",!0),$l(this,f[4]),this.l=bo(f[5]||"",!0),qv(this,f[6]||"",!0),this.m=bo(f[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}hi.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Do(f,Gv,!0),":");var v=this.g;return(v||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Do(f,Gv,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Do(v,v.charAt(0)=="/"?Jx:Xx,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Do(v,eR)),u.join("")};function Bn(u){return new hi(u)}function jl(u,f,v){u.j=v?bo(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function $l(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function qv(u,f,v){f instanceof Oo?(u.i=f,tR(u.i,u.h)):(v||(f=Do(f,Zx)),u.i=new Oo(f,u.h))}function we(u,f,v){u.i.set(f,v)}function Ul(u){return we(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function bo(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Do(u,f,v){return typeof u=="string"?(u=encodeURI(u).replace(f,Yx),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Yx(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gv=/[#\/\?@]/g,Xx=/[#\?:]/g,Jx=/[#\?]/g,Zx=/[#\?@]/g,eR=/#/g;function Oo(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function pr(u){u.g||(u.g=new Map,u.h=0,u.i&&Qx(u.i,function(f,v){u.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}t=Oo.prototype,t.add=function(u,f){pr(this),this.i=null,u=Zi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(f),this.h+=1,this};function Kv(u,f){pr(u),f=Zi(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Qv(u,f){return pr(u),f=Zi(u,f),u.g.has(f)}t.forEach=function(u,f){pr(this),this.g.forEach(function(v,k){v.forEach(function(L){u.call(f,L,k,this)},this)},this)},t.na=function(){pr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),v=[];for(let k=0;k<f.length;k++){const L=u[k];for(let F=0;F<L.length;F++)v.push(f[k])}return v},t.V=function(u){pr(this);let f=[];if(typeof u=="string")Qv(this,u)&&(f=f.concat(this.g.get(Zi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)f=f.concat(u[v])}return f},t.set=function(u,f){return pr(this),this.i=null,u=Zi(this,u),Qv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Yv(u,f,v){Kv(u,f),0<v.length&&(u.i=null,u.g.set(Zi(u,f),T(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var v=0;v<f.length;v++){var k=f[v];const F=encodeURIComponent(String(k)),z=this.V(k);for(k=0;k<z.length;k++){var L=F;z[k]!==""&&(L+="="+encodeURIComponent(String(z[k]))),u.push(L)}}return this.i=u.join("&")};function Zi(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function tR(u,f){f&&!u.j&&(pr(u),u.i=null,u.g.forEach(function(v,k){var L=k.toLowerCase();k!=L&&(Kv(this,k),Yv(this,L,v))},u)),u.j=f}function nR(u,f){const v=new ko;if(a.Image){const k=new Image;k.onload=_(mr,v,"TestLoadImage: loaded",!0,f,k),k.onerror=_(mr,v,"TestLoadImage: error",!1,f,k),k.onabort=_(mr,v,"TestLoadImage: abort",!1,f,k),k.ontimeout=_(mr,v,"TestLoadImage: timeout",!1,f,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else f(!1)}function rR(u,f){const v=new ko,k=new AbortController,L=setTimeout(()=>{k.abort(),mr(v,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:k.signal}).then(F=>{clearTimeout(L),F.ok?mr(v,"TestPingServer: ok",!0,f):mr(v,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),mr(v,"TestPingServer: error",!1,f)})}function mr(u,f,v,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(v)}catch{}}function iR(){this.g=new $x}function sR(u,f,v){const k=v||"";try{Wv(u,function(L,F){let z=L;c(L)&&(z=ih(L)),f.push(k+F+"="+encodeURIComponent(z))})}catch(L){throw f.push(k+"type="+encodeURIComponent("_badmap")),L}}function Bl(u){this.l=u.Ub||null,this.j=u.eb||!1}A(Bl,sh),Bl.prototype.g=function(){return new zl(this.l,this.j)},Bl.prototype.i=function(u){return function(){return u}}({});function zl(u,f){at.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(zl,at),t=zl.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Lo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Mo(this):Lo(this),this.readyState==3&&Xv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Mo(this))},t.Qa=function(u){this.g&&(this.response=u,Mo(this))},t.ga=function(){this.g&&Mo(this)};function Mo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Lo(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var v=f.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=f.next();return u.join(`\r
`)};function Lo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jv(u){let f="";return M(u,function(v,k){f+=k,f+=":",f+=v,f+=`\r
`}),f}function mh(u,f,v){e:{for(k in v){var k=!1;break e}k=!0}k||(v=Jv(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):we(u,f,v))}function be(u){at.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(be,at);var oR=/^https?$/i,aR=["POST","PUT"];t=be.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,v,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lh.g(),this.v=this.o?xv(this.o):xv(lh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){Zv(this,F);return}if(u=v||"",v=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)v.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const F of k.keys())v.set(F,k.get(F));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aR,f,void 0))||k||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,z]of v)this.g.setRequestHeader(F,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ny(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Zv(this,F)}};function Zv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,ey(u),Wl(u)}function ey(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),Wl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wl(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ty(this):this.bb())},t.bb=function(){ty(this)};function ty(u){if(u.h&&typeof o<"u"&&(!u.v[1]||zn(u)!=4||u.Z()!=2)){if(u.u&&zn(u)==4)Iv(u.Ea,0,u);else if(yt(u,"readystatechange"),zn(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var v;if(!(v=f)){var k;if(k=z===0){var L=String(u.D).match(Hv)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),k=!oR.test(L?L.toLowerCase():"")}v=k}if(v)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var F=2<zn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",ey(u)}}finally{Wl(u)}}}}function Wl(u,f){if(u.g){ny(u);const v=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||yt(u,"ready");try{v.onreadystatechange=k}catch{}}}function ny(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),jx(f)}};function ry(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lR(u){const f={};u=(u.g&&2<=zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(g(u[k]))continue;var v=b(u[k]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=f[L]||[];f[L]=F,F.push(v)}C(f,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(u,f,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||f}function iy(u){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fo("baseRetryDelayMs",5e3,u),this.cb=Fo("retryDelaySeedMs",1e4,u),this.Wa=Fo("forwardChannelMaxRetries",2,u),this.wa=Fo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new jv(u&&u.concurrentRequestLimit),this.Da=new iR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iy.prototype,t.la=8,t.G=1,t.connect=function(u,f,v,k){_t(0),this.W=u,this.H=f||{},v&&k!==void 0&&(this.H.OSID=v,this.H.OAID=k),this.F=this.X,this.I=fy(this,null,this.W),ql(this)};function gh(u){if(sy(u),u.G==3){var f=u.U++,v=Bn(u.I);if(we(v,"SID",u.K),we(v,"RID",f),we(v,"TYPE","terminate"),Vo(u,v),f=new fr(u,u.j,f),f.L=2,f.v=Ul(Bn(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=f.v,v=!0),v||(f.g=py(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Vl(f)}hy(u)}function Hl(u){u.g&&(yh(u),u.g.cancel(),u.g=null)}function sy(u){Hl(u),u.u&&(a.clearTimeout(u.u),u.u=null),Gl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ql(u){if(!$v(u.h)&&!u.s){u.s=!0;var f=u.Ga;oe||H(),V||(oe(),V=!0),$.add(f,u),u.B=0}}function uR(u,f){return Uv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Po(p(u.Ga,u,f),dy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new fr(this,this.j,u);let F=this.o;if(this.S&&(F?(F=I(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var f=0,v=0;v<this.i.length;v++){t:{var k=this.i[v];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(f+=k,4096<f){f=v;break e}if(f===4096||v===this.i.length-1){f=v+1;break e}}f=1e3}else f=1e3;f=ay(this,L,f),v=Bn(this.I),we(v,"RID",u),we(v,"CVER",22),this.D&&we(v,"X-HTTP-Session-Id",this.D),Vo(this,v),F&&(this.O?f="headers="+encodeURIComponent(String(Jv(F)))+"&"+f:this.m&&mh(v,this.m,F)),ph(this.h,L),this.Ua&&we(v,"TYPE","init"),this.P?(we(v,"$req",f),we(v,"SID","null"),L.T=!0,ch(L,v,null)):ch(L,v,f),this.G=2}}else this.G==3&&(u?oy(this,u):this.i.length==0||$v(this.h)||oy(this))};function oy(u,f){var v;f?v=f.l:v=u.U++;const k=Bn(u.I);we(k,"SID",u.K),we(k,"RID",v),we(k,"AID",u.T),Vo(u,k),u.m&&u.o&&mh(k,u.m,u.o),v=new fr(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),f&&(u.i=f.D.concat(u.i)),f=ay(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ph(u.h,v),ch(v,k,f)}function Vo(u,f){u.H&&M(u.H,function(v,k){we(f,k,v)}),u.l&&Wv({},function(v,k){we(f,k,v)})}function ay(u,f,v){v=Math.min(u.i.length,v);var k=u.l?p(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const z=["count="+v];F==-1?0<v?(F=L[0].g,z.push("ofs="+F)):F=0:z.push("ofs="+F);let ye=!0;for(let Je=0;Je<v;Je++){let he=L[Je].g;const lt=L[Je].map;if(he-=F,0>he)F=Math.max(0,L[Je].g-100),ye=!1;else try{sR(lt,z,"req"+he+"_")}catch{k&&k(lt)}}if(ye){k=z.join("&");break e}}}return u=u.i.splice(0,v),f.D=u,k}function ly(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;oe||H(),V||(oe(),V=!0),$.add(f,u),u.v=0}}function vh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Po(p(u.Fa,u),dy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,uy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Po(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Hl(this),uy(this))};function yh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function uy(u){u.g=new fr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Bn(u.qa);we(f,"RID","rpc"),we(f,"SID",u.K),we(f,"AID",u.T),we(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&we(f,"TO",u.ja),we(f,"TYPE","xmlhttp"),Vo(u,f),u.m&&u.o&&mh(f,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ul(Bn(f)),v.m=null,v.P=!0,Lv(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Hl(this),vh(this),_t(19))};function Gl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function cy(u,f){var v=null;if(u.g==f){Gl(u),yh(u),u.g=null;var k=2}else if(fh(u.h,f))v=f.D,Bv(u.h,f),k=1;else return;if(u.G!=0){if(f.o)if(k==1){v=f.m?f.m.length:0,f=Date.now()-f.F;var L=u.B;k=Ml(),yt(k,new bv(k,v)),ql(u)}else ly(u);else if(L=f.s,L==3||L==0&&0<f.X||!(k==1&&uR(u,f)||k==2&&vh(u)))switch(v&&0<v.length&&(f=u.h,f.i=f.i.concat(v)),L){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function dy(u,f){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*f}function fi(u,f){if(u.j.info("Error code "+f),f==2){var v=p(u.fb,u),k=u.Xa;const L=!k;k=new hi(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jl(k,"https"),Ul(k),L?nR(k.toString(),v):rR(k.toString(),v)}else _t(2);u.G=0,u.l&&u.l.sa(f),hy(u),sy(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function hy(u){if(u.G=0,u.ka=[],u.l){const f=zv(u.h);(f.length!=0||u.i.length!=0)&&(S(u.ka,f),S(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function fy(u,f,v){var k=v instanceof hi?Bn(v):new hi(v);if(k.g!="")f&&(k.g=f+"."+k.g),$l(k,k.s);else{var L=a.location;k=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var F=new hi(null);k&&jl(F,k),f&&(F.g=f),L&&$l(F,L),v&&(F.l=v),k=F}return v=u.D,f=u.ya,v&&f&&we(k,v,f),we(k,"VER",u.la),Vo(u,k),k}function py(u,f,v){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new be(new Bl({eb:v})):new be(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function my(){}t=my.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kl(){}Kl.prototype.g=function(u,f){return new Lt(u,f)};function Lt(u,f){at.call(this),this.g=new iy(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!g(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!g(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new es(this)}A(Lt,at),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){gh(this.g)},Lt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ih(u),u=v);f.i.push(new qx(f.Ya++,u)),f.G==3&&ql(f)},Lt.prototype.N=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,Lt.aa.N.call(this)};function gy(u){oh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const v in f){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}A(gy,oh);function vy(){ah.call(this),this.status=1}A(vy,ah);function es(u){this.g=u}A(es,my),es.prototype.ua=function(){yt(this.g,"a")},es.prototype.ta=function(u){yt(this.g,new gy(u))},es.prototype.sa=function(u){yt(this.g,new vy)},es.prototype.ra=function(){yt(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,XC=function(){return new Kl},YC=function(){return Ml()},QC=ci,Op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ll.NO_ERROR=0,Ll.TIMEOUT=8,Ll.HTTP_ERROR=6,Wu=Ll,Dv.COMPLETE="complete",KC=Dv,Rv.EventType=xo,xo.OPEN="a",xo.CLOSE="b",xo.ERROR="c",xo.MESSAGE="d",at.prototype.listen=at.prototype.K,ra=Rv,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,GC=be}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const Bw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new vg("@firebase/firestore");function Ko(){return Li.logLevel}function G(t,...e){if(Li.logLevel<=le.DEBUG){const n=e.map(xg);Li.debug(`Firestore (${Eo}): ${t}`,...n)}}function ar(t,...e){if(Li.logLevel<=le.ERROR){const n=e.map(xg);Li.error(`Firestore (${Eo}): ${t}`,...n)}}function eo(t,...e){if(Li.logLevel<=le.WARN){const n=e.map(xg);Li.warn(`Firestore (${Eo}): ${t}`,...n)}}function xg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+t;throw ar(e),new Error(e)}function de(t,e){t||X()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class e4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class t4{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new JC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new ft(e)}}class n4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class r4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new n4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){de(this.o===void 0);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.R=n.token,new i4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=o4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new qe(0,0))}static max(){return new J(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends Qa{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const a4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends Qa{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return a4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new W(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(ve.fromString(e))}static fromName(e){return new K(ve.fromString(e).popFirst(5))}static empty(){return new K(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new ve(e.slice()))}}function l4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new Yr(i,K.empty(),e)}function u4(t){return new Yr(t.readTime,t.key,-1)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(J.min(),K.empty(),-1)}static max(){return new Yr(J.max(),K.empty(),-1)}}function c4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==d4)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function f4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Il(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rg.oe=-1;function Sl(t){return t==null}function Lc(t){return t===0&&1/t==-1/0}function p4(t){return typeof t=="number"&&Number.isInteger(t)&&!Lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.comparator=e,this.root=n||tt.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tt.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tt.RED,this.left=i??tt.EMPTY,this.right=s??tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}tt.EMPTY=null,tt.RED=!0,tt.BLACK=!1;tt.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ww(this.data.getIterator())}getIteratorFrom(e){return new Ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Ut([])}unionWith(e){let n=new it(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ut(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tA("Invalid base64 string: "+s):s}}(e);return new ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const m4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(t){if(de(!!t),typeof t=="string"){let e=0;const n=m4.exec(t);if(de(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fi(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pg(t){const e=t.mapValue.fields.__previous_value__;return Pd(e)?Pg(e):e}function Ya(t){const e=Xr(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Xa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu={mapValue:{}};function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pd(t)?4:y4(t)?9007199254740991:v4(t)?10:11:X()}function Vn(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xr(i.timestampValue),a=Xr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fi(i.bytesValue).isEqual(Fi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Oe(i.geoPointValue.latitude)===Oe(s.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Oe(i.integerValue)===Oe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Oe(i.doubleValue),a=Oe(s.doubleValue);return o===a?Lc(o)===Lc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(zw(o)!==zw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Vn(o[l],a[l])))return!1;return!0}(t,e);default:return X()}}function Ja(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Oe(s.integerValue||s.doubleValue),l=Oe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Hw(t.timestampValue,e.timestampValue);case 4:return Hw(Ya(t),Ya(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Fi(s),l=Fi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=fe(a[c],l[c]);if(d!==0)return d}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(Oe(s.latitude),Oe(o.latitude));return a!==0?a:fe(Oe(s.longitude),Oe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},p=o.fields||{},_=(a=h.value)===null||a===void 0?void 0:a.arrayValue,A=(l=p.value)===null||l===void 0?void 0:l.arrayValue,T=fe(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((d=A==null?void 0:A.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:qw(_,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Tu.mapValue&&o===Tu.mapValue)return 0;if(s===Tu.mapValue)return 1;if(o===Tu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=fe(l[h],d[h]);if(p!==0)return p;const _=no(a[l[h]],c[d[h]]);if(_!==0)return _}return fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw X()}}function Hw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Xr(t),r=Xr(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function qw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=no(n[i],r[i]);if(s)return s}return fe(n.length,r.length)}function ro(t){return Mp(t)}function Mp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Mp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Mp(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function Fc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lp(t){return!!t&&"integerValue"in t}function kg(t){return!!t&&"arrayValue"in t}function Gw(t){return!!t&&"nullValue"in t}function Kw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hu(t){return!!t&&"mapValue"in t}function v4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ga(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function y4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.value=e}static empty(){return new Tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ga(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Tt(ga(this.value))}}function nA(t){const e=[];return Ki(t.fields,(n,r)=>{const i=new nt([n]);if(Hu(r)){const s=nA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ut(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,J.min(),J.min(),J.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,i){return new Qe(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new Qe(e,2,n,J.min(),J.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new Qe(e,3,n,J.min(),J.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.position=e,this.inclusive=n}}function Qw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=no(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n="asc"){this.field=e,this.dir=n}}function _4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{}class Be extends rA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E4(e,n,r):n==="array-contains"?new S4(e,r):n==="in"?new C4(e,r):n==="not-in"?new A4(e,r):n==="array-contains-any"?new x4(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new T4(e,r):new I4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends rA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new vn(e,n)}matches(e){return iA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iA(t){return t.op==="and"}function sA(t){return w4(t)&&iA(t)}function w4(t){for(const e of t.filters)if(e instanceof vn)return!1;return!0}function Fp(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(sA(t))return t.filters.map(e=>Fp(e)).join(",");{const e=t.filters.map(n=>Fp(n)).join(",");return`${t.op}(${e})`}}function oA(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(t,e):t instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oA(o,i.filters[a]),!0):!1}(t,e):void X()}function aA(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(aA).join(" ,")+"}"}(t):"Filter"}class E4 extends Be{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class T4 extends Be{constructor(e,n){super(e,"in",n),this.keys=lA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I4 extends Be{constructor(e,n){super(e,"not-in",n),this.keys=lA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class S4 extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kg(n)&&Ja(n.arrayValue,this.value)}}class C4 extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ja(this.value.arrayValue,n)}}class A4 extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ja(this.value.arrayValue,n)}}class x4 extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ja(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Xw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new R4(t,e,n,r,i,s,o)}function Ng(t){const e=ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.ue=n}return e.ue}function bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yw(t.startAt,e.startAt)&&Yw(t.endAt,e.endAt)}function Vp(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function P4(t,e,n,r,i,s,o,a){return new Qi(t,e,n,r,i,s,o,a)}function kd(t){return new Qi(t)}function Jw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dg(t){return t.collectionGroup!==null}function js(t){const e=ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(nt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Za(s,r))}),n.has(nt.keyField().canonicalString())||e.ce.push(new Za(nt.keyField(),r))}return e.ce}function bn(t){const e=ee(t);return e.le||(e.le=k4(e,js(t))),e.le}function k4(t,e){if(t.limitType==="F")return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Za(i.field,s)});const n=t.endAt?new io(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new io(t.startAt.position,t.startAt.inclusive):null;return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jp(t,e){const n=t.filters.concat([e]);return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vc(t,e,n){return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nd(t,e){return bg(bn(t),bn(e))&&t.limitType===e.limitType}function uA(t){return`${Ng(bn(t))}|lt:${t.limitType}`}function ds(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aA(i)).join(", ")}]`),Sl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ro(i)).join(",")),`Target(${r})`}(bn(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of js(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Qw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,js(r),i)||r.endAt&&!function(o,a,l){const c=Qw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,js(r),i))}(t,e)}function N4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cA(t){return(e,n)=>{let r=!1;for(const i of js(t)){const s=b4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function b4(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?no(l,c):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new ke(K.comparator);function lr(){return D4}const dA=new ke(K.comparator);function ia(...t){let e=dA;for(const n of t)e=e.insert(n.key,n);return e}function hA(t){let e=dA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return va()}function fA(){return va()}function va(){return new To(t=>t.toString(),(t,e)=>t.isEqual(e))}const O4=new ke(K.comparator),M4=new it(K.comparator);function ae(...t){let e=M4;for(const n of t)e=e.add(n);return e}const L4=new it(fe);function F4(){return L4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function pA(t){return{integerValue:""+t}}function V4(t,e){return p4(e)?pA(e):Og(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function j4(t,e,n){return t instanceof el?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Pd(s)&&(s=Pg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof tl?gA(t,e):t instanceof nl?vA(t,e):function(i,s){const o=mA(i,s),a=Zw(o)+Zw(i.Pe);return Lp(o)&&Lp(i.Pe)?pA(a):Og(i.serializer,a)}(t,e)}function $4(t,e,n){return t instanceof tl?gA(t,e):t instanceof nl?vA(t,e):n}function mA(t,e){return t instanceof jc?function(r){return Lp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class el extends Dd{}class tl extends Dd{constructor(e){super(),this.elements=e}}function gA(t,e){const n=yA(e);for(const r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class nl extends Dd{constructor(e){super(),this.elements=e}}function vA(t,e){let n=yA(e);for(const r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}class jc extends Dd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Zw(t){return Oe(t.integerValue||t.doubleValue)}function yA(t){return kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.field=e,this.transform=n}}function B4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tl&&i instanceof tl||r instanceof nl&&i instanceof nl?to(r.elements,i.elements,Vn):r instanceof jc&&i instanceof jc?Vn(r.Pe,i.Pe):r instanceof el&&i instanceof el}(t.transform,e.transform)}class z4{constructor(e,n){this.version=e,this.transformResults=n}}class kt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kt}static exists(e){return new kt(void 0,e)}static updateTime(e){return new kt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Od{}function _A(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mg(t.key,kt.none()):new Cl(t.key,t.data,kt.none());{const n=t.data,r=Tt.empty();let i=new it(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ai(t.key,r,new Ut(i.toArray()),kt.none())}}function W4(t,e,n){t instanceof Cl?function(i,s,o){const a=i.value.clone(),l=tE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(i,s,o){if(!qu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=tE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ya(t,e,n,r){return t instanceof Cl?function(s,o,a,l){if(!qu(s.precondition,o))return a;const c=s.value.clone(),d=nE(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(s,o,a,l){if(!qu(s.precondition,o))return a;const c=nE(s.fieldTransforms,l,o),d=o.data;return d.setAll(wA(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return qu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function H4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mA(r.transform,i||null);s!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,s))}return n||null}function eE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&to(r,i,(s,o)=>B4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cl extends Od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends Od{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tE(t,e,n){const r=new Map;de(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$4(o,a,n[i]))}return r}function nE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,j4(s,o,e))}return r}class Mg extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EA extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&W4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=_A(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>eE(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>eE(n,r))}}class Lg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length);let i=function(){return O4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,ue;function TA(t){switch(t){default:return X();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function IA(t){if(t===void 0)return ar("GRPC error has no .code"),j.UNKNOWN;switch(t){case $e.OK:return j.OK;case $e.CANCELLED:return j.CANCELLED;case $e.UNKNOWN:return j.UNKNOWN;case $e.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case $e.INTERNAL:return j.INTERNAL;case $e.UNAVAILABLE:return j.UNAVAILABLE;case $e.UNAUTHENTICATED:return j.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case $e.NOT_FOUND:return j.NOT_FOUND;case $e.ALREADY_EXISTS:return j.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return j.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case $e.ABORTED:return j.ABORTED;case $e.OUT_OF_RANGE:return j.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return j.UNIMPLEMENTED;case $e.DATA_LOSS:return j.DATA_LOSS;default:return X()}}(ue=$e||($e={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Ai([4294967295,4294967295],0);function rE(t){const e=Q4().encode(t),n=new qC;return n.update(e),new Uint8Array(n.digest())}function iE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ai([n,r],0),new Ai([i,s],0)]}class Fg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sa(`Invalid padding: ${n}`);if(r<0)throw new sa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ai.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ai.fromNumber(r)));return i.compare(Y4)===1&&(i=new Ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=rE(e),[r,i]=iE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Fg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=rE(e),[r,i]=iE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Md(J.min(),i,new ke(fe),lr(),ae())}}class Al{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Al(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class SA{constructor(e,n){this.targetId=e,this.me=n}}class CA{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sE{constructor(){this.fe=0,this.ge=aE(),this.pe=ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ae(),n=ae(),r=ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Al(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=aE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,de(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class X4{constructor(e){this.Le=e,this.Be=new Map,this.ke=lr(),this.qe=oE(),this.Qe=new ke(fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Vp(s))if(r===0){const o=new K(s.path);this.Ue(n,o,Qe.newNoDocument(o,J.min()))}else de(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Fi(r).toUint8Array()}catch(l){if(l instanceof tA)return eo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Fg(o,i,s)}catch(l){return eo(l instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Vp(a.target)){const l=new K(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Qe.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ae();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Md(e,n,this.Qe,this.ke,r);return this.ke=lr(),this.qe=oE(),this.Qe=new ke(fe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new sE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new sE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function oE(){return new ke(K.comparator)}function aE(){return new ke(K.comparator)}const J4={asc:"ASCENDING",desc:"DESCENDING"},Z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ej={and:"AND",or:"OR"};class tj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $p(t,e){return t.useProto3Json||Sl(e)?e:{value:e}}function $c(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nj(t,e){return $c(t,e.toTimestamp())}function Wt(t){return de(!!t),J.fromTimestamp(function(n){const r=Xr(n);return new qe(r.seconds,r.nanos)}(t))}function Vg(t,e){return Up(t,e).canonicalString()}function Up(t,e){const n=function(i){return new ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xA(t){const e=ve.fromString(t);return de(DA(e)),e}function Uc(t,e){return Vg(t.databaseId,e.path)}function _a(t,e){const n=xA(e);if(n.get(1)!==t.databaseId.projectId)throw new W(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(PA(n))}function RA(t,e){return Vg(t.databaseId,e)}function rj(t){const e=xA(t);return e.length===4?ve.emptyPath():PA(e)}function Bp(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PA(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lE(t,e,n){return{name:Uc(t,e),fields:n.value.mapValue.fields}}function ij(t,e){return"found"in e?function(r,i){de(!!i.found),i.found.name,i.found.updateTime;const s=_a(r,i.found.name),o=Wt(i.found.updateTime),a=i.found.createTime?Wt(i.found.createTime):J.min(),l=new Tt({mapValue:{fields:i.found.fields}});return Qe.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){de(!!i.missing),de(!!i.readTime);const s=_a(r,i.missing),o=Wt(i.readTime);return Qe.newNoDocument(s,o)}(t,e):X()}function sj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(de(d===void 0||typeof d=="string"),ot.fromBase64String(d||"")):(de(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?j.UNKNOWN:IA(c.code);return new W(d,c.message||"")}(o);n=new CA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_a(t,r.document.name),s=Wt(r.document.updateTime),o=r.document.createTime?Wt(r.document.createTime):J.min(),a=new Tt({mapValue:{fields:r.document.fields}}),l=Qe.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Gu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_a(t,r.document),s=r.readTime?Wt(r.readTime):J.min(),o=Qe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_a(t,r.document),s=r.removedTargetIds||[];n=new Gu([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new K4(i,s),a=r.targetId;n=new SA(a,o)}}return n}function kA(t,e){let n;if(e instanceof Cl)n={update:lE(t,e.key,e.value)};else if(e instanceof Mg)n={delete:Uc(t,e.key)};else if(e instanceof ai)n={update:lE(t,e.key,e.data),updateMask:pj(e.fieldMask)};else{if(!(e instanceof EA))return X();n={verify:Uc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof el)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function oj(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Wt(i.updateTime):Wt(s);return o.isEqual(J.min())&&(o=Wt(s)),new z4(o,i.transformResults||[])}(n,e))):[]}function aj(t,e){return{documents:[RA(t,e.path)]}}function lj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RA(t,i);const s=function(c){if(c.length!==0)return bA(vn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:hs(p.field),direction:dj(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=$p(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function uj(t){let e=rj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){de(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=NA(h);return p instanceof vn&&sA(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(A){return new Za(fs(A.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Sl(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,_=h.values||[];return new io(_,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,_=h.values||[];return new io(_,p)}(n.endAt)),P4(e,i,o,s,a,"F",l,c)}function cj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fs(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fs(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fs(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fs(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(fs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(r=>NA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function dj(t){return J4[t]}function hj(t){return Z4[t]}function fj(t){return ej[t]}function hs(t){return{fieldPath:t.canonicalString()}}function fs(t){return nt.fromServerFormat(t.fieldPath)}function bA(t){return t instanceof Be?function(n){if(n.op==="=="){if(Kw(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NAN"}};if(Gw(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kw(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NAN"}};if(Gw(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(n.field),op:hj(n.op),value:n.value}}}(t):t instanceof vn?function(n){const r=n.getFilters().map(i=>bA(i));return r.length===1?r[0]:{compositeFilter:{op:fj(n.op),filters:r}}}(t):X()}function pj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,s=J.min(),o=J.min(),a=ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.ct=e}}function gj(t){const e=uj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.un=new yj}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Yr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class yj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new so(0)}static kn(){return new so(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.changes=new To(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ya(r.mutation,i,Ut.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=Ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ia();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=lr();const o=va(),a=function(){return va()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ai)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ya(d.mutation,c,d.mutation.getFieldMask(),qe.now())):o.set(c.key,Ut.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new wj(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=va();let i=new ke((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Ut.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||ae()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=fA();d.forEach(p=>{if(!s.has(p)){const _=_A(n.get(p),r.get(p));_!==null&&h.set(p,_),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ii());let a=-1,l=s;return o.next(c=>U.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ae())).next(d=>({batchId:a,changes:hA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=ia();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ia();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(h,p){return new Qi(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Qe.newInvalidDocument(d)))});let a=ia();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&ya(d.mutation,c,Ut.empty(),qe.now()),bd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wt(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:gj(i.bundledQuery),readTime:Wt(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.overlays=new ke(K.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ii();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ii(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ii(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ii(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new G4(n,r));let s=this.Ir.get(n);s===void 0&&(s=ae(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Tr=new it(Ge.Er),this.dr=new it(Ge.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ge(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ge(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new ve([])),r=new Ge(n,e),i=new Ge(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new ve([])),r=new Ge(n,e),i=new Ge(n,e+1);let s=ae();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ge(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ge{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||fe(e.wr,n.wr)}static Ar(e,n){return fe(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new it(Ge.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new q4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ge(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ge(n,0),i=new Ge(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(fe);return n.forEach(i=>{const s=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new Ge(new K(s),0);let a=new it(fe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const s=new Ge(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ge(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.Mr=e,this.docs=function(){return new ke(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(e,n){let r=lr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qe.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=lr();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||c4(u4(d),r)<=0||(i.has(d.key)||bd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xj(this)}getSize(e){return U.resolve(this.size)}}class xj extends _j{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.persistence=e,this.Nr=new To(n=>Ng(n),bg),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Lr=0,this.Br=new jg,this.targetCount=0,this.kr=so.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new so(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Rg(0),this.Kr=!1,this.Kr=!0,this.$r=new Sj,this.referenceDelegate=e(this),this.Ur=new Rj(this),this.indexManager=new vj,this.remoteDocumentCache=function(i){return new Aj(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new mj(n),this.Gr=new Tj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ij,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Cj(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new kj(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kj extends h4{constructor(e){super(),this.currentSequenceNumber=e}}class $g{constructor(e){this.persistence=e,this.Jr=new jg,this.Yr=null}static Zr(e){return new $g(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ug(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _L()?8:f4(vt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Nj;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ko()<=le.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Ko()<=le.DEBUG&&G("QueryEngine","Query:",ds(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ko()<=le.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(n))):U.resolve())}Yi(e,n){if(Jw(n))return U.resolve(null);let r=bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vc(n,null,"F"),r=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Vc(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Jw(n)||i.isEqual(J.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(Ko()<=le.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(n)),this.rs(e,o,n,l4(i,-1)).next(a=>a))})}ts(e,n){let r=new it(cA(e));return n.forEach((i,s)=>{bd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ko()<=le.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ds(n)),this.Ji.getDocumentsMatchingQuery(e,n,Yr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ke(fe),this._s=new To(s=>Ng(s),bg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ej(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Oj(t,e,n,r){return new Dj(t,e,n,r)}async function OA(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ae();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Mj(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let _=U.resolve();return p.forEach(A=>{_=_.next(()=>d.getEntry(l,A)).next(T=>{const S=c.docVersions.get(A);de(S!==null),T.version.compareTo(S)<0&&(h.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MA(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Lj(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let _=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?_=_.withResumeToken(ot.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(h,_),function(T,S,E){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,_,d)&&a.push(n.Ur.updateTargetData(s,_))});let l=lr(),c=ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Fj(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(J.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function Fj(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=lr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Vj(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jj(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function zp(t,e,n){const r=ee(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Il(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function uE(t,e,n){const r=ee(t);let i=J.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ee(l),p=h._s.get(d);return p!==void 0?U.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,o,bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ae())).next(a=>($j(r,N4(e),a),{documents:a,Ts:s})))}function $j(t,e,n){let r=t.us.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class cE{constructor(){this.activeTargetIds=F4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uj{constructor(){this.so=new cE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu=null;function ff(){return Iu===null?Iu=function(){return 268435456+Math.round(2147483648*Math.random())}():Iu++,"0x"+Iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class Hj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=ff(),l=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(G("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw eo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=zj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=ff();return new Promise((o,a)=>{const l=new GC;l.setWithCredentials(!0),l.listenOnce(KC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wu.NO_ERROR:const d=l.getResponseJson();G(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Wu.TIMEOUT:G(ht,`RPC '${e}' ${s} timed out`),a(new W(j.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const h=l.getStatus();if(G(ht,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const A=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(E)>=0?E:j.UNKNOWN}(_.status);a(new W(A,_.message))}else a(new W(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new W(j.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{G(ht,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);G(ht,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=ff(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XC(),a=YC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");G(ht,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,_=!1;const A=new Wj({Io:S=>{_?G(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(G(ht,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),G(ht,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),T=(S,E,g)=>{S.listen(E,y=>{try{g(y)}catch(P){setTimeout(()=>{throw P},0)}})};return T(h,ra.EventType.OPEN,()=>{_||(G(ht,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),T(h,ra.EventType.CLOSE,()=>{_||(_=!0,G(ht,`RPC '${e}' stream ${i} transport closed`),A.So())}),T(h,ra.EventType.ERROR,S=>{_||(_=!0,eo(ht,`RPC '${e}' stream ${i} transport errored:`,S),A.So(new W(j.UNAVAILABLE,"The operation could not be completed")))}),T(h,ra.EventType.MESSAGE,S=>{var E;if(!_){const g=S.data[0];de(!!g);const y=g,P=y.error||((E=y[0])===null||E===void 0?void 0:E.error);if(P){G(ht,`RPC '${e}' stream ${i} received error:`,P);const D=P.status;let M=function(x){const R=$e[x];if(R!==void 0)return IA(R)}(D),C=P.message;M===void 0&&(M=j.INTERNAL,C="Unknown error status: "+D+" with message "+P.message),_=!0,A.So(new W(M,C)),h.close()}else G(ht,`RPC '${e}' stream ${i} received:`,g),A.bo(g)}}),T(a,QC.STAT_EVENT,S=>{S.stat===Op.PROXY?G(ht,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Op.NOPROXY&&G(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){return new tj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bg(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new W(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qj extends LA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=sj(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?Wt(o.readTime):J.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Bp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Vp(l)?{documents:aj(s,l)}:{query:lj(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AA(s,o.resumeToken);const c=$p(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=$c(s,o.snapshotVersion.toTimestamp());const c=$p(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=cj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Bp(this.serializer),n.removeTarget=e,this.a_(n)}}class Gj extends LA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return de(!!e.streamToken),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=oj(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Bp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kA(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Up(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(j.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Up(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(j.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Qj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ar(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Yi(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ee(l);c.L_.add(4),await xl(c),c.q_.set("Unknown"),c.L_.delete(4),await Fd(c)}(this))})}),this.q_=new Qj(r,i)}}async function Fd(t){if(Yi(t))for(const e of t.B_)await e(!0)}async function xl(t){for(const e of t.B_)await e(!1)}function FA(t,e){const n=ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),qg(n)?Hg(n):Io(n).r_()&&Wg(n,e))}function zg(t,e){const n=ee(t),r=Io(n);n.N_.delete(e),r.r_()&&VA(n,e),n.N_.size===0&&(r.r_()?r.o_():Yi(n)&&n.q_.set("Unknown"))}function Wg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(t).A_(e)}function VA(t,e){t.Q_.xe(e),Io(t).R_(e)}function Hg(t){t.Q_=new X4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Io(t).start(),t.q_.v_()}function qg(t){return Yi(t)&&!Io(t).n_()&&t.N_.size>0}function Yi(t){return ee(t).L_.size===0}function jA(t){t.Q_=void 0}async function Xj(t){t.q_.set("Online")}async function Jj(t){t.N_.forEach((e,n)=>{Wg(t,e)})}async function Zj(t,e){jA(t),qg(t)?(t.q_.M_(e),Hg(t)):t.q_.set("Unknown")}async function e$(t,e,n){if(t.q_.set("Online"),e instanceof CA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bc(t,r)}else if(e instanceof Gu?t.Q_.Ke(e):e instanceof SA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(J.min()))try{const r=await MA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(ot.EMPTY_BYTE_STRING,d.snapshotVersion)),VA(s,l);const h=new Nr(d.target,l,c,d.sequenceNumber);Wg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Bc(t,r)}}async function Bc(t,e,n){if(!Il(e))throw e;t.L_.add(1),await xl(t),t.q_.set("Offline"),n||(n=()=>MA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Fd(t)})}function $A(t,e){return e().catch(n=>Bc(t,n,e))}async function Vd(t){const e=ee(t),n=Jr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;t$(e);)try{const i=await Vj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,n$(e,i)}catch(i){await Bc(e,i)}UA(e)&&BA(e)}function t$(t){return Yi(t)&&t.O_.length<10}function n$(t,e){t.O_.push(e);const n=Jr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function UA(t){return Yi(t)&&!Jr(t).n_()&&t.O_.length>0}function BA(t){Jr(t).start()}async function r$(t){Jr(t).p_()}async function i$(t){const e=Jr(t);for(const n of t.O_)e.m_(n.mutations)}async function s$(t,e,n){const r=t.O_.shift(),i=Lg.from(r,e,n);await $A(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vd(t)}async function o$(t,e){e&&Jr(t).V_&&await async function(r,i){if(function(o){return TA(o)&&o!==j.ABORTED}(i.code)){const s=r.O_.shift();Jr(r).s_(),await $A(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vd(r)}}(t,e),UA(t)&&BA(t)}async function hE(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Yi(n);n.L_.add(3),await xl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Fd(n)}async function a$(t,e){const n=ee(t);e?(n.L_.delete(2),await Fd(n)):e||(n.L_.add(2),await xl(n),n.q_.set("Unknown"))}function Io(t){return t.K_||(t.K_=function(n,r,i){const s=ee(n);return s.w_(),new qj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Xj.bind(null,t),Ro:Jj.bind(null,t),mo:Zj.bind(null,t),d_:e$.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),qg(t)?Hg(t):t.q_.set("Unknown")):(await t.K_.stop(),jA(t))})),t.K_}function Jr(t){return t.U_||(t.U_=function(n,r,i){const s=ee(n);return s.w_(),new Gj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:r$.bind(null,t),mo:o$.bind(null,t),f_:i$.bind(null,t),g_:s$.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Vd(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Gg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(t,e){if(ar("AsyncQueue",`${e}: ${t}`),Il(t))return new W(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=ia(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new $s(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.W_=new ke(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oo(e,n,$s.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class u${constructor(){this.queries=pE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ee(n),s=i.queries;i.queries=pE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new W(j.ABORTED,"Firestore shutting down"))}}function pE(){return new To(t=>uA(t),Nd)}async function Qg(t,e){const n=ee(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new l$,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Kg(o,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Xg(n)}async function Yg(t,e){const n=ee(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function c$(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Xg(n)}function d$(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Xg(t){t.Y_.forEach(e=>{e.next()})}var Wp,mE;(mE=Wp||(Wp={})).ea="default",mE.Cache="cache";class Jg{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.key=e}}class WA{constructor(e){this.key=e}}class h${constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ae(),this.mutatedKeys=ae(),this.Aa=cA(e),this.Ra=new $s(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new fE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),_=bd(this.query,h)?h:null,A=!!p&&this.mutatedKeys.has(p.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;p&&_?p.data.isEqual(_.data)?A!==T&&(r.track({type:3,doc:_}),S=!0):this.ga(p,_)||(r.track({type:2,doc:_}),S=!0,(l&&this.Aa(_,l)>0||c&&this.Aa(_,c)<0)&&(a=!0)):!p&&_?(r.track({type:0,doc:_}),S=!0):p&&!_&&(r.track({type:1,doc:p}),S=!0,(l||c)&&(a=!0)),S&&(_?(o=o.add(_),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(_,A){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return T(_)-T(A)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new oo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new WA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new zA(r))}),n}ba(e){this.Ta=e.Ts,this.da=ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class f${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p${constructor(e){this.key=e,this.va=!1}}class m${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new To(a=>uA(a),Nd),this.Ma=new Map,this.xa=new Set,this.Oa=new ke(K.comparator),this.Na=new Map,this.La=new jg,this.Ba={},this.ka=new Map,this.qa=so.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function g$(t,e,n=!0){const r=YA(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await HA(r,e,n,!0),i}async function v$(t,e){const n=YA(t);await HA(n,e,!0,!1)}async function HA(t,e,n,r){const i=await jj(t.localStore,bn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await y$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&FA(t.remoteStore,i),a}async function y$(t,e,n,r,i){t.Ka=(h,p,_)=>async function(T,S,E,g){let y=S.view.ma(E);y.ns&&(y=await uE(T.localStore,S.query,!1).then(({documents:C})=>S.view.ma(C,y)));const P=g&&g.targetChanges.get(S.targetId),D=g&&g.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(y,T.isPrimaryClient,P,D);return vE(T,S.targetId,M.wa),M.snapshot}(t,h,p,_);const s=await uE(t.localStore,e,!0),o=new h$(e,s.Ts),a=o.ma(s.documents),l=Al.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);vE(t,n,c.wa);const d=new f$(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function _$(t,e,n){const r=ee(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Nd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zg(r.remoteStore,i.targetId),Hp(r,i.targetId)}).catch(Tl)):(Hp(r,i.targetId),await zp(r.localStore,i.targetId,!0))}async function w$(t,e){const n=ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zg(n.remoteStore,r.targetId))}async function E$(t,e,n){const r=R$(t);try{const i=await function(o,a){const l=ee(o),c=qe.now(),d=a.reduce((_,A)=>_.add(A.key),ae());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=lr(),T=ae();return l.cs.getEntries(_,d).next(S=>{A=S,A.forEach((E,g)=>{g.isValidDocument()||(T=T.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,A)).next(S=>{h=S;const E=[];for(const g of a){const y=H4(g,h.get(g.key).overlayedDocument);y!=null&&E.push(new ai(g.key,y,nA(y.value.mapValue),kt.exists(!0)))}return l.mutationQueue.addMutationBatch(_,c,E,a)}).next(S=>{p=S;const E=S.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(_,S.batchId,E)})}).then(()=>({batchId:p.batchId,changes:hA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new ke(fe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Rl(r,i.changes),await Vd(r.remoteStore)}catch(i){const s=Kg(i,"Failed to persist write");n.reject(s)}}async function qA(t,e){const n=ee(t);try{const r=await Lj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?de(o.va):i.removedDocuments.size>0&&(de(o.va),o.va=!1))}),await Rl(n,r,e)}catch(r){await Tl(r)}}function gE(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&Xg(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T$(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new ke(K.comparator);o=o.insert(s,Qe.newNoDocument(s,J.min()));const a=ae().add(s),l=new Md(J.min(),new Map,new ke(fe),o,a);await qA(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Zg(r)}else await zp(r.localStore,e,!1).then(()=>Hp(r,e,n)).catch(Tl)}async function I$(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await Mj(n.localStore,e);KA(n,r,null),GA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rl(n,i)}catch(i){await Tl(i)}}async function S$(t,e,n){const r=ee(t);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(de(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);KA(r,e,n),GA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rl(r,i)}catch(i){await Tl(i)}}function GA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function KA(t,e,n){const r=ee(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||QA(t,r)})}function QA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Zg(t))}function vE(t,e,n){for(const r of n)r instanceof zA?(t.La.addReference(r.key,e),C$(t,r)):r instanceof WA?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||QA(t,r.key)):X()}function C$(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),Zg(t))}function Zg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(ve.fromString(e)),r=t.qa.next();t.Na.set(r,new p$(n)),t.Oa=t.Oa.insert(n,r),FA(t.remoteStore,new Nr(bn(kd(n.path)),r,"TargetPurposeLimboResolution",Rg.oe))}}async function Rl(t,e,n){const r=ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Ug.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=ee(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,p=>U.forEach(p.$i,_=>d.persistence.referenceDelegate.addReference(h,p.targetId,_)).next(()=>U.forEach(p.Ui,_=>d.persistence.referenceDelegate.removeReference(h,p.targetId,_)))))}catch(h){if(!Il(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const _=d.os.get(p),A=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(A);d.os=d.os.insert(p,T)}}}(r.localStore,s))}async function A$(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await OA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new W(j.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rl(n,r.hs)}}function x$(t,e){const n=ee(t),r=n.Na.get(e);if(r&&r.va)return ae().add(r.key);{let i=ae();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function YA(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T$.bind(null,e),e.Ca.d_=c$.bind(null,e.eventManager),e.Ca.$a=d$.bind(null,e.eventManager),e}function R$(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S$.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ld(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Oj(this.persistence,new bj,e.initialUser,this.serializer)}Ga(e){return new Pj($g.Zr,this.serializer)}Wa(e){return new Uj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class qp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=A$.bind(null,this.syncEngine),await a$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u$}()}createDatastore(e){const n=Ld(e.databaseInfo.databaseId),r=function(s){return new Hj(s)}(e.databaseInfo);return function(s,o,a,l){return new Kj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Yj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gE(this.syncEngine,n,0),function(){return dE.D()?new dE:new Bj}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new m$(i,s,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ee(i);G("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await xl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qp.provider={build:()=>new qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new W(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=ee(i),a={documents:s.map(h=>Uc(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,ve.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{const p=ij(o.serializer,h);c.set(p.key.toString(),p)});const d=[];return s.forEach(h=>{const p=c.get(h.toString());de(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=K.fromPath(r);this.mutations.push(new EA(i,this.precondition(i)))}),await async function(r,i){const s=ee(r),o={writes:i.map(a=>kA(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,ve.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw X();n=J.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new W(j.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(J.min())?kt.exists(!1):kt.updateTime(n):kt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(J.min()))throw new W(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kt.updateTime(n)}return kt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new Bg(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new P$(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Sl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!TA(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=ZC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mf(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await OA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b$(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hE(e.remoteStore,i)),t._onlineComponents=e}async function b$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await mf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await mf(t,new zc)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await mf(t,new zc);return t._offlineComponents}async function tv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await yE(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await yE(t,new qp))),t._onlineComponents}function D$(t){return tv(t).then(e=>e.syncEngine)}function O$(t){return tv(t).then(e=>e.datastore)}async function Wc(t){const e=await tv(t),n=e.eventManager;return n.onListen=g$.bind(null,e.syncEngine),n.onUnlisten=_$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w$.bind(null,e.syncEngine),n}function M$(t,e,n={}){const r=new Nn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new ev({next:p=>{d.Za(),o.enqueueAndForget(()=>Yg(s,h));const _=p.docs.has(a);!_&&p.fromCache?c.reject(new W(j.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&p.fromCache&&l&&l.source==="server"?c.reject(new W(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new Jg(kd(a.path),d,{includeMetadataChanges:!0,_a:!0});return Qg(s,h)}(await Wc(t),t.asyncQueue,e,n,r)),r.promise}function L$(t,e,n={}){const r=new Nn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new ev({next:p=>{d.Za(),o.enqueueAndForget(()=>Yg(s,h)),p.fromCache&&l.source==="server"?c.reject(new W(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new Jg(a,d,{includeMetadataChanges:!0,_a:!0});return Qg(s,h)}(await Wc(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e,n){if(!n)throw new W(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F$(t,e,n,r){if(e===!0&&r===!0)throw new W(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wE(t){if(!K.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EE(t){if(K.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jd(t);throw new W(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function V$(t,e){if(e<=0)throw new W(j.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZV;switch(r.type){case"firstParty":return new r4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_E.get(n);r&&(G("ComponentProvider","Removing Datastore"),_E.delete(n),r.terminate())}(this),Promise.resolve()}}function j$(t,e,n,r={}){var i;const s=(t=Dn(t,$d))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ft.MOCK_USER;else{a=hL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ft(c)}t._authCredentials=new e4(new JC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Un(this.firestore,e,this._query)}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class Hr extends Un{constructor(e,n,r){super(e,n,kd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new K(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function ZA(t,e,...n){if(t=Fe(t),JA("collection","path",e),t instanceof $d){const r=ve.fromString(e,...n);return EE(r),new Hr(t,null,r)}{if(!(t instanceof St||t instanceof Hr))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return EE(r),new Hr(t.firestore,null,r)}}function rl(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=ZC.newId()),JA("doc","path",e),t instanceof $d){const r=ve.fromString(e,...n);return wE(r),new St(t,null,new K(r))}{if(!(t instanceof St||t instanceof Hr))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return wE(r),new St(t.firestore,t instanceof Hr?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bg(this,"async_queue_retry"),this.Vu=()=>{const r=pf();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=pf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Nn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Il(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Gg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function SE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ji extends $d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new IE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IE(e),this._firestoreClient=void 0,await e}}}function $$(t,e){const n=typeof t=="object"?t:uC(),r=typeof t=="string"?t:"(default)",i=_g(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cL("firestore");s&&j$(i,...s)}return i}function Pl(t){if(t._terminated)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U$(t),t._firestoreClient}function U$(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new g4(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,XA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new N$(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $i(ot.fromBase64String(e))}catch(n){throw new W(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $i(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=/^__.*__$/;class z${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cl(e,this.data,n,this.fieldTransforms)}}class ex{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class iv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new iv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tx(this.Cu)&&B$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class W${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ld(e)}Qu(e,n,r,i=!1){return new iv({Cu:e,methodName:n,qu:r,path:nt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(t){const e=t._freezeSettings(),n=Ld(t._databaseId);return new W$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nx(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);ov("Data must be an object, but it was:",o,r);const a=ix(r,o);let l,c;if(s.merge)l=new Ut(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=Gp(e,h,n);if(!o.contains(p))throw new W(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ox(d,p)||d.push(p)}l=new Ut(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new z$(new Tt(a),l,c)}class Wd extends Bd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wd}}class sv extends Bd{_toFieldTransform(e){return new U4(e.path,new el)}isEqual(e){return e instanceof sv}}function H$(t,e,n,r){const i=t.Qu(1,e,n);ov("Data must be an object, but it was:",i,r);const s=[],o=Tt.empty();Ki(r,(l,c)=>{const d=av(e,l,n);c=Fe(c);const h=i.Nu(d);if(c instanceof Wd)s.push(d);else{const p=kl(c,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new Ut(s);return new ex(o,a,i.fieldTransforms)}function q$(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Gp(e,r,n)],l=[i];if(s.length%2!=0)throw new W(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Gp(e,s[p])),l.push(s[p+1]);const c=[],d=Tt.empty();for(let p=a.length-1;p>=0;--p)if(!ox(c,a[p])){const _=a[p];let A=l[p];A=Fe(A);const T=o.Nu(_);if(A instanceof Wd)c.push(_);else{const S=kl(A,T);S!=null&&(c.push(_),d.set(_,S))}}const h=new Ut(c);return new ex(d,h,o.fieldTransforms)}function rx(t,e,n,r=!1){return kl(n,t.Qu(r?4:3,e))}function kl(t,e){if(sx(t=Fe(t)))return ov("Unsupported field value:",e,t),ix(t,e);if(t instanceof Bd)return function(r,i){if(!tx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=kl(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qe.fromDate(r);return{timestampValue:$c(i.serializer,s)}}if(r instanceof qe){const s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$c(i.serializer,s)}}if(r instanceof nv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $i)return{bytesValue:AA(i.serializer,r._byteString)};if(r instanceof St){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Og(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${jd(r)}`)}(t,e)}function ix(t,e){const n={};return eA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,i)=>{const s=kl(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof nv||t instanceof $i||t instanceof St||t instanceof Bd||t instanceof rv)}function ov(t,e,n){if(!sx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Gp(t,e,n){if((e=Fe(e))instanceof Ud)return e._internalPath;if(typeof e=="string")return av(t,e);throw Hc("Field path arguments must be of type string or ",t,!1,void 0,n)}const G$=new RegExp("[~\\*/\\[\\]]");function av(t,e,n){if(e.search(G$)>=0)throw Hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ud(...e.split("."))._internalPath}catch{throw Hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new W(j.INVALID_ARGUMENT,a+t+l)}function ox(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K$ extends il{data(){return super.data()}}function Hd(t,e){return typeof e=="string"?av(t,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lv{}class qd extends lv{}function Su(t,e,...n){let r=[];e instanceof lv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof uv).length,a=s.filter(l=>l instanceof Gd).length;if(o>1||o>0&&a>0)throw new W(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Gd extends qd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gd(e,n,r)}_apply(e){const n=this._parse(e);return lx(e._query,n),new Un(e.firestore,e.converter,jp(e._query,n))}_parse(e){const n=zd(e.firestore);return function(s,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new W(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){AE(h,d);const _=[];for(const A of h)_.push(CE(l,s,A));p={arrayValue:{values:_}}}else p=CE(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||AE(h,d),p=rx(a,o,h,d==="in"||d==="not-in");return Be.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Q$(t,e,n){const r=e,i=Hd("where",t);return Gd._create(i,r,n)}class uv extends lv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)lx(o,l),o=jp(o,l)}(e._query,n),new Un(e.firestore,e.converter,jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cv extends qd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new W(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new W(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Za(s,o)}(e._query,this._field,this._direction);return new Un(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Qi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Y$(t,e="asc"){const n=e,r=Hd("orderBy",t);return cv._create(r,n)}class dv extends qd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dv(e,n,r)}_apply(e){return new Un(e.firestore,e.converter,Vc(e._query,this._limit,this._limitType))}}function X$(t){return V$("limit",t),dv._create("limit",t,"F")}class hv extends qd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new hv(e,n,r)}_apply(e){const n=Z$(e,this.type,this._docOrFields,this._inclusive);return new Un(e.firestore,e.converter,function(i,s){return new Qi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function J$(...t){return hv._create("startAfter",t,!1)}function Z$(t,e,n,r){if(n[0]=Fe(n[0]),n[0]instanceof il)return function(s,o,a,l,c){if(!l)throw new W(j.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of js(s))if(h.field.isKeyField())d.push(Fc(o,l.key));else{const p=l.data.field(h.field);if(Pd(p))throw new W(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const _=h.field.canonicalString();throw new W(j.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}d.push(p)}return new io(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=zd(t.firestore);return function(o,a,l,c,d,h){const p=o.explicitOrderBy;if(d.length>p.length)throw new W(j.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let A=0;A<d.length;A++){const T=d[A];if(p[A].field.isKeyField()){if(typeof T!="string")throw new W(j.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof T}`);if(!Dg(o)&&T.indexOf("/")!==-1)throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${T}' contains a slash.`);const S=o.path.child(ve.fromString(T));if(!K.isDocumentKey(S))throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const E=new K(S);_.push(Fc(a,E))}else{const S=rx(l,c,T);_.push(S)}}return new io(_,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function CE(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new W(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dg(e)&&n.indexOf("/")!==-1)throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ve.fromString(n));if(!K.isDocumentKey(r))throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fc(t,new K(r))}if(n instanceof St)return Fc(t,n._key);throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(n)}.`)}function AE(t,e){if(!Array.isArray(t)||t.length===0)throw new W(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ux{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Oe(o.doubleValue));return new rv(s)}convertGeoPoint(e){return new nv(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);de(DA(r));const i=new Xa(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||ar(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class e9 extends ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fv extends il{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ku extends fv{data(e={}){return super.data(e)}}class dx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ku(this._firestore,this._userDataWriter,r.key,r,new xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ku(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ku(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:t9(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function t9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){t=Dn(t,St);const e=Dn(t.firestore,ji);return M$(Pl(e),t._key).then(n=>hx(e,t,n))}class Kd extends ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function r9(t){t=Dn(t,Un);const e=Dn(t.firestore,ji),n=Pl(e),r=new Kd(e);return ax(t._query),L$(n,t._query).then(i=>new dx(e,r,t,i))}function i9(t,e){const n=Dn(t.firestore,ji),r=rl(t),i=cx(t.converter,e);return o9(n,[nx(zd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kt.exists(!1))]).then(()=>r)}function s9(t,...e){var n,r,i;t=Fe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||SE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(SE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof St)c=Dn(t.firestore,ji),d=kd(t._key.path),l={next:h=>{e[o]&&e[o](hx(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Dn(t,Un);c=Dn(h.firestore,ji),d=h._query;const p=new Kd(c);l={next:_=>{e[o]&&e[o](new dx(c,p,h,_))},error:e[o+1],complete:e[o+2]},ax(t._query)}return function(p,_,A,T){const S=new ev(T),E=new Jg(_,S,A);return p.asyncQueue.enqueueAndForget(async()=>Qg(await Wc(p),E)),()=>{S.Za(),p.asyncQueue.enqueueAndForget(async()=>Yg(await Wc(p),E))}}(Pl(c),d,a,l)}function o9(t,e){return function(r,i){const s=new Nn;return r.asyncQueue.enqueueAndForget(async()=>E$(await D$(r),i,s)),s.promise}(Pl(t),e)}function hx(t,e,n){const r=n.docs.get(e._key),i=new Kd(t);return new fv(t,i,e._key,r,new xs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={maxAttempts:5};function Qo(t,e){if((t=Fe(t)).firestore!==e)throw new W(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=zd(n)}get(n){const r=Qo(n,this._firestore),i=new e9(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return X();const o=s[0];if(o.isFoundDocument())return new il(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new il(this._firestore,i,r._key,null,r.converter);throw X()})}set(n,r,i){const s=Qo(n,this._firestore),o=cx(s.converter,r,i),a=nx(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Qo(n,this._firestore);let a;return a=typeof(r=Fe(r))=="string"||r instanceof Ud?q$(this._dataReader,"Transaction.update",o._key,r,i,s):H$(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Qo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Qo(e,this._firestore),r=new Kd(this._firestore);return super.get(e).then(i=>new fv(this._firestore,r,n._key,i._document,new xs(!1,!1),n.converter))}}function u9(t,e,n){t=Dn(t,ji);const r=Object.assign(Object.assign({},a9),n);return function(s){if(s.maxAttempts<1)throw new W(j.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Nn;return s.asyncQueue.enqueueAndForget(async()=>{const c=await O$(s);new k$(s.asyncQueue,c,a,o,l).au()}),l.promise}(Pl(t),i=>e(new l9(t,i)),r)}function wa(){return new sv("serverTimestamp")}(function(e,n=!0){(function(i){Eo=i})(yo),Js(new Oi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ji(new t4(r.getProvider("auth-internal")),new s4(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),zr(Bw,"4.7.3",e),zr(Bw,"4.7.3","esm2017")})();const fx={apiKey:"demo-key",authDomain:"demo-project.firebaseapp.com",projectId:"demo-project",storageBucket:"demo-project.firebasestorage.app",messagingSenderId:"123456789",appId:"1:123456789:web:demo",measurementId:"G-DEMO"},c9=["apiKey","authDomain","projectId"],xE=c9.filter(t=>!fx[t]);if(xE.length>0)throw new Error(`Missing required Firebase configuration: ${xE.join(", ")}`);const px=lC(fx),ao=QV(px),xi=$$(px),xe={NETWORK:"network",AUTHENTICATION:"authentication",PERMISSION:"permission",VALIDATION:"validation",NOT_FOUND:"not_found",RATE_LIMIT:"rate_limit",UNKNOWN:"unknown"},d9=t=>{const e=typeof t=="string"?t:(t==null?void 0:t.message)||"",n=(t==null?void 0:t.code)||"";return e.includes("network")||e.includes("fetch")||e.includes("connection")||n==="network-request-failed"?xe.NETWORK:e.includes("auth")||e.includes("authentication")||e.includes("unauthorized")||n.startsWith("auth/")?xe.AUTHENTICATION:e.includes("permission")||e.includes("forbidden")||e.includes("access denied")||n==="permission-denied"?xe.PERMISSION:e.includes("validation")||e.includes("invalid")||e.includes("required")||n==="invalid-argument"?xe.VALIDATION:e.includes("not found")||e.includes("not-found")||n==="not-found"?xe.NOT_FOUND:e.includes("rate limit")||e.includes("too many requests")||n==="too-many-requests"?xe.RATE_LIMIT:xe.UNKNOWN},Qd=(t,e="",n={})=>{d9(t),new Date().toISOString(),{error:typeof t=="string"||(t.message,t.code,t.stack),...n}},On=(t,e="",n=xe.UNKNOWN,r={})=>{const i=new Error(t);return i.code=e,i.type=n,i.metadata=r,i},Yd=(t,e="")=>async(...n)=>{try{return await t(...n)}catch(r){throw Qd(r,e,{args:n}),r}},h9={url:window.location.origin,handleCodeInApp:!0},f9=async t=>{try{return await DF(ao,t,h9),localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){throw Qd(e,"sendMagicLink",{email:t}),On(mx(e.code),e.code,xe.AUTHENTICATION,{originalError:e,email:t})}},p9=async(t,e)=>{try{if(!MC(ao,e))throw On("Invalid sign-in link","invalid-sign-in-link",xe.AUTHENTICATION,{email:t,emailLink:e});const n=await OF(ao,t,e);return localStorage.removeItem("emailForSignIn"),n.user}catch(n){throw Qd(n,"signInWithMagicLink",{email:t}),n.type===xe.AUTHENTICATION?n:On(mx(n.code),n.code,xe.AUTHENTICATION,{originalError:n,email:t})}},m9=()=>MC(ao,window.location.href),g9=()=>localStorage.getItem("emailForSignIn"),v9=async()=>{try{await VF(ao),localStorage.removeItem("emailForSignIn")}catch(t){throw Qd(t,"signOut"),On("Failed to sign out. Please try again.",t.code||"sign-out-failed",xe.AUTHENTICATION,{originalError:t})}},y9=t=>FF(ao,t),mx=t=>{switch(t){case"auth/invalid-email":return"Please enter a valid email address";case"auth/user-disabled":return"This account has been disabled";case"auth/too-many-requests":return"Too many requests. Please try again later";case"auth/network-request-failed":return"Network error. Please check your connection";case"auth/invalid-action-code":return"Invalid or expired sign-in link";case"auth/expired-action-code":return"Sign-in link has expired. Please request a new one";default:return"An error occurred during authentication"}},gx=m.createContext(),li=()=>{const t=m.useContext(gx);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},_9=({children:t})=>{const[e,n]=m.useState(null),[r,i]=m.useState(!0),[s,o]=m.useState(null);m.useEffect(()=>{const h=y9(_=>{n(_),i(!1),o(null)});return(async()=>{if(m9())try{let _=g9();_||(_=window.prompt("Please provide your email for confirmation")),_&&(await p9(_,window.location.href),window.history.replaceState({},document.title,window.location.pathname))}catch(_){console.error("Error completing sign-in:",_),o(_.message),i(!1)}})(),()=>h()},[]);const d={user:e,loading:r,error:s,login:async h=>{try{o(null),i(!0);const p=await f9(h);return i(!1),p}catch(p){throw o(p.message),i(!1),p}},logout:async()=>{try{o(null),await v9()}catch(h){throw o(h.message),h}},clearError:()=>{o(null)},isAuthenticated:!!e};return w.jsx(gx.Provider,{value:d,children:t})};function ze(){return ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ze.apply(null,arguments)}function Ea(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function w9(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function vx(...t){return e=>t.forEach(n=>w9(n,e))}function pv(...t){return m.useCallback(vx(...t),t)}function E9(t,e=[]){let n=[];function r(s,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:_,...A}=h,T=(p==null?void 0:p[t][l])||a,S=m.useMemo(()=>A,Object.values(A));return m.createElement(T.Provider,{value:S},_)}function d(h,p){const _=(p==null?void 0:p[t][l])||a,A=m.useContext(_);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,T9(i,...e)]}function T9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const I9=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},S9=Kc.useId||(()=>{});let C9=0;function mv(t){const[e,n]=m.useState(S9());return I9(()=>{n(r=>r??String(C9++))},[t]),e?`radix-${e}`:""}function A9(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function x9(...t){return e=>t.forEach(n=>A9(n,e))}const yx=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),s=i.find(P9);if(s){const o=s.props.children,a=i.map(l=>l===s?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return m.createElement(Kp,ze({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(Kp,ze({},r,{ref:e}),n)});yx.displayName="Slot";const Kp=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...k9(r,n.props),ref:e?x9(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});Kp.displayName="SlotClone";const R9=({children:t})=>m.createElement(m.Fragment,null,t);function P9(t){return m.isValidElement(t)&&t.type===R9}function k9(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const N9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],b9=N9.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?yx:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,ze({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),D9=m.forwardRef((t,e)=>m.createElement(b9.label,ze({},t,{ref:e,onMouseDown:n=>{var r;(r=t.onMouseDown)===null||r===void 0||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),_x=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),s=i.find(M9);if(s){const o=s.props.children,a=i.map(l=>l===s?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return m.createElement(Qp,ze({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(Qp,ze({},r,{ref:e}),n)});_x.displayName="Slot";const Qp=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...L9(r,n.props),ref:e?vx(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});Qp.displayName="SlotClone";const O9=({children:t})=>m.createElement(m.Fragment,null,t);function M9(t){return m.isValidElement(t)&&t.type===O9}function L9(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const F9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Nl=F9.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?_x:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,ze({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),[gv,ZU]=E9("Form"),wx="Form",[V9,bl]=gv(wx),[j9,Ex]=gv(wx),$9=m.forwardRef((t,e)=>{const{__scopeForm:n,onClearServerErrors:r=()=>{},...i}=t,s=m.useRef(null),o=pv(e,s),[a,l]=m.useState({}),c=m.useCallback(R=>a[R],[a]),d=m.useCallback((R,b)=>l(O=>{var N;return{...O,[R]:{...(N=O[R])!==null&&N!==void 0?N:{},...b}}}),[]),h=m.useCallback(R=>{l(b=>({...b,[R]:void 0})),g(b=>({...b,[R]:{}}))},[]),[p,_]=m.useState({}),A=m.useCallback(R=>{var b;return(b=p[R])!==null&&b!==void 0?b:[]},[p]),T=m.useCallback((R,b)=>{_(O=>{var N;return{...O,[R]:[...(N=O[R])!==null&&N!==void 0?N:[],b]}})},[]),S=m.useCallback((R,b)=>{_(O=>{var N;return{...O,[R]:((N=O[R])!==null&&N!==void 0?N:[]).filter(Z=>Z.id!==b)}})},[]),[E,g]=m.useState({}),y=m.useCallback(R=>{var b;return(b=E[R])!==null&&b!==void 0?b:{}},[E]),P=m.useCallback((R,b)=>{g(O=>{var N;return{...O,[R]:{...(N=O[R])!==null&&N!==void 0?N:{},...b}}})},[]),[D,M]=m.useState({}),C=m.useCallback((R,b)=>{M(O=>{const N=new Set(O[R]).add(b);return{...O,[R]:N}})},[]),I=m.useCallback((R,b)=>{M(O=>{const N=new Set(O[R]);return N.delete(b),{...O,[R]:N}})},[]),x=m.useCallback(R=>{var b;return Array.from((b=D[R])!==null&&b!==void 0?b:[]).join(" ")||void 0},[D]);return m.createElement(V9,{scope:n,getFieldValidity:c,onFieldValidityChange:d,getFieldCustomMatcherEntries:A,onFieldCustomMatcherEntryAdd:T,onFieldCustomMatcherEntryRemove:S,getFieldCustomErrors:y,onFieldCustomErrorsChange:P,onFieldValiditionClear:h},m.createElement(j9,{scope:n,onFieldMessageIdAdd:C,onFieldMessageIdRemove:I,getFieldDescription:x},m.createElement(Nl.form,ze({},i,{ref:o,onInvalid:Ea(t.onInvalid,R=>{const b=Ix(R.currentTarget);b===R.target&&b.focus(),R.preventDefault()}),onSubmit:Ea(t.onSubmit,r,{checkForDefaultPrevented:!1}),onReset:Ea(t.onReset,r)}))))}),Tx="FormField",[U9,vv]=gv(Tx),B9=m.forwardRef((t,e)=>{const{__scopeForm:n,name:r,serverInvalid:i=!1,...s}=t,a=bl(Tx,n).getFieldValidity(r),l=mv();return m.createElement(U9,{scope:n,id:l,name:r,serverInvalid:i},m.createElement(Nl.div,ze({"data-valid":_v(a,i),"data-invalid":wv(a,i)},s,{ref:e})))}),RE="FormLabel",z9=m.forwardRef((t,e)=>{const{__scopeForm:n,...r}=t,i=bl(RE,n),s=vv(RE,n),o=r.htmlFor||s.id,a=i.getFieldValidity(s.name);return m.createElement(D9,ze({"data-valid":_v(a,s.serverInvalid),"data-invalid":wv(a,s.serverInvalid)},r,{ref:e,htmlFor:o}))}),gf="FormControl",W9=m.forwardRef((t,e)=>{const{__scopeForm:n,...r}=t,i=bl(gf,n),s=vv(gf,n),o=Ex(gf,n),a=m.useRef(null),l=pv(e,a),c=r.name||s.name,d=r.id||s.id,h=i.getFieldCustomMatcherEntries(c),{onFieldValidityChange:p,onFieldCustomErrorsChange:_,onFieldValiditionClear:A}=i,T=m.useCallback(async g=>{if(Sx(g.validity)){const O=vf(g.validity);p(c,O);return}const y=g.form?new FormData(g.form):new FormData,P=[g.value,y],D=[],M=[];h.forEach(O=>{Z9(O,P)?M.push(O):eU(O)&&D.push(O)});const C=D.map(({id:O,match:N})=>[O,N(...P)]),I=Object.fromEntries(C),x=Object.values(I).some(Boolean),R=x;g.setCustomValidity(R?sl:"");const b=vf(g.validity);if(p(c,b),_(c,I),!x&&M.length>0){const O=M.map(({id:V,match:$})=>$(...P).then(H=>[V,H])),N=await Promise.all(O),Z=Object.fromEntries(N),ie=Object.values(Z).some(Boolean);g.setCustomValidity(ie?sl:"");const oe=vf(g.validity);p(c,oe),_(c,Z)}},[h,c,_,p]);m.useEffect(()=>{const g=a.current;if(g){const y=()=>T(g);return g.addEventListener("change",y),()=>g.removeEventListener("change",y)}},[T]);const S=m.useCallback(()=>{const g=a.current;g&&(g.setCustomValidity(""),A(c))},[c,A]);m.useEffect(()=>{var g;const y=(g=a.current)===null||g===void 0?void 0:g.form;if(y)return y.addEventListener("reset",S),()=>y.removeEventListener("reset",S)},[S]),m.useEffect(()=>{const g=a.current,y=g==null?void 0:g.closest("form");if(y&&s.serverInvalid){const P=Ix(y);P===g&&P.focus()}},[s.serverInvalid]);const E=i.getFieldValidity(c);return m.createElement(Nl.input,ze({"data-valid":_v(E,s.serverInvalid),"data-invalid":wv(E,s.serverInvalid),"aria-invalid":s.serverInvalid?!0:void 0,"aria-describedby":o.getFieldDescription(c),title:""},r,{ref:l,id:d,name:c,onInvalid:Ea(t.onInvalid,g=>{const y=g.currentTarget;T(y)}),onChange:Ea(t.onChange,g=>{S()})}))}),sl="This value is not valid",H9={badInput:sl,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},Xd="FormMessage",q9=m.forwardRef((t,e)=>{const{match:n,name:r,...i}=t,s=vv(Xd,t.__scopeForm),o=r??s.name;return n===void 0?m.createElement(yv,ze({},i,{ref:e,name:o}),t.children||sl):typeof n=="function"?m.createElement(K9,ze({match:n},i,{ref:e,name:o})):m.createElement(G9,ze({match:n},i,{ref:e,name:o}))}),G9=m.forwardRef((t,e)=>{const{match:n,forceMatch:r=!1,name:i,children:s,...o}=t,l=bl(Xd,o.__scopeForm).getFieldValidity(i);return r||(l==null?void 0:l[n])?m.createElement(yv,ze({ref:e},o,{name:i}),s??H9[n]):null}),K9=m.forwardRef((t,e)=>{const{match:n,forceMatch:r=!1,name:i,id:s,children:o,...a}=t,l=bl(Xd,a.__scopeForm),c=m.useRef(null),d=pv(e,c),h=mv(),p=s??h,_=m.useMemo(()=>({id:p,match:n}),[p,n]),{onFieldCustomMatcherEntryAdd:A,onFieldCustomMatcherEntryRemove:T}=l;m.useEffect(()=>(A(i,_),()=>T(i,_.id)),[_,i,A,T]);const S=l.getFieldValidity(i),g=l.getFieldCustomErrors(i)[p];return r||S&&!Sx(S)&&g?m.createElement(yv,ze({id:p,ref:d},a,{name:i}),o??sl):null}),yv=m.forwardRef((t,e)=>{const{__scopeForm:n,id:r,name:i,...s}=t,o=Ex(Xd,n),a=mv(),l=r??a,{onFieldMessageIdAdd:c,onFieldMessageIdRemove:d}=o;return m.useEffect(()=>(c(i,l),()=>d(i,l)),[i,l,c,d]),m.createElement(Nl.span,ze({id:l},s,{ref:e}))}),Q9=m.forwardRef((t,e)=>{const{__scopeForm:n,...r}=t;return m.createElement(Nl.button,ze({type:"submit"},r,{ref:e}))});function vf(t){const e={};for(const n in t)e[n]=t[n];return e}function Y9(t){return t instanceof HTMLElement}function X9(t){return"validity"in t}function J9(t){return X9(t)&&(t.validity.valid===!1||t.getAttribute("aria-invalid")==="true")}function Ix(t){const e=t.elements,[n]=Array.from(e).filter(Y9).filter(J9);return n}function Z9(t,e){return t.match.constructor.name==="AsyncFunction"||tU(t.match,e)}function eU(t){return t.match.constructor.name==="Function"}function tU(t,e){return t(...e)instanceof Promise}function Sx(t){let e=!1;for(const n in t){const r=n;if(r!=="valid"&&r!=="customError"&&t[r]){e=!0;break}}return e}function _v(t,e){if((t==null?void 0:t.valid)===!0&&!e)return!0}function wv(t,e){if((t==null?void 0:t.valid)===!1||e)return!0}const nU=$9,rU=B9,iU=z9,sU=W9,PE=q9,oU=Q9,aU=({onSuccess:t})=>{const[e,n]=m.useState(""),[r,i]=m.useState(!1),[s,o]=m.useState(!1),{login:a,error:l,clearError:c}=li(),d=async p=>{if(p.preventDefault(),!!e.trim()){i(!0),c();try{await a(e.trim()),o(!0),t&&t()}catch(_){console.error("Login error:",_)}finally{i(!1)}}},h=p=>{n(p.target.value),l&&c()};return s?w.jsx(Ac,{style:{maxWidth:"400px",margin:"0 auto",padding:"24px"},children:w.jsxs(Rn,{direction:"column",gap:"4",align:"center",children:[w.jsx(Et,{size:"5",weight:"bold",align:"center",children:"Check Your Email"}),w.jsxs(Et,{size:"3",align:"center",color:"gray",children:["We've sent a magic link to ",w.jsx("strong",{children:e}),". Click the link in your email to sign in."]}),w.jsx(Xs,{variant:"soft",onClick:()=>{o(!1),n("")},children:"Send Another Link"})]})}):w.jsx(Ac,{style:{maxWidth:"400px",margin:"0 auto",padding:"24px"},children:w.jsx(nU,{onSubmit:d,children:w.jsxs(Rn,{direction:"column",gap:"4",children:[w.jsx(Et,{size:"5",weight:"bold",align:"center",children:"Sign In"}),w.jsx(Et,{size:"3",align:"center",color:"gray",children:"Enter your email to receive a magic link"}),w.jsx(rU,{name:"email",children:w.jsxs(Rn,{direction:"column",gap:"2",children:[w.jsx(iU,{children:w.jsx(Et,{size:"2",weight:"medium",children:"Email"})}),w.jsx(sU,{asChild:!0,children:w.jsx(gO.Input,{type:"email",placeholder:"Enter your email",value:e,onChange:h,required:!0,disabled:r})}),w.jsx(PE,{match:"valueMissing",children:w.jsx(Et,{size:"2",color:"red",children:"Please enter your email"})}),w.jsx(PE,{match:"typeMismatch",children:w.jsx(Et,{size:"2",color:"red",children:"Please enter a valid email"})})]})}),l&&w.jsx(Et,{size:"2",color:"red",align:"center",children:l}),w.jsx(oU,{asChild:!0,children:w.jsx(un,{size:"large",loading:r,loadingText:"Sending...",disabled:!e.trim(),variant:"primary",children:"Send Magic Link"})})]})})})},lU=({children:t,fallback:e="/login"})=>{const{user:n,loading:r}=li(),i=ri();return r?w.jsx(Rn,{direction:"column",align:"center",justify:"center",gap:"3",style:{minHeight:"200px"},children:w.jsx(Et,{size:"3",color:"gray",children:"Loading..."})}):n?t:w.jsx(Nk,{to:e,state:{from:i},replace:!0})},uU=()=>{const{user:t,logout:e}=li(),[n,r]=m.useState(!1),i=ii(),s=async()=>{r(!0);try{await e(),i("/")}catch(a){console.error("Logout error:",a)}finally{r(!1)}};if(!t)return null;const o=a=>a.split("@")[0].split(".").map(l=>l.charAt(0).toUpperCase()).join("").slice(0,2);return w.jsxs(kM,{children:[w.jsx(NM,{asChild:!0,children:w.jsx(Xs,{variant:"ghost",style:{padding:"8px",borderRadius:"50%"},children:w.jsx(XM,{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--accent-9)",color:"white"},children:w.jsx(JM,{style:{fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center"},children:o(t.email)})})})}),w.jsx(bM,{children:w.jsxs(DM,{align:"end",sideOffset:8,style:{backgroundColor:"white",border:"1px solid var(--gray-6)",borderRadius:"8px",padding:"8px",minWidth:"200px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[w.jsxs(Rn,{direction:"column",gap:"2",style:{padding:"8px"},children:[w.jsx(Et,{size:"2",weight:"medium",children:"Signed in as"}),w.jsx(Et,{size:"2",color:"gray",style:{wordBreak:"break-word"},children:t.email})]}),w.jsx(ZS,{style:{margin:"8px 0"}}),w.jsx(OM,{asChild:!0,children:w.jsx(Xs,{variant:"ghost",color:"red",onClick:s,disabled:n,style:{width:"100%",justifyContent:"flex-start",cursor:"pointer"},children:n?"Signing out...":"Sign out"})})]})})]})},Cx=t=>t?t instanceof Date?t:t&&typeof t.toDate=="function"?t.toDate():null:null,Ax=(t,e={})=>{const n=Cx(t);if(!n)return"Unknown date";const i={...{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},...e};try{return n.toLocaleDateString("en-US",i)}catch{return n.toISOString().split("T")[0]}},cU=t=>{const e=Cx(t);if(!e)return"Unknown time";const r=new Date().getTime()-e.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24);return i<60?"Just now":s<60?`${s} minute${s!==1?"s":""} ago`:o<24?`${o} hour${o!==1?"s":""} ago`:a<7?`${a} day${a!==1?"s":""} ago`:Ax(e,{year:"numeric",month:"short",day:"numeric"})},xx=t=>{if(!t||typeof t!="string")return"Anonymous";const e=t.split("@")[0];return e.charAt(0).toUpperCase()+e.slice(1)},kE=(t,e=100,n="...")=>{if(!t||typeof t!="string")return"";if(t.length<=e)return t;const r=e-n.length;return t.substring(0,r)+n},Rx=({text:t,className:e="",disabled:n=!1,size:r="medium",onCopySuccess:i,onCopyError:s})=>{const[o,a]=m.useState("idle"),l=async()=>{if(!(o==="copying"||n||!t)){a("copying");try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(t):await c(t),a("success"),i&&i(t),setTimeout(()=>a("idle"),2e3)}catch(_){console.error("Failed to copy text:",_),a("error"),s&&s(_),setTimeout(()=>a("idle"),3e3)}}},c=_=>new Promise((A,T)=>{const S=document.createElement("textarea");S.value=_,S.style.top="0",S.style.left="0",S.style.position="fixed",S.style.opacity="0",document.body.appendChild(S),S.focus(),S.select();try{const E=document.execCommand("copy");document.body.removeChild(S),E?A():T(new Error("Copy command failed"))}catch(E){document.body.removeChild(S),T(E)}}),d=()=>{switch(o){case"copying":return"Copying...";case"success":return"Copied!";case"error":return"Failed";default:return"Copy"}},h=()=>{const _=`copy-button copy-button--${r}`,A=o!=="idle"?`copy-button--${o}`:"";return`${_} ${A} ${n?"copy-button--disabled":""} ${e}`.trim()},p=()=>{switch(o){case"copying":return"⏳";case"success":return"✓";case"error":return"✗";default:return"📋"}};return w.jsxs("button",{className:h(),onClick:l,disabled:n||o==="copying"||!t,title:`Copy ${t?"to clipboard":"(no content)"}`,"aria-label":`Copy text to clipboard. Status: ${o}`,children:[w.jsx("span",{className:"copy-button__icon","aria-hidden":"true",children:p()}),w.jsx("span",{className:"copy-button__text",children:d()})]})};class So{constructor({id:e,title:n,htmlContent:r,authorId:i,authorEmail:s,createdAt:o=null,updatedAt:a=null,voteCount:l=0,tags:c=[]}){this.id=e,this.title=n,this.htmlContent=r,this.authorId=i,this.authorEmail=s,this.createdAt=o,this.updatedAt=a,this.voteCount=l,this.tags=c}static fromFirestore(e,n){return new So({id:e,title:n.title,htmlContent:n.htmlContent,authorId:n.authorId,authorEmail:n.authorEmail,createdAt:n.createdAt,updatedAt:n.updatedAt,voteCount:n.voteCount||0,tags:n.tags||[]})}toFirestore(){return{title:this.title,htmlContent:this.htmlContent,authorId:this.authorId,authorEmail:this.authorEmail,createdAt:this.createdAt,updatedAt:this.updatedAt,voteCount:this.voteCount,tags:this.tags}}validate(){const e=[];return!this.title||typeof this.title!="string"?e.push("Title is required and must be a string"):this.title.trim().length===0?e.push("Title cannot be empty"):this.title.length>200&&e.push("Title must be 200 characters or less"),!this.htmlContent||typeof this.htmlContent!="string"?e.push("HTML content is required and must be a string"):this.htmlContent.trim().length===0&&e.push("HTML content cannot be empty"),(!this.authorId||typeof this.authorId!="string")&&e.push("Author ID is required and must be a string"),!this.authorEmail||typeof this.authorEmail!="string"?e.push("Author email is required and must be a string"):this.isValidEmail(this.authorEmail)||e.push("Author email must be a valid email address"),typeof this.voteCount!="number"&&e.push("Vote count must be a number"),Array.isArray(this.tags)?this.tags.some(n=>typeof n!="string")&&e.push("All tags must be strings"):e.push("Tags must be an array"),{isValid:e.length===0,errors:e}}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}getSanitizedHtml(){return this.htmlContent.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/\s*on\w+\s*=\s*"[^"]*"/gi,"").replace(/\s*on\w+\s*=\s*'[^']*'/gi,"").replace(/javascript:/gi,"").replace(/\s+/g," ").replace(/\s+>/g,">")}}class Jd{constructor({id:e,snippetId:n,userId:r,createdAt:i=null}){this.id=e,this.snippetId=n,this.userId=r,this.createdAt=i}static fromFirestore(e,n){return new Jd({id:e,snippetId:n.snippetId,userId:n.userId,createdAt:n.createdAt})}toFirestore(){return{snippetId:this.snippetId,userId:this.userId,createdAt:this.createdAt}}validate(){const e=[];return(!this.snippetId||typeof this.snippetId!="string")&&e.push("Snippet ID is required and must be a string"),(!this.userId||typeof this.userId!="string")&&e.push("User ID is required and must be a string"),{isValid:e.length===0,errors:e}}getCompositeId(){return`${this.userId}_${this.snippetId}`}}const Ui={USERS:"users",SNIPPETS:"snippets",VOTES:"votes"},dU=Yd(async(t,e)=>{try{return(await i9(ZA(xi,t),{...e,createdAt:wa(),updatedAt:wa()})).id}catch(n){throw On(`Failed to create document in ${t}`,n.code||"create-document-failed",n.code==="permission-denied"?xe.PERMISSION:xe.UNKNOWN,{collectionName:t,originalError:n})}},"createDocument"),Px=Yd(async(t,e)=>{try{const n=rl(xi,t,e),r=await n9(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){throw On(`Failed to get document from ${t}`,n.code||"get-document-failed",n.code==="permission-denied"?xe.PERMISSION:xe.UNKNOWN,{collectionName:t,id:e,originalError:n})}},"getDocument"),hU=Yd(async(t,e={})=>{try{const{whereConditions:n=[],orderByField:r=null,orderDirection:i="asc",limitCount:s=null,startAfterDoc:o=null}=e;let a=ZA(xi,t);return n.forEach(c=>{a=Su(a,Q$(c.field,c.operator,c.value))}),r&&(a=Su(a,Y$(r,i))),o&&(a=Su(a,J$(o))),s&&(a=Su(a,X$(s))),(await r9(a)).docs.map(c=>({id:c.id,...c.data()}))}catch(n){throw On(`Failed to get collection ${t}`,n.code||"get-collection-failed",n.code==="permission-denied"?xe.PERMISSION:xe.UNKNOWN,{collectionName:t,options:e,originalError:n})}},"getCollection"),fU=async t=>{const e=t.validate();if(!e.isValid)throw new Error(`Invalid snippet data: ${e.errors.join(", ")}`);const n=t.toFirestore();return await dU(Ui.SNIPPETS,n)},pU=async t=>{const e=await Px(Ui.SNIPPETS,t);return e?So.fromFirestore(e.id,e):null},kx=async(t={})=>(await hU(Ui.SNIPPETS,t)).map(n=>So.fromFirestore(n.id,n)),mU=async(t=10)=>await kx({orderByField:"voteCount",orderDirection:"desc",limitCount:t}),gU=Yd(async t=>{const e=t.validate();if(!e.isValid)throw On(`Invalid vote data: ${e.errors.join(", ")}`,"invalid-vote-data",xe.VALIDATION,{vote:t,validationErrors:e.errors});try{return await u9(xi,async n=>{const r=t.getCompositeId(),i=rl(xi,Ui.VOTES,r),s=rl(xi,Ui.SNIPPETS,t.snippetId),o=await n.get(i),a=await n.get(s);if(!a.exists())throw On("Snippet not found","snippet-not-found",xe.NOT_FOUND,{snippetId:t.snippetId});const l=a.data().voteCount||0;return o.exists()?(n.delete(i),n.update(s,{voteCount:l-1,updatedAt:wa()}),{action:"removed",voteId:r}):(n.set(i,{...t.toFirestore(),createdAt:wa()}),n.update(s,{voteCount:l+1,updatedAt:wa()}),{action:"added",voteId:r})})}catch(n){throw n.type?n:On("Failed to toggle vote",n.code||"toggle-vote-failed",n.code==="permission-denied"?xe.PERMISSION:xe.UNKNOWN,{vote:t,originalError:n})}},"toggleVote"),vU=async(t,e)=>{const n=`${t}_${e}`,r=await Px(Ui.VOTES,n);return r?Jd.fromFirestore(r.id,r):null},yU=(t,e)=>{const n=rl(xi,Ui.SNIPPETS,t);return s9(n,r=>{if(r.exists()){const i=So.fromFirestore(r.id,r.data());e(i)}else e(null)})},Nx=({snippetId:t,initialVoteCount:e=0,onVoteChange:n,className:r=""})=>{const{user:i,isAuthenticated:s}=li(),[o,a]=m.useState(e),[l,c]=m.useState(!1),[d,h]=m.useState(!1),[p,_]=m.useState(null);m.useEffect(()=>{(async()=>{if(!s||!(i!=null&&i.id)){c(!1);return}try{const E=await vU(i.id,t);c(!!E)}catch(E){console.error("Error checking user vote:",E)}})()},[s,i==null?void 0:i.id,t]),m.useEffect(()=>{const S=yU(t,E=>{if(E){const g=E.voteCount||0;a(g),n&&n(g)}});return()=>S()},[t,n]);const A=async()=>{if(!s){_("Please log in to vote");return}if(!(i!=null&&i.id)){_("User information not available");return}h(!0),_(null);try{const S=new Jd({id:`${i.id}_${t}`,snippetId:t,userId:i.id}),E=await gU(S);E.action==="added"?c(!0):E.action==="removed"&&c(!1),_(null)}catch(S){console.error("Error toggling vote:",S),_("Failed to update vote. Please try again.")}finally{h(!1)}},T=()=>{_(null)};return w.jsxs("div",{className:`vote-button ${r}`,children:[w.jsxs("button",{onClick:A,disabled:d||!s,className:`vote-btn ${l?"voted":""} ${d?"loading":""}`,title:s?l?"Remove vote":"Upvote this snippet":"Please log in to vote","aria-label":l?`Remove vote (current count: ${o})`:`Upvote snippet (current count: ${o})`,children:[w.jsxs("svg",{className:"vote-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{d:"M7 10l5-5 5 5"}),w.jsx("path",{d:"M7 14l5-5 5 5"})]}),w.jsx("span",{className:"vote-count",children:o})]}),p&&w.jsxs("div",{className:"vote-error",role:"alert",children:[w.jsx("span",{className:"error-message",children:p}),w.jsx("button",{onClick:T,className:"error-dismiss","aria-label":"Dismiss error",children:"×"})]})]})},bx=({snippet:t,onClick:e,onCopy:n,className:r=""})=>{if(!t)return null;const i=p=>{p.target.closest(".copy-button")||p.target.closest(".vote-button")||e&&e(t)},s=p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),i(p))},o=p=>{n&&n(p)},a=p=>{console.error("Copy failed in SnippetCard:",p)},l=xx(t.authorEmail),c=cU(t.createdAt),d=kE(t.title,60),h=kE(t.htmlContent.replace(/<[^>]*>/g,""),120);return w.jsxs("div",{className:`snippet-card ${r}`,onClick:i,onKeyDown:s,tabIndex:0,role:"button","aria-label":`View snippet: ${t.title}`,children:[w.jsxs("div",{className:"snippet-card-header",children:[w.jsx("h3",{className:"snippet-card-title",title:t.title,children:d}),w.jsxs("div",{className:"snippet-card-actions",children:[w.jsx(Nx,{snippetId:t.id,initialVoteCount:t.voteCount||0,className:"snippet-card-vote-button"}),w.jsx(Rx,{text:t.htmlContent,size:"small",onCopySuccess:o,onCopyError:a,className:"snippet-card-copy-button"})]})]}),w.jsx("div",{className:"snippet-card-content",children:w.jsx("p",{className:"snippet-card-preview",title:t.htmlContent,children:h})}),w.jsxs("div",{className:"snippet-card-footer",children:[w.jsxs("div",{className:"snippet-card-author",children:[w.jsx("span",{className:"author-label",children:"by"}),w.jsx("span",{className:"author-name",children:l})]}),w.jsx("div",{className:"snippet-card-date",children:c})]})]})};var Dx={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,o={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function g(y){return y instanceof l?new l(y.type,g(y.content),y.alias):Array.isArray(y)?y.map(g):y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(g){return Object.prototype.toString.call(g).slice(8,-1)},objId:function(g){return g.__id||Object.defineProperty(g,"__id",{value:++s}),g.__id},clone:function g(y,P){P=P||{};var D,M;switch(a.util.type(y)){case"Object":if(M=a.util.objId(y),P[M])return P[M];D={},P[M]=D;for(var C in y)y.hasOwnProperty(C)&&(D[C]=g(y[C],P));return D;case"Array":return M=a.util.objId(y),P[M]?P[M]:(D=[],P[M]=D,y.forEach(function(I,x){D[x]=g(I,P)}),D);default:return y}},getLanguage:function(g){for(;g;){var y=i.exec(g.className);if(y)return y[1].toLowerCase();g=g.parentElement}return"none"},setLanguage:function(g,y){g.className=g.className.replace(RegExp(i,"gi"),""),g.classList.add("language-"+y)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(D){var g=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(D.stack)||[])[1];if(g){var y=document.getElementsByTagName("script");for(var P in y)if(y[P].src==g)return y[P]}return null}},isActive:function(g,y,P){for(var D="no-"+y;g;){var M=g.classList;if(M.contains(y))return!0;if(M.contains(D))return!1;g=g.parentElement}return!!P}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(g,y){var P=a.util.clone(a.languages[g]);for(var D in y)P[D]=y[D];return P},insertBefore:function(g,y,P,D){D=D||a.languages;var M=D[g],C={};for(var I in M)if(M.hasOwnProperty(I)){if(I==y)for(var x in P)P.hasOwnProperty(x)&&(C[x]=P[x]);P.hasOwnProperty(I)||(C[I]=M[I])}var R=D[g];return D[g]=C,a.languages.DFS(a.languages,function(b,O){O===R&&b!=g&&(this[b]=C)}),C},DFS:function g(y,P,D,M){M=M||{};var C=a.util.objId;for(var I in y)if(y.hasOwnProperty(I)){P.call(y,I,y[I],D||I);var x=y[I],R=a.util.type(x);R==="Object"&&!M[C(x)]?(M[C(x)]=!0,g(x,P,null,M)):R==="Array"&&!M[C(x)]&&(M[C(x)]=!0,g(x,P,I,M))}}},plugins:{},highlightAll:function(g,y){a.highlightAllUnder(document,g,y)},highlightAllUnder:function(g,y,P){var D={callback:P,container:g,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",D),D.elements=Array.prototype.slice.apply(D.container.querySelectorAll(D.selector)),a.hooks.run("before-all-elements-highlight",D);for(var M=0,C;C=D.elements[M++];)a.highlightElement(C,y===!0,D.callback)},highlightElement:function(g,y,P){var D=a.util.getLanguage(g),M=a.languages[D];a.util.setLanguage(g,D);var C=g.parentElement;C&&C.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(C,D);var I=g.textContent,x={element:g,language:D,grammar:M,code:I};function R(O){x.highlightedCode=O,a.hooks.run("before-insert",x),x.element.innerHTML=x.highlightedCode,a.hooks.run("after-highlight",x),a.hooks.run("complete",x),P&&P.call(x.element)}if(a.hooks.run("before-sanity-check",x),C=x.element.parentElement,C&&C.nodeName.toLowerCase()==="pre"&&!C.hasAttribute("tabindex")&&C.setAttribute("tabindex","0"),!x.code){a.hooks.run("complete",x),P&&P.call(x.element);return}if(a.hooks.run("before-highlight",x),!x.grammar){R(a.util.encode(x.code));return}if(y&&r.Worker){var b=new Worker(a.filename);b.onmessage=function(O){R(O.data)},b.postMessage(JSON.stringify({language:x.language,code:x.code,immediateClose:!0}))}else R(a.highlight(x.code,x.grammar,x.language))},highlight:function(g,y,P){var D={code:g,grammar:y,language:P};if(a.hooks.run("before-tokenize",D),!D.grammar)throw new Error('The language "'+D.language+'" has no grammar.');return D.tokens=a.tokenize(D.code,D.grammar),a.hooks.run("after-tokenize",D),l.stringify(a.util.encode(D.tokens),D.language)},tokenize:function(g,y){var P=y.rest;if(P){for(var D in P)y[D]=P[D];delete y.rest}var M=new h;return p(M,M.head,g),d(g,M,y,M.head,0),A(M)},hooks:{all:{},add:function(g,y){var P=a.hooks.all;P[g]=P[g]||[],P[g].push(y)},run:function(g,y){var P=a.hooks.all[g];if(!(!P||!P.length))for(var D=0,M;M=P[D++];)M(y)}},Token:l};r.Prism=a;function l(g,y,P,D){this.type=g,this.content=y,this.alias=P,this.length=(D||"").length|0}l.stringify=function g(y,P){if(typeof y=="string")return y;if(Array.isArray(y)){var D="";return y.forEach(function(R){D+=g(R,P)}),D}var M={type:y.type,content:g(y.content,P),tag:"span",classes:["token",y.type],attributes:{},language:P},C=y.alias;C&&(Array.isArray(C)?Array.prototype.push.apply(M.classes,C):M.classes.push(C)),a.hooks.run("wrap",M);var I="";for(var x in M.attributes)I+=" "+x+'="'+(M.attributes[x]||"").replace(/"/g,"&quot;")+'"';return"<"+M.tag+' class="'+M.classes.join(" ")+'"'+I+">"+M.content+"</"+M.tag+">"};function c(g,y,P,D){g.lastIndex=y;var M=g.exec(P);if(M&&D&&M[1]){var C=M[1].length;M.index+=C,M[0]=M[0].slice(C)}return M}function d(g,y,P,D,M,C){for(var I in P)if(!(!P.hasOwnProperty(I)||!P[I])){var x=P[I];x=Array.isArray(x)?x:[x];for(var R=0;R<x.length;++R){if(C&&C.cause==I+","+R)return;var b=x[R],O=b.inside,N=!!b.lookbehind,Z=!!b.greedy,ge=b.alias;if(Z&&!b.pattern.global){var ie=b.pattern.toString().match(/[imsuy]*$/)[0];b.pattern=RegExp(b.pattern.source,ie+"g")}for(var oe=b.pattern||b,V=D.next,$=M;V!==y.tail&&!(C&&$>=C.reach);$+=V.value.length,V=V.next){var H=V.value;if(y.length>g.length)return;if(!(H instanceof l)){var te=1,Y;if(Z){if(Y=c(oe,$,g,N),!Y||Y.index>=g.length)break;var Ne=Y.index,pe=Y.index+Y[0].length,Ie=$;for(Ie+=V.value.length;Ne>=Ie;)V=V.next,Ie+=V.value.length;if(Ie-=V.value.length,$=Ie,V.value instanceof l)continue;for(var je=V;je!==y.tail&&(Ie<pe||typeof je.value=="string");je=je.next)te++,Ie+=je.value.length;te--,H=g.slice($,Ie),Y.index-=$}else if(Y=c(oe,0,H,N),!Y)continue;var Ne=Y.index,Se=Y[0],nn=H.slice(0,Ne),Xe=H.slice(Ne+Se.length),Rt=$+H.length;C&&Rt>C.reach&&(C.reach=Rt);var Kt=V.prev;nn&&(Kt=p(y,Kt,nn),$+=nn.length),_(y,Kt,te);var hr=new l(I,O?a.tokenize(Se,O):Se,ge,Se);if(V=p(y,Kt,hr),Xe&&p(y,V,Xe),te>1){var Mt={cause:I+","+R,reach:Rt};d(g,y,P,V.prev,$,Mt),C&&Mt.reach>C.reach&&(C.reach=Mt.reach)}}}}}}function h(){var g={value:null,prev:null,next:null},y={value:null,prev:g,next:null};g.next=y,this.head=g,this.tail=y,this.length=0}function p(g,y,P){var D=y.next,M={value:P,prev:y,next:D};return y.next=M,D.prev=M,g.length++,M}function _(g,y,P){for(var D=y.next,M=0;M<P&&D!==g.tail;M++)D=D.next;y.next=D,D.prev=y,g.length-=M}function A(g){for(var y=[],P=g.head.next;P!==g.tail;)y.push(P.value),P=P.next;return y}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(g){var y=JSON.parse(g.data),P=y.language,D=y.code,M=y.immediateClose;r.postMessage(a.highlight(D,a.languages[P],P)),M&&r.close()},!1)),a;var T=a.util.currentScript();T&&(a.filename=T.src,T.hasAttribute("data-manual")&&(a.manual=!0));function S(){a.manual||a.highlightAll()}if(!a.manual){var E=document.readyState;E==="loading"||E==="interactive"&&T&&T.defer?document.addEventListener("DOMContentLoaded",S):window.requestAnimationFrame?window.requestAnimationFrame(S):window.setTimeout(S,16)}return a}(e);t.exports&&(t.exports=n),typeof yy<"u"&&(yy.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(i,s){var o={};o["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[s]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};a["language-"+s]={pattern:/[\s\S]+/,inside:n.languages[s]};var l={};l[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:a},n.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,i){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:n.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(T,S){return"✖ Error "+T+" while fetching file: "+S},s="✖ Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",c="loaded",d="failed",h="pre[data-src]:not(["+a+'="'+c+'"]):not(['+a+'="'+l+'"])';function p(T,S,E){var g=new XMLHttpRequest;g.open("GET",T,!0),g.onreadystatechange=function(){g.readyState==4&&(g.status<400&&g.responseText?S(g.responseText):g.status>=400?E(i(g.status,g.statusText)):E(s))},g.send(null)}function _(T){var S=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(T||"");if(S){var E=Number(S[1]),g=S[2],y=S[3];return g?y?[E,Number(y)]:[E,void 0]:[E,E]}}n.hooks.add("before-highlightall",function(T){T.selector+=", "+h}),n.hooks.add("before-sanity-check",function(T){var S=T.element;if(S.matches(h)){T.code="",S.setAttribute(a,l);var E=S.appendChild(document.createElement("CODE"));E.textContent=r;var g=S.getAttribute("data-src"),y=T.language;if(y==="none"){var P=(/\.(\w+)$/.exec(g)||[,"none"])[1];y=o[P]||P}n.util.setLanguage(E,y),n.util.setLanguage(S,y);var D=n.plugins.autoloader;D&&D.loadLanguages(y),p(g,function(M){S.setAttribute(a,c);var C=_(S.getAttribute("data-range"));if(C){var I=M.split(/\r\n?|\n/g),x=C[0],R=C[1]==null?I.length:C[1];x<0&&(x+=I.length),x=Math.max(0,Math.min(x-1,I.length)),R<0&&(R+=I.length),R=Math.max(0,Math.min(R,I.length)),M=I.slice(x,R).join(`
`),S.hasAttribute("data-start")||S.setAttribute("data-start",String(x+1))}E.textContent=M,n.highlightElement(E)},function(M){S.setAttribute(a,d),E.textContent=M})}}),n.plugins.fileHighlight={highlight:function(S){for(var E=(S||document).querySelectorAll(h),g=0,y;y=E[g++];)n.highlightElement(y)}};var A=!1;n.fileHighlight=function(){A||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),A=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Dx);var _U=Dx.exports;const wU=qc(_U);Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:Prism.languages[n]};var s={};s[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",s)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const EU=({code:t,language:e="markup",className:n=""})=>{const r=m.useRef(null);return m.useEffect(()=>{r.current&&wU.highlightElement(r.current)},[t,e]),w.jsx("div",{className:`syntax-highlighter ${n}`,children:w.jsx("pre",{className:`language-${e}`,children:w.jsx("code",{ref:r,className:`language-${e}`,children:t})})})},TU=`
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* Custom base styles for snippet previews */
    body { 
      margin: 0; 
      padding: 16px; 
      font-family: system-ui, -apple-system, sans-serif;
      background: white;
    }
    * {
      box-sizing: border-box;
    }
  </style>
`,IU=`
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer><\/script>
`,SU=({htmlContent:t,className:e="",height:n=300})=>{const r=m.useRef(null),[i,s]=m.useState(!0),[o,a]=m.useState(!1);m.useEffect(()=>{if(!(!r.current||!t)){s(!0),a(!1);try{const d=r.current,h=d.contentDocument||d.contentWindow.document,p=`
        <!DOCTYPE html>
        <html lang="en">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Snippet Preview</title>
          ${TU}
        </head>
        <body>
          ${t}
          ${IU}
        </body>
        </html>
      `;h.open(),h.write(p),h.close(),s(!1)}catch(d){console.error("Error rendering snippet preview:",d),a(!0),s(!1)}}},[t]);const l=()=>{s(!1)},c=()=>{a(!0),s(!1)};return t?w.jsxs("div",{className:`snippet-preview ${e}`,children:[w.jsxs("div",{className:"preview-header",children:[w.jsx("span",{className:"preview-label",children:"Live Preview"}),i&&w.jsx("span",{className:"preview-status loading",children:"Loading..."}),o&&w.jsx("span",{className:"preview-status error",children:"Error loading preview"})]}),w.jsx("div",{className:"preview-container",style:{height:n},children:w.jsx("iframe",{ref:r,className:"preview-iframe",title:"HTML Snippet Preview",sandbox:"allow-scripts allow-same-origin",onLoad:l,onError:c})})]}):w.jsx("div",{className:`snippet-preview empty ${e}`,style:{height:n},children:w.jsx("div",{className:"preview-placeholder",children:w.jsx("p",{children:"No HTML content to preview"})})})},CU=({snippet:t,onCopy:e,className:n=""})=>{const[r,i]=m.useState("preview");if(!t)return w.jsx("div",{className:`snippet-detail empty ${n}`,children:w.jsx("div",{className:"snippet-detail-placeholder",children:w.jsx("p",{children:"Snippet not found"})})});const s=c=>{e&&e(c)},o=c=>{console.error("Copy failed in SnippetDetail:",c)},a=xx(t.authorEmail),l=Ax(t.createdAt);return w.jsxs("div",{className:`snippet-detail ${n}`,children:[w.jsxs("div",{className:"snippet-detail-header",children:[w.jsxs("div",{className:"snippet-detail-title-section",children:[w.jsx("h1",{className:"snippet-detail-title",children:t.title}),w.jsxs("div",{className:"snippet-detail-meta",children:[w.jsxs("span",{className:"snippet-detail-author",children:["by ",w.jsx("strong",{children:a})]}),w.jsx("span",{className:"snippet-detail-separator",children:"•"}),w.jsx("span",{className:"snippet-detail-date",children:l})]})]}),w.jsxs("div",{className:"snippet-detail-actions",children:[w.jsx(Nx,{snippetId:t.id,initialVoteCount:t.voteCount||0,className:"snippet-detail-vote-button"}),w.jsx(Rx,{text:t.htmlContent,size:"medium",onCopySuccess:s,onCopyError:o,className:"snippet-detail-copy-button"})]})]}),w.jsxs("div",{className:"snippet-detail-content",children:[w.jsxs("div",{className:"snippet-detail-tabs",children:[w.jsx("button",{className:`tab-button ${r==="preview"?"active":""}`,onClick:()=>i("preview"),children:"Live Preview"}),w.jsx("button",{className:`tab-button ${r==="code"?"active":""}`,onClick:()=>i("code"),children:"HTML Code"})]}),w.jsxs("div",{className:"snippet-detail-tab-content",children:[r==="preview"&&w.jsx("div",{className:"tab-panel",children:w.jsx(SU,{htmlContent:t.htmlContent,height:400,className:"snippet-detail-preview"})}),r==="code"&&w.jsx("div",{className:"tab-panel",children:w.jsx("div",{className:"snippet-detail-code",children:w.jsx(EU,{code:t.htmlContent,language:"markup",className:"snippet-detail-syntax"})})})]})]})]})},AU=(t,e={})=>{const{minLength:n=1,maxLength:r=1/0,required:i=!0}=e,s=[];if(i&&(!t||typeof t!="string"))return s.push("Field is required and must be a string"),{isValid:!1,errors:s};if(!i&&t==null)return{isValid:!0,errors:[]};if(typeof t!="string")return s.push("Field must be a string"),{isValid:!1,errors:s};const o=t.trim();return i&&o.length===0&&s.push("Field cannot be empty"),o.length<n&&s.push(`Field must be at least ${n} characters long`),o.length>r&&s.push(`Field must be ${r} characters or less`),{isValid:s.length===0,errors:s}},xU=t=>{const e=[];return!t||typeof t!="string"?(e.push("HTML content is required and must be a string"),{isValid:!1,errors:e}):(t.trim().length===0&&e.push("HTML content cannot be empty"),[/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,/javascript:/gi,/on\w+\s*=/gi].some(s=>s.test(t))&&e.push("HTML content contains potentially unsafe elements"),{isValid:e.length===0,errors:e})},RU=({onSubmit:t,loading:e=!1,initialData:n=null})=>{const[r,i]=m.useState({title:(n==null?void 0:n.title)||"",htmlContent:(n==null?void 0:n.htmlContent)||""}),[s,o]=m.useState({}),[a,l]=m.useState({}),c=(T,S)=>{let E={isValid:!0,errors:[]};switch(T){case"title":E=AU(S,{minLength:1,maxLength:200,required:!0});break;case"htmlContent":E=xU(S);break}return E},d=T=>{const{name:S,value:E}=T.target;i(g=>({...g,[S]:E})),s[S]&&o(g=>({...g,[S]:[]}))},h=T=>{const{name:S,value:E}=T.target;l(y=>({...y,[S]:!0}));const g=c(S,E);g.isValid||o(y=>({...y,[S]:g.errors}))},p=()=>{const T={};let S=!0;return Object.keys(r).forEach(E=>{const g=c(E,r[E]);g.isValid||(T[E]=g.errors,S=!1)}),o(T),l({title:!0,htmlContent:!0}),S},_=T=>{T.preventDefault(),p()&&t(r)},A=T=>a[T]&&s[T]&&s[T].length>0?s[T][0]:null;return w.jsxs("form",{onSubmit:_,className:"snippet-form",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"title",className:"form-label",children:"Title *"}),w.jsx("input",{type:"text",id:"title",name:"title",value:r.title,onChange:d,onBlur:h,className:`form-input ${A("title")?"error":""}`,placeholder:"Enter a descriptive title for your snippet",disabled:e,maxLength:200}),A("title")&&w.jsx("span",{className:"error-message",children:A("title")}),w.jsxs("div",{className:"character-count",children:[r.title.length,"/200"]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"htmlContent",className:"form-label",children:"HTML Content *"}),w.jsx("textarea",{id:"htmlContent",name:"htmlContent",value:r.htmlContent,onChange:d,onBlur:h,className:`form-textarea ${A("htmlContent")?"error":""}`,placeholder:"Paste your HTML code here...",disabled:e,rows:12}),A("htmlContent")&&w.jsx("span",{className:"error-message",children:A("htmlContent")})]}),w.jsx("div",{className:"form-actions",children:w.jsx(un,{type:"submit",loading:e,loadingText:"Creating...",variant:"primary",size:"medium",children:"Create Snippet"})})]})},Ox=({size:t="medium",color:e="primary",className:n="",text:r="",inline:i=!1})=>{const s=["loading-spinner",`loading-spinner--${t}`,`loading-spinner--${e}`,i?"loading-spinner--inline":"",n].filter(Boolean).join(" "),o=["loading-spinner-container",i?"loading-spinner-container--inline":""].filter(Boolean).join(" ");return w.jsxs("div",{className:o,"data-testid":"loading-spinner",children:[w.jsx("div",{className:s,"aria-label":"Loading",role:"status",children:w.jsx("span",{className:"sr-only",children:"Loading..."})}),r&&w.jsx("div",{className:"loading-spinner-text","data-testid":"loading-text",children:r})]})},un=({loading:t=!1,loadingText:e="Loading...",children:n,disabled:r=!1,variant:i="primary",size:s="medium",className:o="",onClick:a,type:l="button",...c})=>{const d=["loading-button",`loading-button--${i}`,`loading-button--${s}`,t?"loading-button--loading":"",o].filter(Boolean).join(" "),h=r||t,p=()=>i==="secondary"?"secondary":"white";return w.jsx("button",{type:l,className:d,disabled:h,onClick:a,"aria-disabled":h,"data-testid":"loading-button",...c,children:t?w.jsxs("div",{className:"loading-button-content",children:[w.jsx(Ox,{size:"small",color:p(),inline:!0}),w.jsx("span",{children:e})]}):n})},Mx=({count:t=1,variant:e="snippet",className:n=""})=>{const r=Array.from({length:t},(i,s)=>w.jsxs("div",{className:`loading-card loading-card--${e} ${n}`,children:[e==="snippet"&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"loading-card-header",children:[w.jsx("div",{className:"skeleton skeleton--title"}),w.jsx("div",{className:"skeleton skeleton--subtitle"})]}),w.jsx("div",{className:"loading-card-content",children:w.jsx("div",{className:"skeleton skeleton--code-block"})}),w.jsxs("div",{className:"loading-card-footer",children:[w.jsx("div",{className:"skeleton skeleton--author"}),w.jsx("div",{className:"skeleton skeleton--votes"})]})]}),e==="list"&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"skeleton skeleton--list-title"}),w.jsx("div",{className:"skeleton skeleton--list-content"}),w.jsx("div",{className:"skeleton skeleton--list-meta"})]}),e==="detail"&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"loading-card-detail-header",children:[w.jsx("div",{className:"skeleton skeleton--detail-title"}),w.jsx("div",{className:"skeleton skeleton--detail-meta"})]}),w.jsxs("div",{className:"loading-card-detail-content",children:[w.jsx("div",{className:"skeleton skeleton--detail-code"}),w.jsx("div",{className:"skeleton skeleton--detail-preview"})]}),w.jsxs("div",{className:"loading-card-detail-actions",children:[w.jsx("div",{className:"skeleton skeleton--button"}),w.jsx("div",{className:"skeleton skeleton--button"})]})]})]},s));return t===1?r[0]:w.jsx("div",{className:"loading-cards-container",children:r})};function Lx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var PU=["color"],kU=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Lx(t,PU);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),NU=["color"],bU=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Lx(t,NU);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});class yf extends En.Component{constructor(n){super(n);wh(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onRetry&&this.props.onRetry()});wh(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({error:n,errorInfo:r}),this.props.onError&&this.props.onError(n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.handleRetry):w.jsx("div",{className:"error-boundary",children:w.jsx(Ac,{className:"error-boundary-card",children:w.jsxs(Rn,{direction:"column",align:"center",gap:"4",children:[w.jsx(kU,{className:"error-boundary-icon",width:"48",height:"48"}),w.jsx(GI,{size:"6",className:"error-boundary-title",children:"Something went wrong"}),w.jsx(Et,{size:"3",color:"gray",align:"center",className:"error-boundary-message",children:this.props.message||"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),!1,w.jsxs(Rn,{gap:"3",className:"error-boundary-actions",children:[w.jsxs(Xs,{variant:"soft",onClick:this.handleRetry,className:"error-boundary-retry",children:[w.jsx(bU,{width:"16",height:"16"}),"Try Again"]}),w.jsx(Xs,{variant:"outline",onClick:this.handleReload,className:"error-boundary-reload",children:"Reload Page"})]})]})})}):this.props.children}}function DU(){const{user:t,isAuthenticated:e}=li(),n=ri(),r=i=>i==="/"?n.pathname==="/":n.pathname.startsWith(i);return w.jsx("nav",{className:"navigation",children:w.jsxs("div",{className:"navigation__container",children:[w.jsx("div",{className:"navigation__brand",children:w.jsx(cs,{to:"/",className:"navigation__brand-link",children:"HTML Snippets"})}),w.jsxs("div",{className:"navigation__links",children:[w.jsx(cs,{to:"/",className:`navigation__link ${r("/")?"navigation__link--active":""}`,children:"Home"}),w.jsx(cs,{to:"/snippets",className:`navigation__link ${r("/snippets")?"navigation__link--active":""}`,children:"Browse"}),e&&w.jsx(cs,{to:"/create",className:`navigation__link navigation__link--primary ${r("/create")?"navigation__link--active":""}`,children:"Create"})]}),w.jsx("div",{className:"navigation__auth",children:e?w.jsx(uU,{}):w.jsx(cs,{to:"/login",className:"navigation__login-btn",children:"Sign In"})})]})})}function OU({children:t}){return w.jsxs("div",{className:"app-layout",children:[w.jsx(DU,{}),w.jsx("main",{className:"app-layout__main",children:t||w.jsx(bk,{})})]})}function Mn({children:t,className:e="",maxWidth:n="default",padding:r="default"}){const i=["page-container",`page-container--max-width-${n}`,`page-container--padding-${r}`,e].filter(Boolean).join(" ");return w.jsx("div",{className:i,children:t})}const MU=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[i,s]=m.useState(null),{isAuthenticated:o}=li(),a=ii();m.useEffect(()=>{(async()=>{try{r(!0),s(null);const d=await mU(10);e(d)}catch(d){console.error("Error fetching top snippets:",d),s("Failed to load top snippets")}finally{r(!1)}})()},[]);const l=()=>{a(o?"/create":"/login")};return n?w.jsx(Mn,{children:w.jsxs("div",{className:"landing-page",children:[w.jsxs("div",{className:"landing-header",children:[w.jsx("h1",{children:"HTML Snippet Sharing"}),w.jsx("p",{children:"Discover and share HTML code snippets with the community"}),w.jsx(un,{variant:"primary",size:"large",disabled:!0,children:"Create Snippet"})]}),w.jsxs("div",{className:"featured-snippets-section",children:[w.jsx("h2",{children:"Top Snippets"}),w.jsx("div",{className:"snippets-grid",children:w.jsx(Mx,{variant:"snippet",count:6})})]})]})}):w.jsx(Mn,{children:w.jsxs("div",{className:"landing-page",children:[w.jsxs("div",{className:"landing-header",children:[w.jsx("h1",{children:"HTML Snippet Sharing"}),w.jsx("p",{children:"Discover and share HTML code snippets with the community"}),w.jsx(un,{variant:"primary",size:"large",onClick:l,"data-testid":"create-snippet-button",children:"Create Snippet"})]}),w.jsxs("div",{className:"featured-snippets-section",children:[w.jsx("h2",{children:"Top Snippets"}),i&&w.jsx("div",{className:"error-message","data-testid":"error-message",children:i}),t.length===0&&!i?w.jsxs("div",{className:"empty-state","data-testid":"empty-state",children:[w.jsx("h3",{children:"Welcome to HTML Snippet Sharing!"}),w.jsx("p",{children:"Be the first to share an HTML snippet with the community."}),w.jsx(un,{variant:"secondary",size:"medium",onClick:l,children:"Create the First Snippet"})]}):i?null:w.jsx("div",{className:"snippets-grid","data-testid":"snippets-grid",children:t.map(c=>w.jsx(bx,{snippet:c,showVoteCount:!0},c.id))}),t.length>0&&w.jsx("div",{className:"view-all-link",children:w.jsx(cs,{to:"/snippets",className:"link",children:"View All Snippets →"})})]})]})})},_f=12,LU=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[i,s]=m.useState(null),[o,a]=m.useState(1),[l,c]=m.useState(!1),[d,h]=m.useState(null),[p,_]=m.useState(""),A=ii(),T=async(P=1,D=null)=>{try{r(!0),s(null);const M={orderByField:"createdAt",orderDirection:"desc",limitCount:_f+1};D&&P>1&&(M.whereConditions=[{field:"createdAt",operator:"<",value:D}]);const C=await kx(M),I=C.length>_f,x=I?C.slice(0,_f):C;if(e(P===1?x:R=>[...R,...x]),c(I),x.length>0){const R=x[x.length-1];h(R.createdAt)}}catch(M){console.error("Error loading snippets:",M),s("Failed to load snippets. Please try again.")}finally{r(!1)}};m.useEffect(()=>{T(1)},[]);const S=P=>{A(`/snippets/${P.id}`)},E=P=>{_("Code copied to clipboard!"),setTimeout(()=>_(""),3e3)},g=()=>{if(!n&&l&&d){const P=o+1;a(P),T(P,d)}},y=()=>{a(1),e([]),h(null),T(1)};return n&&t.length===0?w.jsx(Mn,{children:w.jsxs("div",{className:"snippet-list-page",children:[w.jsxs("div",{className:"snippet-list-header",children:[w.jsx("h1",{children:"All Snippets"}),w.jsx("p",{children:"Discover HTML code snippets from the community"})]}),w.jsx("div",{className:"snippet-list-loading",children:w.jsx(Ox,{size:"large",text:"Loading snippets..."})})]})}):i&&t.length===0?w.jsx(Mn,{children:w.jsxs("div",{className:"snippet-list-page",children:[w.jsxs("div",{className:"snippet-list-header",children:[w.jsx("h1",{children:"All Snippets"}),w.jsx("p",{children:"Discover HTML code snippets from the community"})]}),w.jsxs("div",{className:"snippet-list-error",children:[w.jsx("div",{className:"error-icon",children:"⚠️"}),w.jsx("h2",{children:"Oops! Something went wrong"}),w.jsx("p",{children:i}),w.jsx("button",{className:"retry-button",onClick:y,children:"Try Again"})]})]})}):w.jsx(Mn,{children:w.jsxs("div",{className:"snippet-list-page",children:[w.jsxs("div",{className:"snippet-list-header",children:[w.jsx("h1",{children:"All Snippets"}),w.jsx("p",{children:"Discover HTML code snippets from the community"})]}),p&&w.jsx("div",{className:"copy-message",children:p}),t.length===0&&!n?w.jsxs("div",{className:"snippet-list-empty",children:[w.jsx("div",{className:"empty-icon",children:"📝"}),w.jsx("h2",{children:"No snippets yet"}),w.jsx("p",{children:"Be the first to share an HTML snippet with the community!"}),w.jsx("button",{className:"create-snippet-button",onClick:()=>A("/create"),children:"Create First Snippet"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"snippet-list-grid",children:t.map(P=>w.jsx(bx,{snippet:P,onClick:S,onCopy:E,className:"snippet-list-card"},P.id))}),l&&w.jsx("div",{className:"snippet-list-pagination",children:w.jsx(un,{onClick:g,loading:n,loadingText:"Loading more...",variant:"primary",size:"medium",children:"Load More Snippets"})}),!l&&t.length>0&&w.jsxs("div",{className:"snippet-list-end",children:[w.jsx("p",{children:"You've reached the end! 🎉"}),w.jsxs("p",{children:[w.jsx("button",{className:"create-snippet-link",onClick:()=>A("/create"),children:"Create a new snippet"})," ","to add more content."]})]})]}),i&&t.length>0&&w.jsxs("div",{className:"snippet-list-error-inline",children:[w.jsx("p",{children:"Failed to load more snippets. "}),w.jsx("button",{className:"retry-link",onClick:g,children:"Try again"})]})]})})},FU=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState(null),{user:i}=li(),s=ii(),o=async l=>{if(!i){r("You must be logged in to create a snippet");return}e(!0),r(null);try{const c=new So({title:l.title.trim(),htmlContent:l.htmlContent.trim(),authorId:i.uid,authorEmail:i.email,voteCount:0,tags:[]}),d=await fU(c);s(`/snippets/${d}`)}catch(c){console.error("Error creating snippet:",c),r(c.message||"Failed to create snippet. Please try again.")}finally{e(!1)}},a=()=>{s(-1)};return w.jsx(Mn,{maxWidth:"narrow",children:w.jsxs("div",{className:"create-snippet-page",children:[w.jsxs("div",{className:"page-header",children:[w.jsx("h1",{children:"Create New Snippet"}),w.jsx("p",{className:"page-description",children:"Share your HTML code with the community. Add a descriptive title and paste your HTML content below."})]}),n&&w.jsx("div",{className:"error-banner",children:w.jsxs("div",{className:"error-content",children:[w.jsx("span",{className:"error-icon",children:"⚠️"}),w.jsx("span",{className:"error-text",children:n}),w.jsx("button",{className:"error-dismiss",onClick:()=>r(null),"aria-label":"Dismiss error",children:"×"})]})}),w.jsxs("div",{className:"form-container",children:[w.jsx(RU,{onSubmit:o,loading:t}),w.jsx("div",{className:"form-footer",children:w.jsx(un,{type:"button",variant:"secondary",onClick:a,disabled:t,children:"Cancel"})})]}),w.jsxs("div",{className:"help-section",children:[w.jsx("h3",{children:"Tips for creating great snippets:"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Use descriptive titles that explain what your snippet does"}),w.jsx("li",{children:"Include complete, working HTML code"}),w.jsx("li",{children:"Test your HTML before sharing to ensure it works correctly"}),w.jsx("li",{children:"Consider adding comments to explain complex parts"})]})]})]})})},VU=()=>{const{id:t}=gk(),e=ii(),[n,r]=m.useState(null),[i,s]=m.useState(!0),[o,a]=m.useState(null);m.useEffect(()=>{(async()=>{if(!t){a("No snippet ID provided"),s(!1);return}try{s(!0),a(null);const h=await pU(t);h?r(h):(a("Snippet not found"),r(null))}catch(h){console.error("Error loading snippet:",h),a("Failed to load snippet. Please try again."),r(null)}finally{s(!1)}})()},[t]);const l=async d=>{try{return await navigator.clipboard.writeText(d),Promise.resolve()}catch(h){return console.error("Failed to copy to clipboard:",h),Promise.reject(h)}},c=()=>{e(-1)};return i?w.jsx(Mn,{children:w.jsx("div",{className:"snippet-detail-page",children:w.jsxs("div",{className:"snippet-detail-container",children:[w.jsx("div",{className:"snippet-detail-navigation",children:w.jsx(un,{variant:"secondary",disabled:!0,children:"← Back"})}),w.jsx(Mx,{variant:"detail"})]})})}):o?w.jsx(Mn,{children:w.jsx("div",{className:"snippet-detail-page",children:w.jsx("div",{className:"snippet-detail-container",children:w.jsxs("div",{className:"snippet-detail-error",children:[w.jsx("h2",{children:"Error"}),w.jsx("p",{children:o}),w.jsxs("div",{className:"error-actions",children:[w.jsx(un,{variant:"secondary",onClick:c,children:"Go Back"}),w.jsx(un,{variant:"primary",onClick:()=>window.location.reload(),children:"Try Again"})]})]})})})}):w.jsx(Mn,{children:w.jsx("div",{className:"snippet-detail-page",children:w.jsxs("div",{className:"snippet-detail-container",children:[w.jsx("div",{className:"snippet-detail-navigation",children:w.jsx(un,{variant:"secondary",onClick:c,children:"← Back"})}),w.jsx(CU,{snippet:n,onCopy:l,className:"snippet-detail-main"})]})})})},jU=()=>{var o,a;const{user:t,loading:e}=li(),n=ii(),i=((a=(o=ri().state)==null?void 0:o.from)==null?void 0:a.pathname)||"/";if(m.useEffect(()=>{t&&!e&&n(i,{replace:!0})},[t,e,n,i]),t)return null;const s=()=>{};return w.jsx(Mn,{maxWidth:"narrow",padding:"spacious",children:w.jsxs(Rn,{direction:"column",gap:"6",align:"center",children:[w.jsxs(Rn,{direction:"column",gap:"2",align:"center",children:[w.jsx(Et,{size:"6",weight:"bold",children:"Welcome to HTML Snippets"}),w.jsx(Et,{size:"4",color:"gray",align:"center",children:"Share and discover HTML code snippets with the community"})]}),w.jsx(aU,{onSuccess:s})]})})};function $U(){return w.jsxs(Ok,{children:[w.jsx(us,{path:"/",element:w.jsx(MU,{})}),w.jsx(us,{path:"/snippets",element:w.jsx(LU,{})}),w.jsx(us,{path:"/snippets/:id",element:w.jsx(VU,{})}),w.jsx(us,{path:"/create",element:w.jsx(lU,{children:w.jsx(FU,{})})}),w.jsx(us,{path:"/login",element:w.jsx(jU,{})})]})}function UU(){return w.jsx(yf,{children:w.jsx($I,{appearance:"light",accentColor:"blue",grayColor:"slate",radius:"medium",scaling:"100%",children:w.jsx(_9,{children:w.jsx(Uk,{children:w.jsx(yf,{message:"Something went wrong with the navigation. Please try refreshing the page.",children:w.jsx(OU,{children:w.jsx(yf,{message:"There was an error loading this page. Please try again.",children:w.jsx($U,{})})})})})})})})}wf.createRoot(document.getElementById("root")).render(w.jsx(En.StrictMode,{children:w.jsx(UU,{})}));
